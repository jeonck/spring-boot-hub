var nj=Object.defineProperty;var sj=(e,t,r)=>t in e?nj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var ke=(e,t,r)=>(sj(e,typeof t!="symbol"?t+"":t,r),r);function aj(e,t){for(var r=0;r<t.length;r++){const i=t[r];if(typeof i!="string"&&!Array.isArray(i)){for(const n in i)if(n!=="default"&&!(n in e)){const s=Object.getOwnPropertyDescriptor(i,n);s&&Object.defineProperty(e,n,s.get?s:{enumerable:!0,get:()=>i[n]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function r(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(n){if(n.ep)return;n.ep=!0;const s=r(n);fetch(n.href,s)}})();var oj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ty(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ry={exports:{}},Kc={},iy={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fo=Symbol.for("react.element"),lj=Symbol.for("react.portal"),cj=Symbol.for("react.fragment"),uj=Symbol.for("react.strict_mode"),dj=Symbol.for("react.profiler"),hj=Symbol.for("react.provider"),pj=Symbol.for("react.context"),fj=Symbol.for("react.forward_ref"),gj=Symbol.for("react.suspense"),mj=Symbol.for("react.memo"),xj=Symbol.for("react.lazy"),rm=Symbol.iterator;function yj(e){return e===null||typeof e!="object"?null:(e=rm&&e[rm]||e["@@iterator"],typeof e=="function"?e:null)}var ny={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sy=Object.assign,ay={};function ws(e,t,r){this.props=e,this.context=t,this.refs=ay,this.updater=r||ny}ws.prototype.isReactComponent={};ws.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ws.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function oy(){}oy.prototype=ws.prototype;function Ip(e,t,r){this.props=e,this.context=t,this.refs=ay,this.updater=r||ny}var $p=Ip.prototype=new oy;$p.constructor=Ip;sy($p,ws.prototype);$p.isPureReactComponent=!0;var im=Array.isArray,ly=Object.prototype.hasOwnProperty,Fp={current:null},cy={key:!0,ref:!0,__self:!0,__source:!0};function uy(e,t,r){var i,n={},s=null,o=null;if(t!=null)for(i in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)ly.call(t,i)&&!cy.hasOwnProperty(i)&&(n[i]=t[i]);var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];n.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps,l)n[i]===void 0&&(n[i]=l[i]);return{$$typeof:fo,type:e,key:s,ref:o,props:n,_owner:Fp.current}}function vj(e,t){return{$$typeof:fo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Up(e){return typeof e=="object"&&e!==null&&e.$$typeof===fo}function bj(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var nm=/\/+/g;function Qu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?bj(""+e.key):t.toString(36)}function gl(e,t,r,i,n){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case fo:case lj:o=!0}}if(o)return o=e,n=n(o),e=i===""?"."+Qu(o,0):i,im(n)?(r="",e!=null&&(r=e.replace(nm,"$&/")+"/"),gl(n,t,r,"",function(u){return u})):n!=null&&(Up(n)&&(n=vj(n,r+(!n.key||o&&o.key===n.key?"":(""+n.key).replace(nm,"$&/")+"/")+e)),t.push(n)),1;if(o=0,i=i===""?".":i+":",im(e))for(var l=0;l<e.length;l++){s=e[l];var c=i+Qu(s,l);o+=gl(s,t,r,c,n)}else if(c=yj(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=i+Qu(s,l++),o+=gl(s,t,r,c,n);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Oo(e,t,r){if(e==null)return e;var i=[],n=0;return gl(e,i,"","",function(s){return t.call(r,s,n++)}),i}function Sj(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Rt={current:null},ml={transition:null},Cj={ReactCurrentDispatcher:Rt,ReactCurrentBatchConfig:ml,ReactCurrentOwner:Fp};function dy(){throw Error("act(...) is not supported in production builds of React.")}ge.Children={map:Oo,forEach:function(e,t,r){Oo(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Oo(e,function(){t++}),t},toArray:function(e){return Oo(e,function(t){return t})||[]},only:function(e){if(!Up(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ge.Component=ws;ge.Fragment=cj;ge.Profiler=dj;ge.PureComponent=Ip;ge.StrictMode=uj;ge.Suspense=gj;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cj;ge.act=dy;ge.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=sy({},e.props),n=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Fp.current),t.key!==void 0&&(n=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)ly.call(t,c)&&!cy.hasOwnProperty(c)&&(i[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:fo,type:e.type,key:n,ref:s,props:i,_owner:o}};ge.createContext=function(e){return e={$$typeof:pj,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:hj,_context:e},e.Consumer=e};ge.createElement=uy;ge.createFactory=function(e){var t=uy.bind(null,e);return t.type=e,t};ge.createRef=function(){return{current:null}};ge.forwardRef=function(e){return{$$typeof:fj,render:e}};ge.isValidElement=Up;ge.lazy=function(e){return{$$typeof:xj,_payload:{_status:-1,_result:e},_init:Sj}};ge.memo=function(e,t){return{$$typeof:mj,type:e,compare:t===void 0?null:t}};ge.startTransition=function(e){var t=ml.transition;ml.transition={};try{e()}finally{ml.transition=t}};ge.unstable_act=dy;ge.useCallback=function(e,t){return Rt.current.useCallback(e,t)};ge.useContext=function(e){return Rt.current.useContext(e)};ge.useDebugValue=function(){};ge.useDeferredValue=function(e){return Rt.current.useDeferredValue(e)};ge.useEffect=function(e,t){return Rt.current.useEffect(e,t)};ge.useId=function(){return Rt.current.useId()};ge.useImperativeHandle=function(e,t,r){return Rt.current.useImperativeHandle(e,t,r)};ge.useInsertionEffect=function(e,t){return Rt.current.useInsertionEffect(e,t)};ge.useLayoutEffect=function(e,t){return Rt.current.useLayoutEffect(e,t)};ge.useMemo=function(e,t){return Rt.current.useMemo(e,t)};ge.useReducer=function(e,t,r){return Rt.current.useReducer(e,t,r)};ge.useRef=function(e){return Rt.current.useRef(e)};ge.useState=function(e){return Rt.current.useState(e)};ge.useSyncExternalStore=function(e,t,r){return Rt.current.useSyncExternalStore(e,t,r)};ge.useTransition=function(){return Rt.current.useTransition()};ge.version="18.3.1";iy.exports=ge;var V=iy.exports;const hy=ty(V),wj=aj({__proto__:null,default:hy},[V]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kj=V,jj=Symbol.for("react.element"),_j=Symbol.for("react.fragment"),Nj=Object.prototype.hasOwnProperty,Tj=kj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ej={key:!0,ref:!0,__self:!0,__source:!0};function py(e,t,r){var i,n={},s=null,o=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(i in t)Nj.call(t,i)&&!Ej.hasOwnProperty(i)&&(n[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)n[i]===void 0&&(n[i]=t[i]);return{$$typeof:jj,type:e,key:s,ref:o,props:n,_owner:Tj.current}}Kc.Fragment=_j;Kc.jsx=py;Kc.jsxs=py;ry.exports=Kc;var a=ry.exports,Hd={},fy={exports:{}},Qt={},gy={exports:{}},my={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(_,D){var F=_.length;_.push(D);e:for(;0<F;){var q=F-1>>>1,se=_[q];if(0<n(se,D))_[q]=D,_[F]=se,F=q;else break e}}function r(_){return _.length===0?null:_[0]}function i(_){if(_.length===0)return null;var D=_[0],F=_.pop();if(F!==D){_[0]=F;e:for(var q=0,se=_.length,le=se>>>1;q<le;){var me=2*(q+1)-1,de=_[me],ce=me+1,he=_[ce];if(0>n(de,F))ce<se&&0>n(he,de)?(_[q]=he,_[ce]=F,q=ce):(_[q]=de,_[me]=F,q=me);else if(ce<se&&0>n(he,F))_[q]=he,_[ce]=F,q=ce;else break e}}return D}function n(_,D){var F=_.sortIndex-D.sortIndex;return F!==0?F:_.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,p=3,f=!1,g=!1,m=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(_){for(var D=r(u);D!==null;){if(D.callback===null)i(u);else if(D.startTime<=_)i(u),D.sortIndex=D.expirationTime,t(c,D);else break;D=r(u)}}function w(_){if(m=!1,S(_),!g)if(r(c)!==null)g=!0,A(k);else{var D=r(u);D!==null&&B(w,D.startTime-_)}}function k(_,D){g=!1,m&&(m=!1,y(E),E=-1),f=!0;var F=p;try{for(S(D),h=r(c);h!==null&&(!(h.expirationTime>D)||_&&!L());){var q=h.callback;if(typeof q=="function"){h.callback=null,p=h.priorityLevel;var se=q(h.expirationTime<=D);D=e.unstable_now(),typeof se=="function"?h.callback=se:h===r(c)&&i(c),S(D)}else i(c);h=r(c)}if(h!==null)var le=!0;else{var me=r(u);me!==null&&B(w,me.startTime-D),le=!1}return le}finally{h=null,p=F,f=!1}}var C=!1,j=null,E=-1,O=5,M=-1;function L(){return!(e.unstable_now()-M<O)}function H(){if(j!==null){var _=e.unstable_now();M=_;var D=!0;try{D=j(!0,_)}finally{D?$():(C=!1,j=null)}}else C=!1}var $;if(typeof v=="function")$=function(){v(H)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,R=P.port2;P.port1.onmessage=H,$=function(){R.postMessage(null)}}else $=function(){b(H,0)};function A(_){j=_,C||(C=!0,$())}function B(_,D){E=b(function(){_(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(_){_.callback=null},e.unstable_continueExecution=function(){g||f||(g=!0,A(k))},e.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<_?Math.floor(1e3/_):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(_){switch(p){case 1:case 2:case 3:var D=3;break;default:D=p}var F=p;p=D;try{return _()}finally{p=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(_,D){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var F=p;p=_;try{return D()}finally{p=F}},e.unstable_scheduleCallback=function(_,D,F){var q=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?q+F:q):F=q,_){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=F+se,_={id:d++,callback:D,priorityLevel:_,startTime:F,expirationTime:se,sortIndex:-1},F>q?(_.sortIndex=F,t(u,_),r(c)===null&&_===r(u)&&(m?(y(E),E=-1):m=!0,B(w,F-q))):(_.sortIndex=se,t(c,_),g||f||(g=!0,A(k))),_},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(_){var D=p;return function(){var F=p;p=D;try{return _.apply(this,arguments)}finally{p=F}}}})(my);gy.exports=my;var Aj=gy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rj=V,Yt=Aj;function U(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xy=new Set,Na={};function vn(e,t){as(e,t),as(e+"Capture",t)}function as(e,t){for(Na[e]=t,e=0;e<t.length;e++)xy.add(t[e])}var ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wd=Object.prototype.hasOwnProperty,Lj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sm={},am={};function Pj(e){return Wd.call(am,e)?!0:Wd.call(sm,e)?!1:Lj.test(e)?am[e]=!0:(sm[e]=!0,!1)}function Mj(e,t,r,i){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Bj(e,t,r,i){if(t===null||typeof t>"u"||Mj(e,t,r,i))return!0;if(i)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Lt(e,t,r,i,n,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=n,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var ct={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ct[e]=new Lt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ct[t]=new Lt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ct[e]=new Lt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ct[e]=new Lt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ct[e]=new Lt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ct[e]=new Lt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ct[e]=new Lt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ct[e]=new Lt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ct[e]=new Lt(e,5,!1,e.toLowerCase(),null,!1,!1)});var zp=/[\-:]([a-z])/g;function qp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(zp,qp);ct[t]=new Lt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(zp,qp);ct[t]=new Lt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(zp,qp);ct[t]=new Lt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ct[e]=new Lt(e,1,!1,e.toLowerCase(),null,!1,!1)});ct.xlinkHref=new Lt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ct[e]=new Lt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Hp(e,t,r,i){var n=ct.hasOwnProperty(t)?ct[t]:null;(n!==null?n.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Bj(t,r,n,i)&&(r=null),i||n===null?Pj(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):n.mustUseProperty?e[n.propertyName]=r===null?n.type===3?!1:"":r:(t=n.attributeName,i=n.attributeNamespace,r===null?e.removeAttribute(t):(n=n.type,r=n===3||n===4&&r===!0?"":""+r,i?e.setAttributeNS(i,t,r):e.setAttribute(t,r))))}var oi=Rj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Io=Symbol.for("react.element"),$n=Symbol.for("react.portal"),Fn=Symbol.for("react.fragment"),Wp=Symbol.for("react.strict_mode"),Gd=Symbol.for("react.profiler"),yy=Symbol.for("react.provider"),vy=Symbol.for("react.context"),Gp=Symbol.for("react.forward_ref"),Vd=Symbol.for("react.suspense"),Yd=Symbol.for("react.suspense_list"),Vp=Symbol.for("react.memo"),di=Symbol.for("react.lazy"),by=Symbol.for("react.offscreen"),om=Symbol.iterator;function Bs(e){return e===null||typeof e!="object"?null:(e=om&&e[om]||e["@@iterator"],typeof e=="function"?e:null)}var Ie=Object.assign,Ku;function ea(e){if(Ku===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ku=t&&t[1]||""}return`
`+Ku+e}var Ju=!1;function Zu(e,t){if(!e||Ju)return"";Ju=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var i=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){i=u}e.call(t.prototype)}else{try{throw Error()}catch(u){i=u}e()}}catch(u){if(u&&i&&typeof u.stack=="string"){for(var n=u.stack.split(`
`),s=i.stack.split(`
`),o=n.length-1,l=s.length-1;1<=o&&0<=l&&n[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(n[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||n[o]!==s[l]){var c=`
`+n[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Ju=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ea(e):""}function Dj(e){switch(e.tag){case 5:return ea(e.type);case 16:return ea("Lazy");case 13:return ea("Suspense");case 19:return ea("SuspenseList");case 0:case 2:case 15:return e=Zu(e.type,!1),e;case 11:return e=Zu(e.type.render,!1),e;case 1:return e=Zu(e.type,!0),e;default:return""}}function Xd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Fn:return"Fragment";case $n:return"Portal";case Gd:return"Profiler";case Wp:return"StrictMode";case Vd:return"Suspense";case Yd:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case vy:return(e.displayName||"Context")+".Consumer";case yy:return(e._context.displayName||"Context")+".Provider";case Gp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Vp:return t=e.displayName||null,t!==null?t:Xd(e.type)||"Memo";case di:t=e._payload,e=e._init;try{return Xd(e(t))}catch{}}return null}function Oj(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xd(t);case 8:return t===Wp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ai(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Sy(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ij(e){var t=Sy(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var n=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function $o(e){e._valueTracker||(e._valueTracker=Ij(e))}function Cy(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),i="";return e&&(i=Sy(e)?e.checked?"true":"false":e.value),e=i,e!==r?(t.setValue(e),!0):!1}function ql(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Qd(e,t){var r=t.checked;return Ie({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function lm(e,t){var r=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;r=Ai(t.value!=null?t.value:r),e._wrapperState={initialChecked:i,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function wy(e,t){t=t.checked,t!=null&&Hp(e,"checked",t,!1)}function Kd(e,t){wy(e,t);var r=Ai(t.value),i=t.type;if(r!=null)i==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Jd(e,t.type,r):t.hasOwnProperty("defaultValue")&&Jd(e,t.type,Ai(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function cm(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Jd(e,t,r){(t!=="number"||ql(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ta=Array.isArray;function Jn(e,t,r,i){if(e=e.options,t){t={};for(var n=0;n<r.length;n++)t["$"+r[n]]=!0;for(r=0;r<e.length;r++)n=t.hasOwnProperty("$"+e[r].value),e[r].selected!==n&&(e[r].selected=n),n&&i&&(e[r].defaultSelected=!0)}else{for(r=""+Ai(r),t=null,n=0;n<e.length;n++){if(e[n].value===r){e[n].selected=!0,i&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function Zd(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(U(91));return Ie({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function um(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(U(92));if(ta(r)){if(1<r.length)throw Error(U(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ai(r)}}function ky(e,t){var r=Ai(t.value),i=Ai(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),i!=null&&(e.defaultValue=""+i)}function dm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function jy(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function eh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?jy(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Fo,_y=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,i,n){MSApp.execUnsafeLocalFunction(function(){return e(t,r,i,n)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Fo=Fo||document.createElement("div"),Fo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Fo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ta(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ha={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$j=["Webkit","ms","Moz","O"];Object.keys(ha).forEach(function(e){$j.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ha[t]=ha[e]})});function Ny(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ha.hasOwnProperty(e)&&ha[e]?(""+t).trim():t+"px"}function Ty(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var i=r.indexOf("--")===0,n=Ny(r,t[r],i);r==="float"&&(r="cssFloat"),i?e.setProperty(r,n):e[r]=n}}var Fj=Ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function th(e,t){if(t){if(Fj[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(U(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(U(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(U(61))}if(t.style!=null&&typeof t.style!="object")throw Error(U(62))}}function rh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ih=null;function Yp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var nh=null,Zn=null,es=null;function hm(e){if(e=xo(e)){if(typeof nh!="function")throw Error(U(280));var t=e.stateNode;t&&(t=ru(t),nh(e.stateNode,e.type,t))}}function Ey(e){Zn?es?es.push(e):es=[e]:Zn=e}function Ay(){if(Zn){var e=Zn,t=es;if(es=Zn=null,hm(e),t)for(e=0;e<t.length;e++)hm(t[e])}}function Ry(e,t){return e(t)}function Ly(){}var ed=!1;function Py(e,t,r){if(ed)return e(t,r);ed=!0;try{return Ry(e,t,r)}finally{ed=!1,(Zn!==null||es!==null)&&(Ly(),Ay())}}function Ea(e,t){var r=e.stateNode;if(r===null)return null;var i=ru(r);if(i===null)return null;r=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(U(231,t,typeof r));return r}var sh=!1;if(ti)try{var Ds={};Object.defineProperty(Ds,"passive",{get:function(){sh=!0}}),window.addEventListener("test",Ds,Ds),window.removeEventListener("test",Ds,Ds)}catch{sh=!1}function Uj(e,t,r,i,n,s,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var pa=!1,Hl=null,Wl=!1,ah=null,zj={onError:function(e){pa=!0,Hl=e}};function qj(e,t,r,i,n,s,o,l,c){pa=!1,Hl=null,Uj.apply(zj,arguments)}function Hj(e,t,r,i,n,s,o,l,c){if(qj.apply(this,arguments),pa){if(pa){var u=Hl;pa=!1,Hl=null}else throw Error(U(198));Wl||(Wl=!0,ah=u)}}function bn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function My(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function pm(e){if(bn(e)!==e)throw Error(U(188))}function Wj(e){var t=e.alternate;if(!t){if(t=bn(e),t===null)throw Error(U(188));return t!==e?null:e}for(var r=e,i=t;;){var n=r.return;if(n===null)break;var s=n.alternate;if(s===null){if(i=n.return,i!==null){r=i;continue}break}if(n.child===s.child){for(s=n.child;s;){if(s===r)return pm(n),e;if(s===i)return pm(n),t;s=s.sibling}throw Error(U(188))}if(r.return!==i.return)r=n,i=s;else{for(var o=!1,l=n.child;l;){if(l===r){o=!0,r=n,i=s;break}if(l===i){o=!0,i=n,r=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===r){o=!0,r=s,i=n;break}if(l===i){o=!0,i=s,r=n;break}l=l.sibling}if(!o)throw Error(U(189))}}if(r.alternate!==i)throw Error(U(190))}if(r.tag!==3)throw Error(U(188));return r.stateNode.current===r?e:t}function By(e){return e=Wj(e),e!==null?Dy(e):null}function Dy(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Dy(e);if(t!==null)return t;e=e.sibling}return null}var Oy=Yt.unstable_scheduleCallback,fm=Yt.unstable_cancelCallback,Gj=Yt.unstable_shouldYield,Vj=Yt.unstable_requestPaint,Fe=Yt.unstable_now,Yj=Yt.unstable_getCurrentPriorityLevel,Xp=Yt.unstable_ImmediatePriority,Iy=Yt.unstable_UserBlockingPriority,Gl=Yt.unstable_NormalPriority,Xj=Yt.unstable_LowPriority,$y=Yt.unstable_IdlePriority,Jc=null,Rr=null;function Qj(e){if(Rr&&typeof Rr.onCommitFiberRoot=="function")try{Rr.onCommitFiberRoot(Jc,e,void 0,(e.current.flags&128)===128)}catch{}}var mr=Math.clz32?Math.clz32:Zj,Kj=Math.log,Jj=Math.LN2;function Zj(e){return e>>>=0,e===0?32:31-(Kj(e)/Jj|0)|0}var Uo=64,zo=4194304;function ra(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Vl(e,t){var r=e.pendingLanes;if(r===0)return 0;var i=0,n=e.suspendedLanes,s=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~n;l!==0?i=ra(l):(s&=o,s!==0&&(i=ra(s)))}else o=r&~n,o!==0?i=ra(o):s!==0&&(i=ra(s));if(i===0)return 0;if(t!==0&&t!==i&&!(t&n)&&(n=i&-i,s=t&-t,n>=s||n===16&&(s&4194240)!==0))return t;if(i&4&&(i|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)r=31-mr(t),n=1<<r,i|=e[r],t&=~n;return i}function e_(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function t_(e,t){for(var r=e.suspendedLanes,i=e.pingedLanes,n=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-mr(s),l=1<<o,c=n[o];c===-1?(!(l&r)||l&i)&&(n[o]=e_(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function oh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Fy(){var e=Uo;return Uo<<=1,!(Uo&4194240)&&(Uo=64),e}function td(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function go(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-mr(t),e[t]=r}function r_(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<r;){var n=31-mr(r),s=1<<n;t[n]=0,i[n]=-1,e[n]=-1,r&=~s}}function Qp(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var i=31-mr(r),n=1<<i;n&t|e[i]&t&&(e[i]|=t),r&=~n}}var we=0;function Uy(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var zy,Kp,qy,Hy,Wy,lh=!1,qo=[],bi=null,Si=null,Ci=null,Aa=new Map,Ra=new Map,fi=[],i_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gm(e,t){switch(e){case"focusin":case"focusout":bi=null;break;case"dragenter":case"dragleave":Si=null;break;case"mouseover":case"mouseout":Ci=null;break;case"pointerover":case"pointerout":Aa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ra.delete(t.pointerId)}}function Os(e,t,r,i,n,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:i,nativeEvent:s,targetContainers:[n]},t!==null&&(t=xo(t),t!==null&&Kp(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function n_(e,t,r,i,n){switch(t){case"focusin":return bi=Os(bi,e,t,r,i,n),!0;case"dragenter":return Si=Os(Si,e,t,r,i,n),!0;case"mouseover":return Ci=Os(Ci,e,t,r,i,n),!0;case"pointerover":var s=n.pointerId;return Aa.set(s,Os(Aa.get(s)||null,e,t,r,i,n)),!0;case"gotpointercapture":return s=n.pointerId,Ra.set(s,Os(Ra.get(s)||null,e,t,r,i,n)),!0}return!1}function Gy(e){var t=Qi(e.target);if(t!==null){var r=bn(t);if(r!==null){if(t=r.tag,t===13){if(t=My(r),t!==null){e.blockedOn=t,Wy(e.priority,function(){qy(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=ch(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var i=new r.constructor(r.type,r);ih=i,r.target.dispatchEvent(i),ih=null}else return t=xo(r),t!==null&&Kp(t),e.blockedOn=r,!1;t.shift()}return!0}function mm(e,t,r){xl(e)&&r.delete(t)}function s_(){lh=!1,bi!==null&&xl(bi)&&(bi=null),Si!==null&&xl(Si)&&(Si=null),Ci!==null&&xl(Ci)&&(Ci=null),Aa.forEach(mm),Ra.forEach(mm)}function Is(e,t){e.blockedOn===t&&(e.blockedOn=null,lh||(lh=!0,Yt.unstable_scheduleCallback(Yt.unstable_NormalPriority,s_)))}function La(e){function t(n){return Is(n,e)}if(0<qo.length){Is(qo[0],e);for(var r=1;r<qo.length;r++){var i=qo[r];i.blockedOn===e&&(i.blockedOn=null)}}for(bi!==null&&Is(bi,e),Si!==null&&Is(Si,e),Ci!==null&&Is(Ci,e),Aa.forEach(t),Ra.forEach(t),r=0;r<fi.length;r++)i=fi[r],i.blockedOn===e&&(i.blockedOn=null);for(;0<fi.length&&(r=fi[0],r.blockedOn===null);)Gy(r),r.blockedOn===null&&fi.shift()}var ts=oi.ReactCurrentBatchConfig,Yl=!0;function a_(e,t,r,i){var n=we,s=ts.transition;ts.transition=null;try{we=1,Jp(e,t,r,i)}finally{we=n,ts.transition=s}}function o_(e,t,r,i){var n=we,s=ts.transition;ts.transition=null;try{we=4,Jp(e,t,r,i)}finally{we=n,ts.transition=s}}function Jp(e,t,r,i){if(Yl){var n=ch(e,t,r,i);if(n===null)dd(e,t,i,Xl,r),gm(e,i);else if(n_(n,e,t,r,i))i.stopPropagation();else if(gm(e,i),t&4&&-1<i_.indexOf(e)){for(;n!==null;){var s=xo(n);if(s!==null&&zy(s),s=ch(e,t,r,i),s===null&&dd(e,t,i,Xl,r),s===n)break;n=s}n!==null&&i.stopPropagation()}else dd(e,t,i,null,r)}}var Xl=null;function ch(e,t,r,i){if(Xl=null,e=Yp(i),e=Qi(e),e!==null)if(t=bn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=My(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xl=e,null}function Vy(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Yj()){case Xp:return 1;case Iy:return 4;case Gl:case Xj:return 16;case $y:return 536870912;default:return 16}default:return 16}}var mi=null,Zp=null,yl=null;function Yy(){if(yl)return yl;var e,t=Zp,r=t.length,i,n="value"in mi?mi.value:mi.textContent,s=n.length;for(e=0;e<r&&t[e]===n[e];e++);var o=r-e;for(i=1;i<=o&&t[r-i]===n[s-i];i++);return yl=n.slice(e,1<i?1-i:void 0)}function vl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ho(){return!0}function xm(){return!1}function Kt(e){function t(r,i,n,s,o){this._reactName=r,this._targetInst=n,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ho:xm,this.isPropagationStopped=xm,this}return Ie(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ho)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ho)},persist:function(){},isPersistent:Ho}),t}var ks={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ef=Kt(ks),mo=Ie({},ks,{view:0,detail:0}),l_=Kt(mo),rd,id,$s,Zc=Ie({},mo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$s&&($s&&e.type==="mousemove"?(rd=e.screenX-$s.screenX,id=e.screenY-$s.screenY):id=rd=0,$s=e),rd)},movementY:function(e){return"movementY"in e?e.movementY:id}}),ym=Kt(Zc),c_=Ie({},Zc,{dataTransfer:0}),u_=Kt(c_),d_=Ie({},mo,{relatedTarget:0}),nd=Kt(d_),h_=Ie({},ks,{animationName:0,elapsedTime:0,pseudoElement:0}),p_=Kt(h_),f_=Ie({},ks,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),g_=Kt(f_),m_=Ie({},ks,{data:0}),vm=Kt(m_),x_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},y_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},v_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function b_(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=v_[e])?!!t[e]:!1}function tf(){return b_}var S_=Ie({},mo,{key:function(e){if(e.key){var t=x_[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=vl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?y_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tf,charCode:function(e){return e.type==="keypress"?vl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),C_=Kt(S_),w_=Ie({},Zc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bm=Kt(w_),k_=Ie({},mo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tf}),j_=Kt(k_),__=Ie({},ks,{propertyName:0,elapsedTime:0,pseudoElement:0}),N_=Kt(__),T_=Ie({},Zc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),E_=Kt(T_),A_=[9,13,27,32],rf=ti&&"CompositionEvent"in window,fa=null;ti&&"documentMode"in document&&(fa=document.documentMode);var R_=ti&&"TextEvent"in window&&!fa,Xy=ti&&(!rf||fa&&8<fa&&11>=fa),Sm=String.fromCharCode(32),Cm=!1;function Qy(e,t){switch(e){case"keyup":return A_.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ky(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Un=!1;function L_(e,t){switch(e){case"compositionend":return Ky(t);case"keypress":return t.which!==32?null:(Cm=!0,Sm);case"textInput":return e=t.data,e===Sm&&Cm?null:e;default:return null}}function P_(e,t){if(Un)return e==="compositionend"||!rf&&Qy(e,t)?(e=Yy(),yl=Zp=mi=null,Un=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Xy&&t.locale!=="ko"?null:t.data;default:return null}}var M_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!M_[e.type]:t==="textarea"}function Jy(e,t,r,i){Ey(i),t=Ql(t,"onChange"),0<t.length&&(r=new ef("onChange","change",null,r,i),e.push({event:r,listeners:t}))}var ga=null,Pa=null;function B_(e){cv(e,0)}function eu(e){var t=Hn(e);if(Cy(t))return e}function D_(e,t){if(e==="change")return t}var Zy=!1;if(ti){var sd;if(ti){var ad="oninput"in document;if(!ad){var km=document.createElement("div");km.setAttribute("oninput","return;"),ad=typeof km.oninput=="function"}sd=ad}else sd=!1;Zy=sd&&(!document.documentMode||9<document.documentMode)}function jm(){ga&&(ga.detachEvent("onpropertychange",ev),Pa=ga=null)}function ev(e){if(e.propertyName==="value"&&eu(Pa)){var t=[];Jy(t,Pa,e,Yp(e)),Py(B_,t)}}function O_(e,t,r){e==="focusin"?(jm(),ga=t,Pa=r,ga.attachEvent("onpropertychange",ev)):e==="focusout"&&jm()}function I_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return eu(Pa)}function $_(e,t){if(e==="click")return eu(t)}function F_(e,t){if(e==="input"||e==="change")return eu(t)}function U_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var br=typeof Object.is=="function"?Object.is:U_;function Ma(e,t){if(br(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var n=r[i];if(!Wd.call(t,n)||!br(e[n],t[n]))return!1}return!0}function _m(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Nm(e,t){var r=_m(e);e=0;for(var i;r;){if(r.nodeType===3){if(i=e+r.textContent.length,e<=t&&i>=t)return{node:r,offset:t-e};e=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=_m(r)}}function tv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?tv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function rv(){for(var e=window,t=ql();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ql(e.document)}return t}function nf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function z_(e){var t=rv(),r=e.focusedElem,i=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&tv(r.ownerDocument.documentElement,r)){if(i!==null&&nf(r)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var n=r.textContent.length,s=Math.min(i.start,n);i=i.end===void 0?s:Math.min(i.end,n),!e.extend&&s>i&&(n=i,i=s,s=n),n=Nm(r,s);var o=Nm(r,i);n&&o&&(e.rangeCount!==1||e.anchorNode!==n.node||e.anchorOffset!==n.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(n.node,n.offset),e.removeAllRanges(),s>i?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var q_=ti&&"documentMode"in document&&11>=document.documentMode,zn=null,uh=null,ma=null,dh=!1;function Tm(e,t,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;dh||zn==null||zn!==ql(i)||(i=zn,"selectionStart"in i&&nf(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),ma&&Ma(ma,i)||(ma=i,i=Ql(uh,"onSelect"),0<i.length&&(t=new ef("onSelect","select",null,t,r),e.push({event:t,listeners:i}),t.target=zn)))}function Wo(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var qn={animationend:Wo("Animation","AnimationEnd"),animationiteration:Wo("Animation","AnimationIteration"),animationstart:Wo("Animation","AnimationStart"),transitionend:Wo("Transition","TransitionEnd")},od={},iv={};ti&&(iv=document.createElement("div").style,"AnimationEvent"in window||(delete qn.animationend.animation,delete qn.animationiteration.animation,delete qn.animationstart.animation),"TransitionEvent"in window||delete qn.transitionend.transition);function tu(e){if(od[e])return od[e];if(!qn[e])return e;var t=qn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in iv)return od[e]=t[r];return e}var nv=tu("animationend"),sv=tu("animationiteration"),av=tu("animationstart"),ov=tu("transitionend"),lv=new Map,Em="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Di(e,t){lv.set(e,t),vn(t,[e])}for(var ld=0;ld<Em.length;ld++){var cd=Em[ld],H_=cd.toLowerCase(),W_=cd[0].toUpperCase()+cd.slice(1);Di(H_,"on"+W_)}Di(nv,"onAnimationEnd");Di(sv,"onAnimationIteration");Di(av,"onAnimationStart");Di("dblclick","onDoubleClick");Di("focusin","onFocus");Di("focusout","onBlur");Di(ov,"onTransitionEnd");as("onMouseEnter",["mouseout","mouseover"]);as("onMouseLeave",["mouseout","mouseover"]);as("onPointerEnter",["pointerout","pointerover"]);as("onPointerLeave",["pointerout","pointerover"]);vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vn("onBeforeInput",["compositionend","keypress","textInput","paste"]);vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ia="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),G_=new Set("cancel close invalid load scroll toggle".split(" ").concat(ia));function Am(e,t,r){var i=e.type||"unknown-event";e.currentTarget=r,Hj(i,t,void 0,e),e.currentTarget=null}function cv(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var i=e[r],n=i.event;i=i.listeners;e:{var s=void 0;if(t)for(var o=i.length-1;0<=o;o--){var l=i[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&n.isPropagationStopped())break e;Am(n,l,u),s=c}else for(o=0;o<i.length;o++){if(l=i[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&n.isPropagationStopped())break e;Am(n,l,u),s=c}}}if(Wl)throw e=ah,Wl=!1,ah=null,e}function Te(e,t){var r=t[mh];r===void 0&&(r=t[mh]=new Set);var i=e+"__bubble";r.has(i)||(uv(t,e,2,!1),r.add(i))}function ud(e,t,r){var i=0;t&&(i|=4),uv(r,e,i,t)}var Go="_reactListening"+Math.random().toString(36).slice(2);function Ba(e){if(!e[Go]){e[Go]=!0,xy.forEach(function(r){r!=="selectionchange"&&(G_.has(r)||ud(r,!1,e),ud(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Go]||(t[Go]=!0,ud("selectionchange",!1,t))}}function uv(e,t,r,i){switch(Vy(t)){case 1:var n=a_;break;case 4:n=o_;break;default:n=Jp}r=n.bind(null,t,r,e),n=void 0,!sh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),i?n!==void 0?e.addEventListener(t,r,{capture:!0,passive:n}):e.addEventListener(t,r,!0):n!==void 0?e.addEventListener(t,r,{passive:n}):e.addEventListener(t,r,!1)}function dd(e,t,r,i,n){var s=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var l=i.stateNode.containerInfo;if(l===n||l.nodeType===8&&l.parentNode===n)break;if(o===4)for(o=i.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===n||c.nodeType===8&&c.parentNode===n))return;o=o.return}for(;l!==null;){if(o=Qi(l),o===null)return;if(c=o.tag,c===5||c===6){i=s=o;continue e}l=l.parentNode}}i=i.return}Py(function(){var u=s,d=Yp(r),h=[];e:{var p=lv.get(e);if(p!==void 0){var f=ef,g=e;switch(e){case"keypress":if(vl(r)===0)break e;case"keydown":case"keyup":f=C_;break;case"focusin":g="focus",f=nd;break;case"focusout":g="blur",f=nd;break;case"beforeblur":case"afterblur":f=nd;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=ym;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=u_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=j_;break;case nv:case sv:case av:f=p_;break;case ov:f=N_;break;case"scroll":f=l_;break;case"wheel":f=E_;break;case"copy":case"cut":case"paste":f=g_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=bm}var m=(t&4)!==0,b=!m&&e==="scroll",y=m?p!==null?p+"Capture":null:p;m=[];for(var v=u,S;v!==null;){S=v;var w=S.stateNode;if(S.tag===5&&w!==null&&(S=w,y!==null&&(w=Ea(v,y),w!=null&&m.push(Da(v,w,S)))),b)break;v=v.return}0<m.length&&(p=new f(p,g,null,r,d),h.push({event:p,listeners:m}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",p&&r!==ih&&(g=r.relatedTarget||r.fromElement)&&(Qi(g)||g[ri]))break e;if((f||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,f?(g=r.relatedTarget||r.toElement,f=u,g=g?Qi(g):null,g!==null&&(b=bn(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(f=null,g=u),f!==g)){if(m=ym,w="onMouseLeave",y="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(m=bm,w="onPointerLeave",y="onPointerEnter",v="pointer"),b=f==null?p:Hn(f),S=g==null?p:Hn(g),p=new m(w,v+"leave",f,r,d),p.target=b,p.relatedTarget=S,w=null,Qi(d)===u&&(m=new m(y,v+"enter",g,r,d),m.target=S,m.relatedTarget=b,w=m),b=w,f&&g)t:{for(m=f,y=g,v=0,S=m;S;S=Mn(S))v++;for(S=0,w=y;w;w=Mn(w))S++;for(;0<v-S;)m=Mn(m),v--;for(;0<S-v;)y=Mn(y),S--;for(;v--;){if(m===y||y!==null&&m===y.alternate)break t;m=Mn(m),y=Mn(y)}m=null}else m=null;f!==null&&Rm(h,p,f,m,!1),g!==null&&b!==null&&Rm(h,b,g,m,!0)}}e:{if(p=u?Hn(u):window,f=p.nodeName&&p.nodeName.toLowerCase(),f==="select"||f==="input"&&p.type==="file")var k=D_;else if(wm(p))if(Zy)k=F_;else{k=I_;var C=O_}else(f=p.nodeName)&&f.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(k=$_);if(k&&(k=k(e,u))){Jy(h,k,r,d);break e}C&&C(e,p,u),e==="focusout"&&(C=p._wrapperState)&&C.controlled&&p.type==="number"&&Jd(p,"number",p.value)}switch(C=u?Hn(u):window,e){case"focusin":(wm(C)||C.contentEditable==="true")&&(zn=C,uh=u,ma=null);break;case"focusout":ma=uh=zn=null;break;case"mousedown":dh=!0;break;case"contextmenu":case"mouseup":case"dragend":dh=!1,Tm(h,r,d);break;case"selectionchange":if(q_)break;case"keydown":case"keyup":Tm(h,r,d)}var j;if(rf)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Un?Qy(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(Xy&&r.locale!=="ko"&&(Un||E!=="onCompositionStart"?E==="onCompositionEnd"&&Un&&(j=Yy()):(mi=d,Zp="value"in mi?mi.value:mi.textContent,Un=!0)),C=Ql(u,E),0<C.length&&(E=new vm(E,e,null,r,d),h.push({event:E,listeners:C}),j?E.data=j:(j=Ky(r),j!==null&&(E.data=j)))),(j=R_?L_(e,r):P_(e,r))&&(u=Ql(u,"onBeforeInput"),0<u.length&&(d=new vm("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=j))}cv(h,t)})}function Da(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ql(e,t){for(var r=t+"Capture",i=[];e!==null;){var n=e,s=n.stateNode;n.tag===5&&s!==null&&(n=s,s=Ea(e,r),s!=null&&i.unshift(Da(e,s,n)),s=Ea(e,t),s!=null&&i.push(Da(e,s,n))),e=e.return}return i}function Mn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Rm(e,t,r,i,n){for(var s=t._reactName,o=[];r!==null&&r!==i;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===i)break;l.tag===5&&u!==null&&(l=u,n?(c=Ea(r,s),c!=null&&o.unshift(Da(r,c,l))):n||(c=Ea(r,s),c!=null&&o.push(Da(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var V_=/\r\n?/g,Y_=/\u0000|\uFFFD/g;function Lm(e){return(typeof e=="string"?e:""+e).replace(V_,`
`).replace(Y_,"")}function Vo(e,t,r){if(t=Lm(t),Lm(e)!==t&&r)throw Error(U(425))}function Kl(){}var hh=null,ph=null;function fh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var gh=typeof setTimeout=="function"?setTimeout:void 0,X_=typeof clearTimeout=="function"?clearTimeout:void 0,Pm=typeof Promise=="function"?Promise:void 0,Q_=typeof queueMicrotask=="function"?queueMicrotask:typeof Pm<"u"?function(e){return Pm.resolve(null).then(e).catch(K_)}:gh;function K_(e){setTimeout(function(){throw e})}function hd(e,t){var r=t,i=0;do{var n=r.nextSibling;if(e.removeChild(r),n&&n.nodeType===8)if(r=n.data,r==="/$"){if(i===0){e.removeChild(n),La(t);return}i--}else r!=="$"&&r!=="$?"&&r!=="$!"||i++;r=n}while(r);La(t)}function wi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Mm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var js=Math.random().toString(36).slice(2),Ar="__reactFiber$"+js,Oa="__reactProps$"+js,ri="__reactContainer$"+js,mh="__reactEvents$"+js,J_="__reactListeners$"+js,Z_="__reactHandles$"+js;function Qi(e){var t=e[Ar];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ri]||r[Ar]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Mm(e);e!==null;){if(r=e[Ar])return r;e=Mm(e)}return t}e=r,r=e.parentNode}return null}function xo(e){return e=e[Ar]||e[ri],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Hn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(U(33))}function ru(e){return e[Oa]||null}var xh=[],Wn=-1;function Oi(e){return{current:e}}function Ae(e){0>Wn||(e.current=xh[Wn],xh[Wn]=null,Wn--)}function je(e,t){Wn++,xh[Wn]=e.current,e.current=t}var Ri={},bt=Oi(Ri),Ft=Oi(!1),on=Ri;function os(e,t){var r=e.type.contextTypes;if(!r)return Ri;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var n={},s;for(s in r)n[s]=t[s];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=n),n}function Ut(e){return e=e.childContextTypes,e!=null}function Jl(){Ae(Ft),Ae(bt)}function Bm(e,t,r){if(bt.current!==Ri)throw Error(U(168));je(bt,t),je(Ft,r)}function dv(e,t,r){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return r;i=i.getChildContext();for(var n in i)if(!(n in t))throw Error(U(108,Oj(e)||"Unknown",n));return Ie({},r,i)}function Zl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ri,on=bt.current,je(bt,e),je(Ft,Ft.current),!0}function Dm(e,t,r){var i=e.stateNode;if(!i)throw Error(U(169));r?(e=dv(e,t,on),i.__reactInternalMemoizedMergedChildContext=e,Ae(Ft),Ae(bt),je(bt,e)):Ae(Ft),je(Ft,r)}var Vr=null,iu=!1,pd=!1;function hv(e){Vr===null?Vr=[e]:Vr.push(e)}function eN(e){iu=!0,hv(e)}function Ii(){if(!pd&&Vr!==null){pd=!0;var e=0,t=we;try{var r=Vr;for(we=1;e<r.length;e++){var i=r[e];do i=i(!0);while(i!==null)}Vr=null,iu=!1}catch(n){throw Vr!==null&&(Vr=Vr.slice(e+1)),Oy(Xp,Ii),n}finally{we=t,pd=!1}}return null}var Gn=[],Vn=0,ec=null,tc=0,Zt=[],er=0,ln=null,Yr=1,Xr="";function Wi(e,t){Gn[Vn++]=tc,Gn[Vn++]=ec,ec=e,tc=t}function pv(e,t,r){Zt[er++]=Yr,Zt[er++]=Xr,Zt[er++]=ln,ln=e;var i=Yr;e=Xr;var n=32-mr(i)-1;i&=~(1<<n),r+=1;var s=32-mr(t)+n;if(30<s){var o=n-n%5;s=(i&(1<<o)-1).toString(32),i>>=o,n-=o,Yr=1<<32-mr(t)+n|r<<n|i,Xr=s+e}else Yr=1<<s|r<<n|i,Xr=e}function sf(e){e.return!==null&&(Wi(e,1),pv(e,1,0))}function af(e){for(;e===ec;)ec=Gn[--Vn],Gn[Vn]=null,tc=Gn[--Vn],Gn[Vn]=null;for(;e===ln;)ln=Zt[--er],Zt[er]=null,Xr=Zt[--er],Zt[er]=null,Yr=Zt[--er],Zt[er]=null}var Gt=null,Wt=null,Me=!1,pr=null;function fv(e,t){var r=tr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Om(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Gt=e,Wt=wi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Gt=e,Wt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ln!==null?{id:Yr,overflow:Xr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=tr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Gt=e,Wt=null,!0):!1;default:return!1}}function yh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function vh(e){if(Me){var t=Wt;if(t){var r=t;if(!Om(e,t)){if(yh(e))throw Error(U(418));t=wi(r.nextSibling);var i=Gt;t&&Om(e,t)?fv(i,r):(e.flags=e.flags&-4097|2,Me=!1,Gt=e)}}else{if(yh(e))throw Error(U(418));e.flags=e.flags&-4097|2,Me=!1,Gt=e}}}function Im(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Gt=e}function Yo(e){if(e!==Gt)return!1;if(!Me)return Im(e),Me=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!fh(e.type,e.memoizedProps)),t&&(t=Wt)){if(yh(e))throw gv(),Error(U(418));for(;t;)fv(e,t),t=wi(t.nextSibling)}if(Im(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Wt=wi(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Wt=null}}else Wt=Gt?wi(e.stateNode.nextSibling):null;return!0}function gv(){for(var e=Wt;e;)e=wi(e.nextSibling)}function ls(){Wt=Gt=null,Me=!1}function of(e){pr===null?pr=[e]:pr.push(e)}var tN=oi.ReactCurrentBatchConfig;function Fs(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(U(309));var i=r.stateNode}if(!i)throw Error(U(147,e));var n=i,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=n.refs;o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(U(284));if(!r._owner)throw Error(U(290,e))}return e}function Xo(e,t){throw e=Object.prototype.toString.call(t),Error(U(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $m(e){var t=e._init;return t(e._payload)}function mv(e){function t(y,v){if(e){var S=y.deletions;S===null?(y.deletions=[v],y.flags|=16):S.push(v)}}function r(y,v){if(!e)return null;for(;v!==null;)t(y,v),v=v.sibling;return null}function i(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function n(y,v){return y=Ni(y,v),y.index=0,y.sibling=null,y}function s(y,v,S){return y.index=S,e?(S=y.alternate,S!==null?(S=S.index,S<v?(y.flags|=2,v):S):(y.flags|=2,v)):(y.flags|=1048576,v)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,v,S,w){return v===null||v.tag!==6?(v=bd(S,y.mode,w),v.return=y,v):(v=n(v,S),v.return=y,v)}function c(y,v,S,w){var k=S.type;return k===Fn?d(y,v,S.props.children,w,S.key):v!==null&&(v.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===di&&$m(k)===v.type)?(w=n(v,S.props),w.ref=Fs(y,v,S),w.return=y,w):(w=_l(S.type,S.key,S.props,null,y.mode,w),w.ref=Fs(y,v,S),w.return=y,w)}function u(y,v,S,w){return v===null||v.tag!==4||v.stateNode.containerInfo!==S.containerInfo||v.stateNode.implementation!==S.implementation?(v=Sd(S,y.mode,w),v.return=y,v):(v=n(v,S.children||[]),v.return=y,v)}function d(y,v,S,w,k){return v===null||v.tag!==7?(v=sn(S,y.mode,w,k),v.return=y,v):(v=n(v,S),v.return=y,v)}function h(y,v,S){if(typeof v=="string"&&v!==""||typeof v=="number")return v=bd(""+v,y.mode,S),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Io:return S=_l(v.type,v.key,v.props,null,y.mode,S),S.ref=Fs(y,null,v),S.return=y,S;case $n:return v=Sd(v,y.mode,S),v.return=y,v;case di:var w=v._init;return h(y,w(v._payload),S)}if(ta(v)||Bs(v))return v=sn(v,y.mode,S,null),v.return=y,v;Xo(y,v)}return null}function p(y,v,S,w){var k=v!==null?v.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return k!==null?null:l(y,v,""+S,w);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Io:return S.key===k?c(y,v,S,w):null;case $n:return S.key===k?u(y,v,S,w):null;case di:return k=S._init,p(y,v,k(S._payload),w)}if(ta(S)||Bs(S))return k!==null?null:d(y,v,S,w,null);Xo(y,S)}return null}function f(y,v,S,w,k){if(typeof w=="string"&&w!==""||typeof w=="number")return y=y.get(S)||null,l(v,y,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Io:return y=y.get(w.key===null?S:w.key)||null,c(v,y,w,k);case $n:return y=y.get(w.key===null?S:w.key)||null,u(v,y,w,k);case di:var C=w._init;return f(y,v,S,C(w._payload),k)}if(ta(w)||Bs(w))return y=y.get(S)||null,d(v,y,w,k,null);Xo(v,w)}return null}function g(y,v,S,w){for(var k=null,C=null,j=v,E=v=0,O=null;j!==null&&E<S.length;E++){j.index>E?(O=j,j=null):O=j.sibling;var M=p(y,j,S[E],w);if(M===null){j===null&&(j=O);break}e&&j&&M.alternate===null&&t(y,j),v=s(M,v,E),C===null?k=M:C.sibling=M,C=M,j=O}if(E===S.length)return r(y,j),Me&&Wi(y,E),k;if(j===null){for(;E<S.length;E++)j=h(y,S[E],w),j!==null&&(v=s(j,v,E),C===null?k=j:C.sibling=j,C=j);return Me&&Wi(y,E),k}for(j=i(y,j);E<S.length;E++)O=f(j,y,E,S[E],w),O!==null&&(e&&O.alternate!==null&&j.delete(O.key===null?E:O.key),v=s(O,v,E),C===null?k=O:C.sibling=O,C=O);return e&&j.forEach(function(L){return t(y,L)}),Me&&Wi(y,E),k}function m(y,v,S,w){var k=Bs(S);if(typeof k!="function")throw Error(U(150));if(S=k.call(S),S==null)throw Error(U(151));for(var C=k=null,j=v,E=v=0,O=null,M=S.next();j!==null&&!M.done;E++,M=S.next()){j.index>E?(O=j,j=null):O=j.sibling;var L=p(y,j,M.value,w);if(L===null){j===null&&(j=O);break}e&&j&&L.alternate===null&&t(y,j),v=s(L,v,E),C===null?k=L:C.sibling=L,C=L,j=O}if(M.done)return r(y,j),Me&&Wi(y,E),k;if(j===null){for(;!M.done;E++,M=S.next())M=h(y,M.value,w),M!==null&&(v=s(M,v,E),C===null?k=M:C.sibling=M,C=M);return Me&&Wi(y,E),k}for(j=i(y,j);!M.done;E++,M=S.next())M=f(j,y,E,M.value,w),M!==null&&(e&&M.alternate!==null&&j.delete(M.key===null?E:M.key),v=s(M,v,E),C===null?k=M:C.sibling=M,C=M);return e&&j.forEach(function(H){return t(y,H)}),Me&&Wi(y,E),k}function b(y,v,S,w){if(typeof S=="object"&&S!==null&&S.type===Fn&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Io:e:{for(var k=S.key,C=v;C!==null;){if(C.key===k){if(k=S.type,k===Fn){if(C.tag===7){r(y,C.sibling),v=n(C,S.props.children),v.return=y,y=v;break e}}else if(C.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===di&&$m(k)===C.type){r(y,C.sibling),v=n(C,S.props),v.ref=Fs(y,C,S),v.return=y,y=v;break e}r(y,C);break}else t(y,C);C=C.sibling}S.type===Fn?(v=sn(S.props.children,y.mode,w,S.key),v.return=y,y=v):(w=_l(S.type,S.key,S.props,null,y.mode,w),w.ref=Fs(y,v,S),w.return=y,y=w)}return o(y);case $n:e:{for(C=S.key;v!==null;){if(v.key===C)if(v.tag===4&&v.stateNode.containerInfo===S.containerInfo&&v.stateNode.implementation===S.implementation){r(y,v.sibling),v=n(v,S.children||[]),v.return=y,y=v;break e}else{r(y,v);break}else t(y,v);v=v.sibling}v=Sd(S,y.mode,w),v.return=y,y=v}return o(y);case di:return C=S._init,b(y,v,C(S._payload),w)}if(ta(S))return g(y,v,S,w);if(Bs(S))return m(y,v,S,w);Xo(y,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,v!==null&&v.tag===6?(r(y,v.sibling),v=n(v,S),v.return=y,y=v):(r(y,v),v=bd(S,y.mode,w),v.return=y,y=v),o(y)):r(y,v)}return b}var cs=mv(!0),xv=mv(!1),rc=Oi(null),ic=null,Yn=null,lf=null;function cf(){lf=Yn=ic=null}function uf(e){var t=rc.current;Ae(rc),e._currentValue=t}function bh(e,t,r){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===r)break;e=e.return}}function rs(e,t){ic=e,lf=Yn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(It=!0),e.firstContext=null)}function ir(e){var t=e._currentValue;if(lf!==e)if(e={context:e,memoizedValue:t,next:null},Yn===null){if(ic===null)throw Error(U(308));Yn=e,ic.dependencies={lanes:0,firstContext:e}}else Yn=Yn.next=e;return t}var Ki=null;function df(e){Ki===null?Ki=[e]:Ki.push(e)}function yv(e,t,r,i){var n=t.interleaved;return n===null?(r.next=r,df(t)):(r.next=n.next,n.next=r),t.interleaved=r,ii(e,i)}function ii(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var hi=!1;function hf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vv(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Jr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ki(e,t,r){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,ye&2){var n=i.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),i.pending=t,ii(e,r)}return n=i.interleaved,n===null?(t.next=t,df(i)):(t.next=n.next,n.next=t),i.interleaved=t,ii(e,r)}function bl(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,Qp(e,r)}}function Fm(e,t){var r=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var n=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?n=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?n=s=t:s=s.next=t}else n=s=t;r={baseState:i.baseState,firstBaseUpdate:n,lastBaseUpdate:s,shared:i.shared,effects:i.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function nc(e,t,r,i){var n=e.updateQueue;hi=!1;var s=n.firstBaseUpdate,o=n.lastBaseUpdate,l=n.shared.pending;if(l!==null){n.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var h=n.baseState;o=0,d=u=c=null,l=s;do{var p=l.lane,f=l.eventTime;if((i&p)===p){d!==null&&(d=d.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,m=l;switch(p=t,f=r,m.tag){case 1:if(g=m.payload,typeof g=="function"){h=g.call(f,h,p);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,p=typeof g=="function"?g.call(f,h,p):g,p==null)break e;h=Ie({},h,p);break e;case 2:hi=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=n.effects,p===null?n.effects=[l]:p.push(l))}else f={eventTime:f,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=f,c=h):d=d.next=f,o|=p;if(l=l.next,l===null){if(l=n.shared.pending,l===null)break;p=l,l=p.next,p.next=null,n.lastBaseUpdate=p,n.shared.pending=null}}while(1);if(d===null&&(c=h),n.baseState=c,n.firstBaseUpdate=u,n.lastBaseUpdate=d,t=n.shared.interleaved,t!==null){n=t;do o|=n.lane,n=n.next;while(n!==t)}else s===null&&(n.shared.lanes=0);un|=o,e.lanes=o,e.memoizedState=h}}function Um(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],n=i.callback;if(n!==null){if(i.callback=null,i=r,typeof n!="function")throw Error(U(191,n));n.call(i)}}}var yo={},Lr=Oi(yo),Ia=Oi(yo),$a=Oi(yo);function Ji(e){if(e===yo)throw Error(U(174));return e}function pf(e,t){switch(je($a,t),je(Ia,e),je(Lr,yo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:eh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=eh(t,e)}Ae(Lr),je(Lr,t)}function us(){Ae(Lr),Ae(Ia),Ae($a)}function bv(e){Ji($a.current);var t=Ji(Lr.current),r=eh(t,e.type);t!==r&&(je(Ia,e),je(Lr,r))}function ff(e){Ia.current===e&&(Ae(Lr),Ae(Ia))}var De=Oi(0);function sc(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var fd=[];function gf(){for(var e=0;e<fd.length;e++)fd[e]._workInProgressVersionPrimary=null;fd.length=0}var Sl=oi.ReactCurrentDispatcher,gd=oi.ReactCurrentBatchConfig,cn=0,Oe=null,Ye=null,et=null,ac=!1,xa=!1,Fa=0,rN=0;function dt(){throw Error(U(321))}function mf(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!br(e[r],t[r]))return!1;return!0}function xf(e,t,r,i,n,s){if(cn=s,Oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Sl.current=e===null||e.memoizedState===null?aN:oN,e=r(i,n),xa){s=0;do{if(xa=!1,Fa=0,25<=s)throw Error(U(301));s+=1,et=Ye=null,t.updateQueue=null,Sl.current=lN,e=r(i,n)}while(xa)}if(Sl.current=oc,t=Ye!==null&&Ye.next!==null,cn=0,et=Ye=Oe=null,ac=!1,t)throw Error(U(300));return e}function yf(){var e=Fa!==0;return Fa=0,e}function Tr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?Oe.memoizedState=et=e:et=et.next=e,et}function nr(){if(Ye===null){var e=Oe.alternate;e=e!==null?e.memoizedState:null}else e=Ye.next;var t=et===null?Oe.memoizedState:et.next;if(t!==null)et=t,Ye=e;else{if(e===null)throw Error(U(310));Ye=e,e={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},et===null?Oe.memoizedState=et=e:et=et.next=e}return et}function Ua(e,t){return typeof t=="function"?t(e):t}function md(e){var t=nr(),r=t.queue;if(r===null)throw Error(U(311));r.lastRenderedReducer=e;var i=Ye,n=i.baseQueue,s=r.pending;if(s!==null){if(n!==null){var o=n.next;n.next=s.next,s.next=o}i.baseQueue=n=s,r.pending=null}if(n!==null){s=n.next,i=i.baseState;var l=o=null,c=null,u=s;do{var d=u.lane;if((cn&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:e(i,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=i):c=c.next=h,Oe.lanes|=d,un|=d}u=u.next}while(u!==null&&u!==s);c===null?o=i:c.next=l,br(i,t.memoizedState)||(It=!0),t.memoizedState=i,t.baseState=o,t.baseQueue=c,r.lastRenderedState=i}if(e=r.interleaved,e!==null){n=e;do s=n.lane,Oe.lanes|=s,un|=s,n=n.next;while(n!==e)}else n===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function xd(e){var t=nr(),r=t.queue;if(r===null)throw Error(U(311));r.lastRenderedReducer=e;var i=r.dispatch,n=r.pending,s=t.memoizedState;if(n!==null){r.pending=null;var o=n=n.next;do s=e(s,o.action),o=o.next;while(o!==n);br(s,t.memoizedState)||(It=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,i]}function Sv(){}function Cv(e,t){var r=Oe,i=nr(),n=t(),s=!br(i.memoizedState,n);if(s&&(i.memoizedState=n,It=!0),i=i.queue,vf(jv.bind(null,r,i,e),[e]),i.getSnapshot!==t||s||et!==null&&et.memoizedState.tag&1){if(r.flags|=2048,za(9,kv.bind(null,r,i,n,t),void 0,null),rt===null)throw Error(U(349));cn&30||wv(r,t,n)}return n}function wv(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Oe.updateQueue,t===null?(t={lastEffect:null,stores:null},Oe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function kv(e,t,r,i){t.value=r,t.getSnapshot=i,_v(t)&&Nv(e)}function jv(e,t,r){return r(function(){_v(t)&&Nv(e)})}function _v(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!br(e,r)}catch{return!0}}function Nv(e){var t=ii(e,1);t!==null&&xr(t,e,1,-1)}function zm(e){var t=Tr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ua,lastRenderedState:e},t.queue=e,e=e.dispatch=sN.bind(null,Oe,e),[t.memoizedState,e]}function za(e,t,r,i){return e={tag:e,create:t,destroy:r,deps:i,next:null},t=Oe.updateQueue,t===null?(t={lastEffect:null,stores:null},Oe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(i=r.next,r.next=e,e.next=i,t.lastEffect=e)),e}function Tv(){return nr().memoizedState}function Cl(e,t,r,i){var n=Tr();Oe.flags|=e,n.memoizedState=za(1|t,r,void 0,i===void 0?null:i)}function nu(e,t,r,i){var n=nr();i=i===void 0?null:i;var s=void 0;if(Ye!==null){var o=Ye.memoizedState;if(s=o.destroy,i!==null&&mf(i,o.deps)){n.memoizedState=za(t,r,s,i);return}}Oe.flags|=e,n.memoizedState=za(1|t,r,s,i)}function qm(e,t){return Cl(8390656,8,e,t)}function vf(e,t){return nu(2048,8,e,t)}function Ev(e,t){return nu(4,2,e,t)}function Av(e,t){return nu(4,4,e,t)}function Rv(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Lv(e,t,r){return r=r!=null?r.concat([e]):null,nu(4,4,Rv.bind(null,t,e),r)}function bf(){}function Pv(e,t){var r=nr();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&mf(t,i[1])?i[0]:(r.memoizedState=[e,t],e)}function Mv(e,t){var r=nr();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&mf(t,i[1])?i[0]:(e=e(),r.memoizedState=[e,t],e)}function Bv(e,t,r){return cn&21?(br(r,t)||(r=Fy(),Oe.lanes|=r,un|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,It=!0),e.memoizedState=r)}function iN(e,t){var r=we;we=r!==0&&4>r?r:4,e(!0);var i=gd.transition;gd.transition={};try{e(!1),t()}finally{we=r,gd.transition=i}}function Dv(){return nr().memoizedState}function nN(e,t,r){var i=_i(e);if(r={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null},Ov(e))Iv(t,r);else if(r=yv(e,t,r,i),r!==null){var n=Tt();xr(r,e,i,n),$v(r,t,i)}}function sN(e,t,r){var i=_i(e),n={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ov(e))Iv(t,n);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,r);if(n.hasEagerState=!0,n.eagerState=l,br(l,o)){var c=t.interleaved;c===null?(n.next=n,df(t)):(n.next=c.next,c.next=n),t.interleaved=n;return}}catch{}finally{}r=yv(e,t,n,i),r!==null&&(n=Tt(),xr(r,e,i,n),$v(r,t,i))}}function Ov(e){var t=e.alternate;return e===Oe||t!==null&&t===Oe}function Iv(e,t){xa=ac=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function $v(e,t,r){if(r&4194240){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,Qp(e,r)}}var oc={readContext:ir,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useInsertionEffect:dt,useLayoutEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useMutableSource:dt,useSyncExternalStore:dt,useId:dt,unstable_isNewReconciler:!1},aN={readContext:ir,useCallback:function(e,t){return Tr().memoizedState=[e,t===void 0?null:t],e},useContext:ir,useEffect:qm,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Cl(4194308,4,Rv.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Cl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Cl(4,2,e,t)},useMemo:function(e,t){var r=Tr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var i=Tr();return t=r!==void 0?r(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=nN.bind(null,Oe,e),[i.memoizedState,e]},useRef:function(e){var t=Tr();return e={current:e},t.memoizedState=e},useState:zm,useDebugValue:bf,useDeferredValue:function(e){return Tr().memoizedState=e},useTransition:function(){var e=zm(!1),t=e[0];return e=iN.bind(null,e[1]),Tr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var i=Oe,n=Tr();if(Me){if(r===void 0)throw Error(U(407));r=r()}else{if(r=t(),rt===null)throw Error(U(349));cn&30||wv(i,t,r)}n.memoizedState=r;var s={value:r,getSnapshot:t};return n.queue=s,qm(jv.bind(null,i,s,e),[e]),i.flags|=2048,za(9,kv.bind(null,i,s,r,t),void 0,null),r},useId:function(){var e=Tr(),t=rt.identifierPrefix;if(Me){var r=Xr,i=Yr;r=(i&~(1<<32-mr(i)-1)).toString(32)+r,t=":"+t+"R"+r,r=Fa++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=rN++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},oN={readContext:ir,useCallback:Pv,useContext:ir,useEffect:vf,useImperativeHandle:Lv,useInsertionEffect:Ev,useLayoutEffect:Av,useMemo:Mv,useReducer:md,useRef:Tv,useState:function(){return md(Ua)},useDebugValue:bf,useDeferredValue:function(e){var t=nr();return Bv(t,Ye.memoizedState,e)},useTransition:function(){var e=md(Ua)[0],t=nr().memoizedState;return[e,t]},useMutableSource:Sv,useSyncExternalStore:Cv,useId:Dv,unstable_isNewReconciler:!1},lN={readContext:ir,useCallback:Pv,useContext:ir,useEffect:vf,useImperativeHandle:Lv,useInsertionEffect:Ev,useLayoutEffect:Av,useMemo:Mv,useReducer:xd,useRef:Tv,useState:function(){return xd(Ua)},useDebugValue:bf,useDeferredValue:function(e){var t=nr();return Ye===null?t.memoizedState=e:Bv(t,Ye.memoizedState,e)},useTransition:function(){var e=xd(Ua)[0],t=nr().memoizedState;return[e,t]},useMutableSource:Sv,useSyncExternalStore:Cv,useId:Dv,unstable_isNewReconciler:!1};function dr(e,t){if(e&&e.defaultProps){t=Ie({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Sh(e,t,r,i){t=e.memoizedState,r=r(i,t),r=r==null?t:Ie({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var su={isMounted:function(e){return(e=e._reactInternals)?bn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var i=Tt(),n=_i(e),s=Jr(i,n);s.payload=t,r!=null&&(s.callback=r),t=ki(e,s,n),t!==null&&(xr(t,e,n,i),bl(t,e,n))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var i=Tt(),n=_i(e),s=Jr(i,n);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=ki(e,s,n),t!==null&&(xr(t,e,n,i),bl(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Tt(),i=_i(e),n=Jr(r,i);n.tag=2,t!=null&&(n.callback=t),t=ki(e,n,i),t!==null&&(xr(t,e,i,r),bl(t,e,i))}};function Hm(e,t,r,i,n,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,s,o):t.prototype&&t.prototype.isPureReactComponent?!Ma(r,i)||!Ma(n,s):!0}function Fv(e,t,r){var i=!1,n=Ri,s=t.contextType;return typeof s=="object"&&s!==null?s=ir(s):(n=Ut(t)?on:bt.current,i=t.contextTypes,s=(i=i!=null)?os(e,n):Ri),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=su,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=s),t}function Wm(e,t,r,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,i),t.state!==e&&su.enqueueReplaceState(t,t.state,null)}function Ch(e,t,r,i){var n=e.stateNode;n.props=r,n.state=e.memoizedState,n.refs={},hf(e);var s=t.contextType;typeof s=="object"&&s!==null?n.context=ir(s):(s=Ut(t)?on:bt.current,n.context=os(e,s)),n.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Sh(e,t,s,r),n.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(t=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),t!==n.state&&su.enqueueReplaceState(n,n.state,null),nc(e,r,n,i),n.state=e.memoizedState),typeof n.componentDidMount=="function"&&(e.flags|=4194308)}function ds(e,t){try{var r="",i=t;do r+=Dj(i),i=i.return;while(i);var n=r}catch(s){n=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:n,digest:null}}function yd(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function wh(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var cN=typeof WeakMap=="function"?WeakMap:Map;function Uv(e,t,r){r=Jr(-1,r),r.tag=3,r.payload={element:null};var i=t.value;return r.callback=function(){cc||(cc=!0,Ph=i),wh(e,t)},r}function zv(e,t,r){r=Jr(-1,r),r.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var n=t.value;r.payload=function(){return i(n)},r.callback=function(){wh(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){wh(e,t),typeof i!="function"&&(ji===null?ji=new Set([this]):ji.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Gm(e,t,r){var i=e.pingCache;if(i===null){i=e.pingCache=new cN;var n=new Set;i.set(t,n)}else n=i.get(t),n===void 0&&(n=new Set,i.set(t,n));n.has(r)||(n.add(r),e=wN.bind(null,e,t,r),t.then(e,e))}function Vm(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ym(e,t,r,i,n){return e.mode&1?(e.flags|=65536,e.lanes=n,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Jr(-1,1),t.tag=2,ki(r,t,1))),r.lanes|=1),e)}var uN=oi.ReactCurrentOwner,It=!1;function kt(e,t,r,i){t.child=e===null?xv(t,null,r,i):cs(t,e.child,r,i)}function Xm(e,t,r,i,n){r=r.render;var s=t.ref;return rs(t,n),i=xf(e,t,r,i,s,n),r=yf(),e!==null&&!It?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,ni(e,t,n)):(Me&&r&&sf(t),t.flags|=1,kt(e,t,i,n),t.child)}function Qm(e,t,r,i,n){if(e===null){var s=r.type;return typeof s=="function"&&!Tf(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,qv(e,t,s,i,n)):(e=_l(r.type,null,i,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&n)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:Ma,r(o,i)&&e.ref===t.ref)return ni(e,t,n)}return t.flags|=1,e=Ni(s,i),e.ref=t.ref,e.return=t,t.child=e}function qv(e,t,r,i,n){if(e!==null){var s=e.memoizedProps;if(Ma(s,i)&&e.ref===t.ref)if(It=!1,t.pendingProps=i=s,(e.lanes&n)!==0)e.flags&131072&&(It=!0);else return t.lanes=e.lanes,ni(e,t,n)}return kh(e,t,r,i,n)}function Hv(e,t,r){var i=t.pendingProps,n=i.children,s=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(Qn,Ht),Ht|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,je(Qn,Ht),Ht|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:r,je(Qn,Ht),Ht|=i}else s!==null?(i=s.baseLanes|r,t.memoizedState=null):i=r,je(Qn,Ht),Ht|=i;return kt(e,t,n,r),t.child}function Wv(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function kh(e,t,r,i,n){var s=Ut(r)?on:bt.current;return s=os(t,s),rs(t,n),r=xf(e,t,r,i,s,n),i=yf(),e!==null&&!It?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,ni(e,t,n)):(Me&&i&&sf(t),t.flags|=1,kt(e,t,r,n),t.child)}function Km(e,t,r,i,n){if(Ut(r)){var s=!0;Zl(t)}else s=!1;if(rs(t,n),t.stateNode===null)wl(e,t),Fv(t,r,i),Ch(t,r,i,n),i=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=ir(u):(u=Ut(r)?on:bt.current,u=os(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==i||c!==u)&&Wm(t,o,i,u),hi=!1;var p=t.memoizedState;o.state=p,nc(t,i,o,n),c=t.memoizedState,l!==i||p!==c||Ft.current||hi?(typeof d=="function"&&(Sh(t,r,d,i),c=t.memoizedState),(l=hi||Hm(t,r,l,i,p,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=c),o.props=i,o.state=c,o.context=u,i=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{o=t.stateNode,vv(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:dr(t.type,l),o.props=u,h=t.pendingProps,p=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=ir(c):(c=Ut(r)?on:bt.current,c=os(t,c));var f=r.getDerivedStateFromProps;(d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||p!==c)&&Wm(t,o,i,c),hi=!1,p=t.memoizedState,o.state=p,nc(t,i,o,n);var g=t.memoizedState;l!==h||p!==g||Ft.current||hi?(typeof f=="function"&&(Sh(t,r,f,i),g=t.memoizedState),(u=hi||Hm(t,r,u,i,p,g,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=g),o.props=i,o.state=g,o.context=c,i=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),i=!1)}return jh(e,t,r,i,s,n)}function jh(e,t,r,i,n,s){Wv(e,t);var o=(t.flags&128)!==0;if(!i&&!o)return n&&Dm(t,r,!1),ni(e,t,s);i=t.stateNode,uN.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&o?(t.child=cs(t,e.child,null,s),t.child=cs(t,null,l,s)):kt(e,t,l,s),t.memoizedState=i.state,n&&Dm(t,r,!0),t.child}function Gv(e){var t=e.stateNode;t.pendingContext?Bm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Bm(e,t.context,!1),pf(e,t.containerInfo)}function Jm(e,t,r,i,n){return ls(),of(n),t.flags|=256,kt(e,t,r,i),t.child}var _h={dehydrated:null,treeContext:null,retryLane:0};function Nh(e){return{baseLanes:e,cachePool:null,transitions:null}}function Vv(e,t,r){var i=t.pendingProps,n=De.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(n&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(n|=1),je(De,n&1),e===null)return vh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=i.children,e=i.fallback,s?(i=t.mode,s=t.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=lu(o,i,0,null),e=sn(e,i,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Nh(r),t.memoizedState=_h,e):Sf(t,o));if(n=e.memoizedState,n!==null&&(l=n.dehydrated,l!==null))return dN(e,t,o,i,l,n,r);if(s){s=i.fallback,o=t.mode,n=e.child,l=n.sibling;var c={mode:"hidden",children:i.children};return!(o&1)&&t.child!==n?(i=t.child,i.childLanes=0,i.pendingProps=c,t.deletions=null):(i=Ni(n,c),i.subtreeFlags=n.subtreeFlags&14680064),l!==null?s=Ni(l,s):(s=sn(s,o,r,null),s.flags|=2),s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,o=e.child.memoizedState,o=o===null?Nh(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~r,t.memoizedState=_h,i}return s=e.child,e=s.sibling,i=Ni(s,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=r),i.return=t,i.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=i,t.memoizedState=null,i}function Sf(e,t){return t=lu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Qo(e,t,r,i){return i!==null&&of(i),cs(t,e.child,null,r),e=Sf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function dN(e,t,r,i,n,s,o){if(r)return t.flags&256?(t.flags&=-257,i=yd(Error(U(422))),Qo(e,t,o,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=i.fallback,n=t.mode,i=lu({mode:"visible",children:i.children},n,0,null),s=sn(s,n,o,null),s.flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,t.mode&1&&cs(t,e.child,null,o),t.child.memoizedState=Nh(o),t.memoizedState=_h,s);if(!(t.mode&1))return Qo(e,t,o,null);if(n.data==="$!"){if(i=n.nextSibling&&n.nextSibling.dataset,i)var l=i.dgst;return i=l,s=Error(U(419)),i=yd(s,i,void 0),Qo(e,t,o,i)}if(l=(o&e.childLanes)!==0,It||l){if(i=rt,i!==null){switch(o&-o){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(i.suspendedLanes|o)?0:n,n!==0&&n!==s.retryLane&&(s.retryLane=n,ii(e,n),xr(i,e,n,-1))}return Nf(),i=yd(Error(U(421))),Qo(e,t,o,i)}return n.data==="$?"?(t.flags|=128,t.child=e.child,t=kN.bind(null,e),n._reactRetry=t,null):(e=s.treeContext,Wt=wi(n.nextSibling),Gt=t,Me=!0,pr=null,e!==null&&(Zt[er++]=Yr,Zt[er++]=Xr,Zt[er++]=ln,Yr=e.id,Xr=e.overflow,ln=t),t=Sf(t,i.children),t.flags|=4096,t)}function Zm(e,t,r){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),bh(e.return,t,r)}function vd(e,t,r,i,n){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:n}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=r,s.tailMode=n)}function Yv(e,t,r){var i=t.pendingProps,n=i.revealOrder,s=i.tail;if(kt(e,t,i.children,r),i=De.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zm(e,r,t);else if(e.tag===19)Zm(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(je(De,i),!(t.mode&1))t.memoizedState=null;else switch(n){case"forwards":for(r=t.child,n=null;r!==null;)e=r.alternate,e!==null&&sc(e)===null&&(n=r),r=r.sibling;r=n,r===null?(n=t.child,t.child=null):(n=r.sibling,r.sibling=null),vd(t,!1,n,r,s);break;case"backwards":for(r=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&sc(e)===null){t.child=n;break}e=n.sibling,n.sibling=r,r=n,n=e}vd(t,!0,r,null,s);break;case"together":vd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function wl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ni(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),un|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(U(153));if(t.child!==null){for(e=t.child,r=Ni(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ni(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function hN(e,t,r){switch(t.tag){case 3:Gv(t),ls();break;case 5:bv(t);break;case 1:Ut(t.type)&&Zl(t);break;case 4:pf(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,n=t.memoizedProps.value;je(rc,i._currentValue),i._currentValue=n;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(je(De,De.current&1),t.flags|=128,null):r&t.child.childLanes?Vv(e,t,r):(je(De,De.current&1),e=ni(e,t,r),e!==null?e.sibling:null);je(De,De.current&1);break;case 19:if(i=(r&t.childLanes)!==0,e.flags&128){if(i)return Yv(e,t,r);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),je(De,De.current),i)break;return null;case 22:case 23:return t.lanes=0,Hv(e,t,r)}return ni(e,t,r)}var Xv,Th,Qv,Kv;Xv=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Th=function(){};Qv=function(e,t,r,i){var n=e.memoizedProps;if(n!==i){e=t.stateNode,Ji(Lr.current);var s=null;switch(r){case"input":n=Qd(e,n),i=Qd(e,i),s=[];break;case"select":n=Ie({},n,{value:void 0}),i=Ie({},i,{value:void 0}),s=[];break;case"textarea":n=Zd(e,n),i=Zd(e,i),s=[];break;default:typeof n.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=Kl)}th(r,i);var o;r=null;for(u in n)if(!i.hasOwnProperty(u)&&n.hasOwnProperty(u)&&n[u]!=null)if(u==="style"){var l=n[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Na.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in i){var c=i[u];if(l=n!=null?n[u]:void 0,i.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Na.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Te("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};Kv=function(e,t,r,i){r!==i&&(t.flags|=4)};function Us(e,t){if(!Me)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function ht(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,i=0;if(t)for(var n=e.child;n!==null;)r|=n.lanes|n.childLanes,i|=n.subtreeFlags&14680064,i|=n.flags&14680064,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)r|=n.lanes|n.childLanes,i|=n.subtreeFlags,i|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=i,e.childLanes=r,t}function pN(e,t,r){var i=t.pendingProps;switch(af(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(t),null;case 1:return Ut(t.type)&&Jl(),ht(t),null;case 3:return i=t.stateNode,us(),Ae(Ft),Ae(bt),gf(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Yo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,pr!==null&&(Dh(pr),pr=null))),Th(e,t),ht(t),null;case 5:ff(t);var n=Ji($a.current);if(r=t.type,e!==null&&t.stateNode!=null)Qv(e,t,r,i,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(U(166));return ht(t),null}if(e=Ji(Lr.current),Yo(t)){i=t.stateNode,r=t.type;var s=t.memoizedProps;switch(i[Ar]=t,i[Oa]=s,e=(t.mode&1)!==0,r){case"dialog":Te("cancel",i),Te("close",i);break;case"iframe":case"object":case"embed":Te("load",i);break;case"video":case"audio":for(n=0;n<ia.length;n++)Te(ia[n],i);break;case"source":Te("error",i);break;case"img":case"image":case"link":Te("error",i),Te("load",i);break;case"details":Te("toggle",i);break;case"input":lm(i,s),Te("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Te("invalid",i);break;case"textarea":um(i,s),Te("invalid",i)}th(r,s),n=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?i.textContent!==l&&(s.suppressHydrationWarning!==!0&&Vo(i.textContent,l,e),n=["children",l]):typeof l=="number"&&i.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Vo(i.textContent,l,e),n=["children",""+l]):Na.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Te("scroll",i)}switch(r){case"input":$o(i),cm(i,s,!0);break;case"textarea":$o(i),dm(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=Kl)}i=n,t.updateQueue=i,i!==null&&(t.flags|=4)}else{o=n.nodeType===9?n:n.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=jy(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=o.createElement(r,{is:i.is}):(e=o.createElement(r),r==="select"&&(o=e,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):e=o.createElementNS(e,r),e[Ar]=t,e[Oa]=i,Xv(e,t,!1,!1),t.stateNode=e;e:{switch(o=rh(r,i),r){case"dialog":Te("cancel",e),Te("close",e),n=i;break;case"iframe":case"object":case"embed":Te("load",e),n=i;break;case"video":case"audio":for(n=0;n<ia.length;n++)Te(ia[n],e);n=i;break;case"source":Te("error",e),n=i;break;case"img":case"image":case"link":Te("error",e),Te("load",e),n=i;break;case"details":Te("toggle",e),n=i;break;case"input":lm(e,i),n=Qd(e,i),Te("invalid",e);break;case"option":n=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},n=Ie({},i,{value:void 0}),Te("invalid",e);break;case"textarea":um(e,i),n=Zd(e,i),Te("invalid",e);break;default:n=i}th(r,n),l=n;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?Ty(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&_y(e,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Ta(e,c):typeof c=="number"&&Ta(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Na.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Te("scroll",e):c!=null&&Hp(e,s,c,o))}switch(r){case"input":$o(e),cm(e,i,!1);break;case"textarea":$o(e),dm(e);break;case"option":i.value!=null&&e.setAttribute("value",""+Ai(i.value));break;case"select":e.multiple=!!i.multiple,s=i.value,s!=null?Jn(e,!!i.multiple,s,!1):i.defaultValue!=null&&Jn(e,!!i.multiple,i.defaultValue,!0);break;default:typeof n.onClick=="function"&&(e.onclick=Kl)}switch(r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ht(t),null;case 6:if(e&&t.stateNode!=null)Kv(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(U(166));if(r=Ji($a.current),Ji(Lr.current),Yo(t)){if(i=t.stateNode,r=t.memoizedProps,i[Ar]=t,(s=i.nodeValue!==r)&&(e=Gt,e!==null))switch(e.tag){case 3:Vo(i.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Vo(i.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else i=(r.nodeType===9?r:r.ownerDocument).createTextNode(i),i[Ar]=t,t.stateNode=i}return ht(t),null;case 13:if(Ae(De),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Me&&Wt!==null&&t.mode&1&&!(t.flags&128))gv(),ls(),t.flags|=98560,s=!1;else if(s=Yo(t),i!==null&&i.dehydrated!==null){if(e===null){if(!s)throw Error(U(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(U(317));s[Ar]=t}else ls(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ht(t),s=!1}else pr!==null&&(Dh(pr),pr=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||De.current&1?Ke===0&&(Ke=3):Nf())),t.updateQueue!==null&&(t.flags|=4),ht(t),null);case 4:return us(),Th(e,t),e===null&&Ba(t.stateNode.containerInfo),ht(t),null;case 10:return uf(t.type._context),ht(t),null;case 17:return Ut(t.type)&&Jl(),ht(t),null;case 19:if(Ae(De),s=t.memoizedState,s===null)return ht(t),null;if(i=(t.flags&128)!==0,o=s.rendering,o===null)if(i)Us(s,!1);else{if(Ke!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=sc(e),o!==null){for(t.flags|=128,Us(s,!1),i=o.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=r,r=t.child;r!==null;)s=r,e=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return je(De,De.current&1|2),t.child}e=e.sibling}s.tail!==null&&Fe()>hs&&(t.flags|=128,i=!0,Us(s,!1),t.lanes=4194304)}else{if(!i)if(e=sc(o),e!==null){if(t.flags|=128,i=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Us(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Me)return ht(t),null}else 2*Fe()-s.renderingStartTime>hs&&r!==1073741824&&(t.flags|=128,i=!0,Us(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(r=s.last,r!==null?r.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Fe(),t.sibling=null,r=De.current,je(De,i?r&1|2:r&1),t):(ht(t),null);case 22:case 23:return _f(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?Ht&1073741824&&(ht(t),t.subtreeFlags&6&&(t.flags|=8192)):ht(t),null;case 24:return null;case 25:return null}throw Error(U(156,t.tag))}function fN(e,t){switch(af(t),t.tag){case 1:return Ut(t.type)&&Jl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return us(),Ae(Ft),Ae(bt),gf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ff(t),null;case 13:if(Ae(De),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(U(340));ls()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ae(De),null;case 4:return us(),null;case 10:return uf(t.type._context),null;case 22:case 23:return _f(),null;case 24:return null;default:return null}}var Ko=!1,mt=!1,gN=typeof WeakSet=="function"?WeakSet:Set,Y=null;function Xn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(i){$e(e,t,i)}else r.current=null}function Eh(e,t,r){try{r()}catch(i){$e(e,t,i)}}var ex=!1;function mN(e,t){if(hh=Yl,e=rv(),nf(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var n=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==r||n!==0&&h.nodeType!==3||(l=o+n),h!==s||i!==0&&h.nodeType!==3||(c=o+i),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)p=h,h=f;for(;;){if(h===e)break t;if(p===r&&++u===n&&(l=o),p===s&&++d===i&&(c=o),(f=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=f}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ph={focusedElem:e,selectionRange:r},Yl=!1,Y=t;Y!==null;)if(t=Y,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Y=e;else for(;Y!==null;){t=Y;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,b=g.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:dr(t.type,m),b);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(w){$e(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,Y=e;break}Y=t.return}return g=ex,ex=!1,g}function ya(e,t,r){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var n=i=i.next;do{if((n.tag&e)===e){var s=n.destroy;n.destroy=void 0,s!==void 0&&Eh(t,r,s)}n=n.next}while(n!==i)}}function au(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var i=r.create;r.destroy=i()}r=r.next}while(r!==t)}}function Ah(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Jv(e){var t=e.alternate;t!==null&&(e.alternate=null,Jv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ar],delete t[Oa],delete t[mh],delete t[J_],delete t[Z_])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Zv(e){return e.tag===5||e.tag===3||e.tag===4}function tx(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Zv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Rh(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Kl));else if(i!==4&&(e=e.child,e!==null))for(Rh(e,t,r),e=e.sibling;e!==null;)Rh(e,t,r),e=e.sibling}function Lh(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(Lh(e,t,r),e=e.sibling;e!==null;)Lh(e,t,r),e=e.sibling}var at=null,hr=!1;function ci(e,t,r){for(r=r.child;r!==null;)eb(e,t,r),r=r.sibling}function eb(e,t,r){if(Rr&&typeof Rr.onCommitFiberUnmount=="function")try{Rr.onCommitFiberUnmount(Jc,r)}catch{}switch(r.tag){case 5:mt||Xn(r,t);case 6:var i=at,n=hr;at=null,ci(e,t,r),at=i,hr=n,at!==null&&(hr?(e=at,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):at.removeChild(r.stateNode));break;case 18:at!==null&&(hr?(e=at,r=r.stateNode,e.nodeType===8?hd(e.parentNode,r):e.nodeType===1&&hd(e,r),La(e)):hd(at,r.stateNode));break;case 4:i=at,n=hr,at=r.stateNode.containerInfo,hr=!0,ci(e,t,r),at=i,hr=n;break;case 0:case 11:case 14:case 15:if(!mt&&(i=r.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){n=i=i.next;do{var s=n,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Eh(r,t,o),n=n.next}while(n!==i)}ci(e,t,r);break;case 1:if(!mt&&(Xn(r,t),i=r.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=r.memoizedProps,i.state=r.memoizedState,i.componentWillUnmount()}catch(l){$e(r,t,l)}ci(e,t,r);break;case 21:ci(e,t,r);break;case 22:r.mode&1?(mt=(i=mt)||r.memoizedState!==null,ci(e,t,r),mt=i):ci(e,t,r);break;default:ci(e,t,r)}}function rx(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new gN),t.forEach(function(i){var n=jN.bind(null,e,i);r.has(i)||(r.add(i),i.then(n,n))})}}function cr(e,t){var r=t.deletions;if(r!==null)for(var i=0;i<r.length;i++){var n=r[i];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:at=l.stateNode,hr=!1;break e;case 3:at=l.stateNode.containerInfo,hr=!0;break e;case 4:at=l.stateNode.containerInfo,hr=!0;break e}l=l.return}if(at===null)throw Error(U(160));eb(s,o,n),at=null,hr=!1;var c=n.alternate;c!==null&&(c.return=null),n.return=null}catch(u){$e(n,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)tb(t,e),t=t.sibling}function tb(e,t){var r=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(cr(t,e),kr(e),i&4){try{ya(3,e,e.return),au(3,e)}catch(m){$e(e,e.return,m)}try{ya(5,e,e.return)}catch(m){$e(e,e.return,m)}}break;case 1:cr(t,e),kr(e),i&512&&r!==null&&Xn(r,r.return);break;case 5:if(cr(t,e),kr(e),i&512&&r!==null&&Xn(r,r.return),e.flags&32){var n=e.stateNode;try{Ta(n,"")}catch(m){$e(e,e.return,m)}}if(i&4&&(n=e.stateNode,n!=null)){var s=e.memoizedProps,o=r!==null?r.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&wy(n,s),rh(l,o);var u=rh(l,s);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?Ty(n,h):d==="dangerouslySetInnerHTML"?_y(n,h):d==="children"?Ta(n,h):Hp(n,d,h,u)}switch(l){case"input":Kd(n,s);break;case"textarea":ky(n,s);break;case"select":var p=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?Jn(n,!!s.multiple,f,!1):p!==!!s.multiple&&(s.defaultValue!=null?Jn(n,!!s.multiple,s.defaultValue,!0):Jn(n,!!s.multiple,s.multiple?[]:"",!1))}n[Oa]=s}catch(m){$e(e,e.return,m)}}break;case 6:if(cr(t,e),kr(e),i&4){if(e.stateNode===null)throw Error(U(162));n=e.stateNode,s=e.memoizedProps;try{n.nodeValue=s}catch(m){$e(e,e.return,m)}}break;case 3:if(cr(t,e),kr(e),i&4&&r!==null&&r.memoizedState.isDehydrated)try{La(t.containerInfo)}catch(m){$e(e,e.return,m)}break;case 4:cr(t,e),kr(e);break;case 13:cr(t,e),kr(e),n=e.child,n.flags&8192&&(s=n.memoizedState!==null,n.stateNode.isHidden=s,!s||n.alternate!==null&&n.alternate.memoizedState!==null||(kf=Fe())),i&4&&rx(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(mt=(u=mt)||d,cr(t,e),mt=u):cr(t,e),kr(e),i&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Y=e,d=e.child;d!==null;){for(h=Y=d;Y!==null;){switch(p=Y,f=p.child,p.tag){case 0:case 11:case 14:case 15:ya(4,p,p.return);break;case 1:Xn(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){i=p,r=p.return;try{t=i,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){$e(i,r,m)}}break;case 5:Xn(p,p.return);break;case 22:if(p.memoizedState!==null){nx(h);continue}}f!==null?(f.return=p,Y=f):nx(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{n=h.stateNode,u?(s=n.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Ny("display",o))}catch(m){$e(e,e.return,m)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(m){$e(e,e.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:cr(t,e),kr(e),i&4&&rx(e);break;case 21:break;default:cr(t,e),kr(e)}}function kr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Zv(r)){var i=r;break e}r=r.return}throw Error(U(160))}switch(i.tag){case 5:var n=i.stateNode;i.flags&32&&(Ta(n,""),i.flags&=-33);var s=tx(e);Lh(e,s,n);break;case 3:case 4:var o=i.stateNode.containerInfo,l=tx(e);Rh(e,l,o);break;default:throw Error(U(161))}}catch(c){$e(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function xN(e,t,r){Y=e,rb(e)}function rb(e,t,r){for(var i=(e.mode&1)!==0;Y!==null;){var n=Y,s=n.child;if(n.tag===22&&i){var o=n.memoizedState!==null||Ko;if(!o){var l=n.alternate,c=l!==null&&l.memoizedState!==null||mt;l=Ko;var u=mt;if(Ko=o,(mt=c)&&!u)for(Y=n;Y!==null;)o=Y,c=o.child,o.tag===22&&o.memoizedState!==null?sx(n):c!==null?(c.return=o,Y=c):sx(n);for(;s!==null;)Y=s,rb(s),s=s.sibling;Y=n,Ko=l,mt=u}ix(e)}else n.subtreeFlags&8772&&s!==null?(s.return=n,Y=s):ix(e)}}function ix(e){for(;Y!==null;){var t=Y;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:mt||au(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!mt)if(r===null)i.componentDidMount();else{var n=t.elementType===t.type?r.memoizedProps:dr(t.type,r.memoizedProps);i.componentDidUpdate(n,r.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Um(t,s,i);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Um(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&La(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}mt||t.flags&512&&Ah(t)}catch(p){$e(t,t.return,p)}}if(t===e){Y=null;break}if(r=t.sibling,r!==null){r.return=t.return,Y=r;break}Y=t.return}}function nx(e){for(;Y!==null;){var t=Y;if(t===e){Y=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Y=r;break}Y=t.return}}function sx(e){for(;Y!==null;){var t=Y;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{au(4,t)}catch(c){$e(t,r,c)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var n=t.return;try{i.componentDidMount()}catch(c){$e(t,n,c)}}var s=t.return;try{Ah(t)}catch(c){$e(t,s,c)}break;case 5:var o=t.return;try{Ah(t)}catch(c){$e(t,o,c)}}}catch(c){$e(t,t.return,c)}if(t===e){Y=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Y=l;break}Y=t.return}}var yN=Math.ceil,lc=oi.ReactCurrentDispatcher,Cf=oi.ReactCurrentOwner,rr=oi.ReactCurrentBatchConfig,ye=0,rt=null,We=null,lt=0,Ht=0,Qn=Oi(0),Ke=0,qa=null,un=0,ou=0,wf=0,va=null,Bt=null,kf=0,hs=1/0,Gr=null,cc=!1,Ph=null,ji=null,Jo=!1,xi=null,uc=0,ba=0,Mh=null,kl=-1,jl=0;function Tt(){return ye&6?Fe():kl!==-1?kl:kl=Fe()}function _i(e){return e.mode&1?ye&2&&lt!==0?lt&-lt:tN.transition!==null?(jl===0&&(jl=Fy()),jl):(e=we,e!==0||(e=window.event,e=e===void 0?16:Vy(e.type)),e):1}function xr(e,t,r,i){if(50<ba)throw ba=0,Mh=null,Error(U(185));go(e,r,i),(!(ye&2)||e!==rt)&&(e===rt&&(!(ye&2)&&(ou|=r),Ke===4&&gi(e,lt)),zt(e,i),r===1&&ye===0&&!(t.mode&1)&&(hs=Fe()+500,iu&&Ii()))}function zt(e,t){var r=e.callbackNode;t_(e,t);var i=Vl(e,e===rt?lt:0);if(i===0)r!==null&&fm(r),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(r!=null&&fm(r),t===1)e.tag===0?eN(ax.bind(null,e)):hv(ax.bind(null,e)),Q_(function(){!(ye&6)&&Ii()}),r=null;else{switch(Uy(i)){case 1:r=Xp;break;case 4:r=Iy;break;case 16:r=Gl;break;case 536870912:r=$y;break;default:r=Gl}r=ub(r,ib.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function ib(e,t){if(kl=-1,jl=0,ye&6)throw Error(U(327));var r=e.callbackNode;if(is()&&e.callbackNode!==r)return null;var i=Vl(e,e===rt?lt:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=dc(e,i);else{t=i;var n=ye;ye|=2;var s=sb();(rt!==e||lt!==t)&&(Gr=null,hs=Fe()+500,nn(e,t));do try{SN();break}catch(l){nb(e,l)}while(1);cf(),lc.current=s,ye=n,We!==null?t=0:(rt=null,lt=0,t=Ke)}if(t!==0){if(t===2&&(n=oh(e),n!==0&&(i=n,t=Bh(e,n))),t===1)throw r=qa,nn(e,0),gi(e,i),zt(e,Fe()),r;if(t===6)gi(e,i);else{if(n=e.current.alternate,!(i&30)&&!vN(n)&&(t=dc(e,i),t===2&&(s=oh(e),s!==0&&(i=s,t=Bh(e,s))),t===1))throw r=qa,nn(e,0),gi(e,i),zt(e,Fe()),r;switch(e.finishedWork=n,e.finishedLanes=i,t){case 0:case 1:throw Error(U(345));case 2:Gi(e,Bt,Gr);break;case 3:if(gi(e,i),(i&130023424)===i&&(t=kf+500-Fe(),10<t)){if(Vl(e,0)!==0)break;if(n=e.suspendedLanes,(n&i)!==i){Tt(),e.pingedLanes|=e.suspendedLanes&n;break}e.timeoutHandle=gh(Gi.bind(null,e,Bt,Gr),t);break}Gi(e,Bt,Gr);break;case 4:if(gi(e,i),(i&4194240)===i)break;for(t=e.eventTimes,n=-1;0<i;){var o=31-mr(i);s=1<<o,o=t[o],o>n&&(n=o),i&=~s}if(i=n,i=Fe()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*yN(i/1960))-i,10<i){e.timeoutHandle=gh(Gi.bind(null,e,Bt,Gr),i);break}Gi(e,Bt,Gr);break;case 5:Gi(e,Bt,Gr);break;default:throw Error(U(329))}}}return zt(e,Fe()),e.callbackNode===r?ib.bind(null,e):null}function Bh(e,t){var r=va;return e.current.memoizedState.isDehydrated&&(nn(e,t).flags|=256),e=dc(e,t),e!==2&&(t=Bt,Bt=r,t!==null&&Dh(t)),e}function Dh(e){Bt===null?Bt=e:Bt.push.apply(Bt,e)}function vN(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var i=0;i<r.length;i++){var n=r[i],s=n.getSnapshot;n=n.value;try{if(!br(s(),n))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function gi(e,t){for(t&=~wf,t&=~ou,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-mr(t),i=1<<r;e[r]=-1,t&=~i}}function ax(e){if(ye&6)throw Error(U(327));is();var t=Vl(e,0);if(!(t&1))return zt(e,Fe()),null;var r=dc(e,t);if(e.tag!==0&&r===2){var i=oh(e);i!==0&&(t=i,r=Bh(e,i))}if(r===1)throw r=qa,nn(e,0),gi(e,t),zt(e,Fe()),r;if(r===6)throw Error(U(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Gi(e,Bt,Gr),zt(e,Fe()),null}function jf(e,t){var r=ye;ye|=1;try{return e(t)}finally{ye=r,ye===0&&(hs=Fe()+500,iu&&Ii())}}function dn(e){xi!==null&&xi.tag===0&&!(ye&6)&&is();var t=ye;ye|=1;var r=rr.transition,i=we;try{if(rr.transition=null,we=1,e)return e()}finally{we=i,rr.transition=r,ye=t,!(ye&6)&&Ii()}}function _f(){Ht=Qn.current,Ae(Qn)}function nn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,X_(r)),We!==null)for(r=We.return;r!==null;){var i=r;switch(af(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Jl();break;case 3:us(),Ae(Ft),Ae(bt),gf();break;case 5:ff(i);break;case 4:us();break;case 13:Ae(De);break;case 19:Ae(De);break;case 10:uf(i.type._context);break;case 22:case 23:_f()}r=r.return}if(rt=e,We=e=Ni(e.current,null),lt=Ht=t,Ke=0,qa=null,wf=ou=un=0,Bt=va=null,Ki!==null){for(t=0;t<Ki.length;t++)if(r=Ki[t],i=r.interleaved,i!==null){r.interleaved=null;var n=i.next,s=r.pending;if(s!==null){var o=s.next;s.next=n,i.next=o}r.pending=i}Ki=null}return e}function nb(e,t){do{var r=We;try{if(cf(),Sl.current=oc,ac){for(var i=Oe.memoizedState;i!==null;){var n=i.queue;n!==null&&(n.pending=null),i=i.next}ac=!1}if(cn=0,et=Ye=Oe=null,xa=!1,Fa=0,Cf.current=null,r===null||r.return===null){Ke=1,qa=t,We=null;break}e:{var s=e,o=r.return,l=r,c=t;if(t=lt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=Vm(o);if(f!==null){f.flags&=-257,Ym(f,o,l,s,t),f.mode&1&&Gm(s,u,t),t=f,c=u;var g=t.updateQueue;if(g===null){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}else{if(!(t&1)){Gm(s,u,t),Nf();break e}c=Error(U(426))}}else if(Me&&l.mode&1){var b=Vm(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Ym(b,o,l,s,t),of(ds(c,l));break e}}s=c=ds(c,l),Ke!==4&&(Ke=2),va===null?va=[s]:va.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var y=Uv(s,c,t);Fm(s,y);break e;case 1:l=c;var v=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(ji===null||!ji.has(S)))){s.flags|=65536,t&=-t,s.lanes|=t;var w=zv(s,l,t);Fm(s,w);break e}}s=s.return}while(s!==null)}ob(r)}catch(k){t=k,We===r&&r!==null&&(We=r=r.return);continue}break}while(1)}function sb(){var e=lc.current;return lc.current=oc,e===null?oc:e}function Nf(){(Ke===0||Ke===3||Ke===2)&&(Ke=4),rt===null||!(un&268435455)&&!(ou&268435455)||gi(rt,lt)}function dc(e,t){var r=ye;ye|=2;var i=sb();(rt!==e||lt!==t)&&(Gr=null,nn(e,t));do try{bN();break}catch(n){nb(e,n)}while(1);if(cf(),ye=r,lc.current=i,We!==null)throw Error(U(261));return rt=null,lt=0,Ke}function bN(){for(;We!==null;)ab(We)}function SN(){for(;We!==null&&!Gj();)ab(We)}function ab(e){var t=cb(e.alternate,e,Ht);e.memoizedProps=e.pendingProps,t===null?ob(e):We=t,Cf.current=null}function ob(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=fN(r,t),r!==null){r.flags&=32767,We=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ke=6,We=null;return}}else if(r=pN(r,t,Ht),r!==null){We=r;return}if(t=t.sibling,t!==null){We=t;return}We=t=e}while(t!==null);Ke===0&&(Ke=5)}function Gi(e,t,r){var i=we,n=rr.transition;try{rr.transition=null,we=1,CN(e,t,r,i)}finally{rr.transition=n,we=i}return null}function CN(e,t,r,i){do is();while(xi!==null);if(ye&6)throw Error(U(327));r=e.finishedWork;var n=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(U(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(r_(e,s),e===rt&&(We=rt=null,lt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Jo||(Jo=!0,ub(Gl,function(){return is(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=rr.transition,rr.transition=null;var o=we;we=1;var l=ye;ye|=4,Cf.current=null,mN(e,r),tb(r,e),z_(ph),Yl=!!hh,ph=hh=null,e.current=r,xN(r),Vj(),ye=l,we=o,rr.transition=s}else e.current=r;if(Jo&&(Jo=!1,xi=e,uc=n),s=e.pendingLanes,s===0&&(ji=null),Qj(r.stateNode),zt(e,Fe()),t!==null)for(i=e.onRecoverableError,r=0;r<t.length;r++)n=t[r],i(n.value,{componentStack:n.stack,digest:n.digest});if(cc)throw cc=!1,e=Ph,Ph=null,e;return uc&1&&e.tag!==0&&is(),s=e.pendingLanes,s&1?e===Mh?ba++:(ba=0,Mh=e):ba=0,Ii(),null}function is(){if(xi!==null){var e=Uy(uc),t=rr.transition,r=we;try{if(rr.transition=null,we=16>e?16:e,xi===null)var i=!1;else{if(e=xi,xi=null,uc=0,ye&6)throw Error(U(331));var n=ye;for(ye|=4,Y=e.current;Y!==null;){var s=Y,o=s.child;if(Y.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Y=u;Y!==null;){var d=Y;switch(d.tag){case 0:case 11:case 15:ya(8,d,s)}var h=d.child;if(h!==null)h.return=d,Y=h;else for(;Y!==null;){d=Y;var p=d.sibling,f=d.return;if(Jv(d),d===u){Y=null;break}if(p!==null){p.return=f,Y=p;break}Y=f}}}var g=s.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var b=m.sibling;m.sibling=null,m=b}while(m!==null)}}Y=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Y=o;else e:for(;Y!==null;){if(s=Y,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ya(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,Y=y;break e}Y=s.return}}var v=e.current;for(Y=v;Y!==null;){o=Y;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,Y=S;else e:for(o=v;Y!==null;){if(l=Y,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:au(9,l)}}catch(k){$e(l,l.return,k)}if(l===o){Y=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,Y=w;break e}Y=l.return}}if(ye=n,Ii(),Rr&&typeof Rr.onPostCommitFiberRoot=="function")try{Rr.onPostCommitFiberRoot(Jc,e)}catch{}i=!0}return i}finally{we=r,rr.transition=t}}return!1}function ox(e,t,r){t=ds(r,t),t=Uv(e,t,1),e=ki(e,t,1),t=Tt(),e!==null&&(go(e,1,t),zt(e,t))}function $e(e,t,r){if(e.tag===3)ox(e,e,r);else for(;t!==null;){if(t.tag===3){ox(t,e,r);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(ji===null||!ji.has(i))){e=ds(r,e),e=zv(t,e,1),t=ki(t,e,1),e=Tt(),t!==null&&(go(t,1,e),zt(t,e));break}}t=t.return}}function wN(e,t,r){var i=e.pingCache;i!==null&&i.delete(t),t=Tt(),e.pingedLanes|=e.suspendedLanes&r,rt===e&&(lt&r)===r&&(Ke===4||Ke===3&&(lt&130023424)===lt&&500>Fe()-kf?nn(e,0):wf|=r),zt(e,t)}function lb(e,t){t===0&&(e.mode&1?(t=zo,zo<<=1,!(zo&130023424)&&(zo=4194304)):t=1);var r=Tt();e=ii(e,t),e!==null&&(go(e,t,r),zt(e,r))}function kN(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),lb(e,r)}function jN(e,t){var r=0;switch(e.tag){case 13:var i=e.stateNode,n=e.memoizedState;n!==null&&(r=n.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(U(314))}i!==null&&i.delete(t),lb(e,r)}var cb;cb=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ft.current)It=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return It=!1,hN(e,t,r);It=!!(e.flags&131072)}else It=!1,Me&&t.flags&1048576&&pv(t,tc,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;wl(e,t),e=t.pendingProps;var n=os(t,bt.current);rs(t,r),n=xf(null,t,i,e,n,r);var s=yf();return t.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ut(i)?(s=!0,Zl(t)):s=!1,t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,hf(t),n.updater=su,t.stateNode=n,n._reactInternals=t,Ch(t,i,e,r),t=jh(null,t,i,!0,s,r)):(t.tag=0,Me&&s&&sf(t),kt(null,t,n,r),t=t.child),t;case 16:i=t.elementType;e:{switch(wl(e,t),e=t.pendingProps,n=i._init,i=n(i._payload),t.type=i,n=t.tag=NN(i),e=dr(i,e),n){case 0:t=kh(null,t,i,e,r);break e;case 1:t=Km(null,t,i,e,r);break e;case 11:t=Xm(null,t,i,e,r);break e;case 14:t=Qm(null,t,i,dr(i.type,e),r);break e}throw Error(U(306,i,""))}return t;case 0:return i=t.type,n=t.pendingProps,n=t.elementType===i?n:dr(i,n),kh(e,t,i,n,r);case 1:return i=t.type,n=t.pendingProps,n=t.elementType===i?n:dr(i,n),Km(e,t,i,n,r);case 3:e:{if(Gv(t),e===null)throw Error(U(387));i=t.pendingProps,s=t.memoizedState,n=s.element,vv(e,t),nc(t,i,null,r);var o=t.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){n=ds(Error(U(423)),t),t=Jm(e,t,i,r,n);break e}else if(i!==n){n=ds(Error(U(424)),t),t=Jm(e,t,i,r,n);break e}else for(Wt=wi(t.stateNode.containerInfo.firstChild),Gt=t,Me=!0,pr=null,r=xv(t,null,i,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ls(),i===n){t=ni(e,t,r);break e}kt(e,t,i,r)}t=t.child}return t;case 5:return bv(t),e===null&&vh(t),i=t.type,n=t.pendingProps,s=e!==null?e.memoizedProps:null,o=n.children,fh(i,n)?o=null:s!==null&&fh(i,s)&&(t.flags|=32),Wv(e,t),kt(e,t,o,r),t.child;case 6:return e===null&&vh(t),null;case 13:return Vv(e,t,r);case 4:return pf(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=cs(t,null,i,r):kt(e,t,i,r),t.child;case 11:return i=t.type,n=t.pendingProps,n=t.elementType===i?n:dr(i,n),Xm(e,t,i,n,r);case 7:return kt(e,t,t.pendingProps,r),t.child;case 8:return kt(e,t,t.pendingProps.children,r),t.child;case 12:return kt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(i=t.type._context,n=t.pendingProps,s=t.memoizedProps,o=n.value,je(rc,i._currentValue),i._currentValue=o,s!==null)if(br(s.value,o)){if(s.children===n.children&&!Ft.current){t=ni(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===i){if(s.tag===1){c=Jr(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),bh(s.return,r,t),l.lanes|=r;break}c=c.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(U(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),bh(o,r,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}kt(e,t,n.children,r),t=t.child}return t;case 9:return n=t.type,i=t.pendingProps.children,rs(t,r),n=ir(n),i=i(n),t.flags|=1,kt(e,t,i,r),t.child;case 14:return i=t.type,n=dr(i,t.pendingProps),n=dr(i.type,n),Qm(e,t,i,n,r);case 15:return qv(e,t,t.type,t.pendingProps,r);case 17:return i=t.type,n=t.pendingProps,n=t.elementType===i?n:dr(i,n),wl(e,t),t.tag=1,Ut(i)?(e=!0,Zl(t)):e=!1,rs(t,r),Fv(t,i,n),Ch(t,i,n,r),jh(null,t,i,!0,e,r);case 19:return Yv(e,t,r);case 22:return Hv(e,t,r)}throw Error(U(156,t.tag))};function ub(e,t){return Oy(e,t)}function _N(e,t,r,i){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tr(e,t,r,i){return new _N(e,t,r,i)}function Tf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function NN(e){if(typeof e=="function")return Tf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Gp)return 11;if(e===Vp)return 14}return 2}function Ni(e,t){var r=e.alternate;return r===null?(r=tr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function _l(e,t,r,i,n,s){var o=2;if(i=e,typeof e=="function")Tf(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Fn:return sn(r.children,n,s,t);case Wp:o=8,n|=8;break;case Gd:return e=tr(12,r,t,n|2),e.elementType=Gd,e.lanes=s,e;case Vd:return e=tr(13,r,t,n),e.elementType=Vd,e.lanes=s,e;case Yd:return e=tr(19,r,t,n),e.elementType=Yd,e.lanes=s,e;case by:return lu(r,n,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case yy:o=10;break e;case vy:o=9;break e;case Gp:o=11;break e;case Vp:o=14;break e;case di:o=16,i=null;break e}throw Error(U(130,e==null?e:typeof e,""))}return t=tr(o,r,t,n),t.elementType=e,t.type=i,t.lanes=s,t}function sn(e,t,r,i){return e=tr(7,e,i,t),e.lanes=r,e}function lu(e,t,r,i){return e=tr(22,e,i,t),e.elementType=by,e.lanes=r,e.stateNode={isHidden:!1},e}function bd(e,t,r){return e=tr(6,e,null,t),e.lanes=r,e}function Sd(e,t,r){return t=tr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function TN(e,t,r,i,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=td(0),this.expirationTimes=td(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=td(0),this.identifierPrefix=i,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function Ef(e,t,r,i,n,s,o,l,c){return e=new TN(e,t,r,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=tr(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:i,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},hf(s),e}function EN(e,t,r){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$n,key:i==null?null:""+i,children:e,containerInfo:t,implementation:r}}function db(e){if(!e)return Ri;e=e._reactInternals;e:{if(bn(e)!==e||e.tag!==1)throw Error(U(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ut(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(U(171))}if(e.tag===1){var r=e.type;if(Ut(r))return dv(e,r,t)}return t}function hb(e,t,r,i,n,s,o,l,c){return e=Ef(r,i,!0,e,n,s,o,l,c),e.context=db(null),r=e.current,i=Tt(),n=_i(r),s=Jr(i,n),s.callback=t??null,ki(r,s,n),e.current.lanes=n,go(e,n,i),zt(e,i),e}function cu(e,t,r,i){var n=t.current,s=Tt(),o=_i(n);return r=db(r),t.context===null?t.context=r:t.pendingContext=r,t=Jr(s,o),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=ki(n,t,o),e!==null&&(xr(e,n,o,s),bl(e,n,o)),o}function hc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function lx(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Af(e,t){lx(e,t),(e=e.alternate)&&lx(e,t)}function AN(){return null}var pb=typeof reportError=="function"?reportError:function(e){console.error(e)};function Rf(e){this._internalRoot=e}uu.prototype.render=Rf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(U(409));cu(e,t,null,null)};uu.prototype.unmount=Rf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;dn(function(){cu(null,e,null,null)}),t[ri]=null}};function uu(e){this._internalRoot=e}uu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Hy();e={blockedOn:null,target:e,priority:t};for(var r=0;r<fi.length&&t!==0&&t<fi[r].priority;r++);fi.splice(r,0,e),r===0&&Gy(e)}};function Lf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function du(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function cx(){}function RN(e,t,r,i,n){if(n){if(typeof i=="function"){var s=i;i=function(){var u=hc(o);s.call(u)}}var o=hb(t,i,e,0,null,!1,!1,"",cx);return e._reactRootContainer=o,e[ri]=o.current,Ba(e.nodeType===8?e.parentNode:e),dn(),o}for(;n=e.lastChild;)e.removeChild(n);if(typeof i=="function"){var l=i;i=function(){var u=hc(c);l.call(u)}}var c=Ef(e,0,!1,null,null,!1,!1,"",cx);return e._reactRootContainer=c,e[ri]=c.current,Ba(e.nodeType===8?e.parentNode:e),dn(function(){cu(t,c,r,i)}),c}function hu(e,t,r,i,n){var s=r._reactRootContainer;if(s){var o=s;if(typeof n=="function"){var l=n;n=function(){var c=hc(o);l.call(c)}}cu(t,o,e,n)}else o=RN(r,t,e,n,i);return hc(o)}zy=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ra(t.pendingLanes);r!==0&&(Qp(t,r|1),zt(t,Fe()),!(ye&6)&&(hs=Fe()+500,Ii()))}break;case 13:dn(function(){var i=ii(e,1);if(i!==null){var n=Tt();xr(i,e,1,n)}}),Af(e,1)}};Kp=function(e){if(e.tag===13){var t=ii(e,134217728);if(t!==null){var r=Tt();xr(t,e,134217728,r)}Af(e,134217728)}};qy=function(e){if(e.tag===13){var t=_i(e),r=ii(e,t);if(r!==null){var i=Tt();xr(r,e,t,i)}Af(e,t)}};Hy=function(){return we};Wy=function(e,t){var r=we;try{return we=e,t()}finally{we=r}};nh=function(e,t,r){switch(t){case"input":if(Kd(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var i=r[t];if(i!==e&&i.form===e.form){var n=ru(i);if(!n)throw Error(U(90));Cy(i),Kd(i,n)}}}break;case"textarea":ky(e,r);break;case"select":t=r.value,t!=null&&Jn(e,!!r.multiple,t,!1)}};Ry=jf;Ly=dn;var LN={usingClientEntryPoint:!1,Events:[xo,Hn,ru,Ey,Ay,jf]},zs={findFiberByHostInstance:Qi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},PN={bundleType:zs.bundleType,version:zs.version,rendererPackageName:zs.rendererPackageName,rendererConfig:zs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:oi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=By(e),e===null?null:e.stateNode},findFiberByHostInstance:zs.findFiberByHostInstance||AN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zo.isDisabled&&Zo.supportsFiber)try{Jc=Zo.inject(PN),Rr=Zo}catch{}}Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LN;Qt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lf(t))throw Error(U(200));return EN(e,t,null,r)};Qt.createRoot=function(e,t){if(!Lf(e))throw Error(U(299));var r=!1,i="",n=pb;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(n=t.onRecoverableError)),t=Ef(e,1,!1,null,null,r,!1,i,n),e[ri]=t.current,Ba(e.nodeType===8?e.parentNode:e),new Rf(t)};Qt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(U(188)):(e=Object.keys(e).join(","),Error(U(268,e)));return e=By(t),e=e===null?null:e.stateNode,e};Qt.flushSync=function(e){return dn(e)};Qt.hydrate=function(e,t,r){if(!du(t))throw Error(U(200));return hu(null,e,t,!0,r)};Qt.hydrateRoot=function(e,t,r){if(!Lf(e))throw Error(U(405));var i=r!=null&&r.hydratedSources||null,n=!1,s="",o=pb;if(r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=hb(t,null,e,1,r??null,n,!1,s,o),e[ri]=t.current,Ba(e),i)for(e=0;e<i.length;e++)r=i[e],n=r._getVersion,n=n(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,n]:t.mutableSourceEagerHydrationData.push(r,n);return new uu(t)};Qt.render=function(e,t,r){if(!du(t))throw Error(U(200));return hu(null,e,t,!1,r)};Qt.unmountComponentAtNode=function(e){if(!du(e))throw Error(U(40));return e._reactRootContainer?(dn(function(){hu(null,null,e,!1,function(){e._reactRootContainer=null,e[ri]=null})}),!0):!1};Qt.unstable_batchedUpdates=jf;Qt.unstable_renderSubtreeIntoContainer=function(e,t,r,i){if(!du(r))throw Error(U(200));if(e==null||e._reactInternals===void 0)throw Error(U(38));return hu(e,t,r,!1,i)};Qt.version="18.3.1-next-f1338f8080-20240426";function fb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(fb)}catch(e){console.error(e)}}fb(),fy.exports=Qt;var MN=fy.exports,ux=MN;Hd.createRoot=ux.createRoot,Hd.hydrateRoot=ux.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ha(){return Ha=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Ha.apply(this,arguments)}var yi;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(yi||(yi={}));const dx="popstate";function BN(e){e===void 0&&(e={});function t(i,n){let{pathname:s,search:o,hash:l}=i.location;return Oh("",{pathname:s,search:o,hash:l},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function r(i,n){return typeof n=="string"?n:pc(n)}return ON(t,r,null,e)}function Ge(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function gb(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function DN(){return Math.random().toString(36).substr(2,8)}function hx(e,t){return{usr:e.state,key:e.key,idx:t}}function Oh(e,t,r,i){return r===void 0&&(r=null),Ha({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?_s(t):t,{state:r,key:t&&t.key||i||DN()})}function pc(e){let{pathname:t="/",search:r="",hash:i=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function _s(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}function ON(e,t,r,i){i===void 0&&(i={});let{window:n=document.defaultView,v5Compat:s=!1}=i,o=n.history,l=yi.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Ha({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=yi.Pop;let b=d(),y=b==null?null:b-u;u=b,c&&c({action:l,location:m.location,delta:y})}function p(b,y){l=yi.Push;let v=Oh(m.location,b,y);r&&r(v,b),u=d()+1;let S=hx(v,u),w=m.createHref(v);try{o.pushState(S,"",w)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;n.location.assign(w)}s&&c&&c({action:l,location:m.location,delta:1})}function f(b,y){l=yi.Replace;let v=Oh(m.location,b,y);r&&r(v,b),u=d();let S=hx(v,u),w=m.createHref(v);o.replaceState(S,"",w),s&&c&&c({action:l,location:m.location,delta:0})}function g(b){let y=n.location.origin!=="null"?n.location.origin:n.location.href,v=typeof b=="string"?b:pc(b);return v=v.replace(/ $/,"%20"),Ge(y,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,y)}let m={get action(){return l},get location(){return e(n,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return n.addEventListener(dx,h),c=b,()=>{n.removeEventListener(dx,h),c=null}},createHref(b){return t(n,b)},createURL:g,encodeLocation(b){let y=g(b);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:p,replace:f,go(b){return o.go(b)}};return m}var px;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(px||(px={}));function IN(e,t,r){return r===void 0&&(r="/"),$N(e,t,r,!1)}function $N(e,t,r,i){let n=typeof t=="string"?_s(t):t,s=Pf(n.pathname||"/",r);if(s==null)return null;let o=mb(e);FN(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=KN(s);l=XN(o[c],u,i)}return l}function mb(e,t,r,i){t===void 0&&(t=[]),r===void 0&&(r=[]),i===void 0&&(i="");let n=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(Ge(c.relativePath.startsWith(i),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(i.length));let u=Ti([i,c.relativePath]),d=r.concat(c);s.children&&s.children.length>0&&(Ge(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),mb(s.children,t,d,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:VN(u,s.index),routesMeta:d})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))n(s,o);else for(let c of xb(s.path))n(s,o,c)}),t}function xb(e){let t=e.split("/");if(t.length===0)return[];let[r,...i]=t,n=r.endsWith("?"),s=r.replace(/\?$/,"");if(i.length===0)return n?[s,""]:[s];let o=xb(i.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),n&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function FN(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:YN(t.routesMeta.map(i=>i.childrenIndex),r.routesMeta.map(i=>i.childrenIndex)))}const UN=/^:[\w-]+$/,zN=3,qN=2,HN=1,WN=10,GN=-2,fx=e=>e==="*";function VN(e,t){let r=e.split("/"),i=r.length;return r.some(fx)&&(i+=GN),t&&(i+=qN),r.filter(n=>!fx(n)).reduce((n,s)=>n+(UN.test(s)?zN:s===""?HN:WN),i)}function YN(e,t){return e.length===t.length&&e.slice(0,-1).every((i,n)=>i===t[n])?e[e.length-1]-t[t.length-1]:0}function XN(e,t,r){r===void 0&&(r=!1);let{routesMeta:i}=e,n={},s="/",o=[];for(let l=0;l<i.length;++l){let c=i[l],u=l===i.length-1,d=s==="/"?t:t.slice(s.length)||"/",h=gx({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),p=c.route;if(!h&&u&&r&&!i[i.length-1].route.index&&(h=gx({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(n,h.params),o.push({params:n,pathname:Ti([s,h.pathname]),pathnameBase:tT(Ti([s,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(s=Ti([s,h.pathnameBase]))}return o}function gx(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,i]=QN(e.path,e.caseSensitive,e.end),n=t.match(r);if(!n)return null;let s=n[0],o=s.replace(/(.)\/+$/,"$1"),l=n.slice(1);return{params:i.reduce((u,d,h)=>{let{paramName:p,isOptional:f}=d;if(p==="*"){let m=l[h]||"";o=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const g=l[h];return f&&!g?u[p]=void 0:u[p]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function QN(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),gb(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let i=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(i.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),n+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?n+="\\/*$":e!==""&&e!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,t?void 0:"i"),i]}function KN(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return gb(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Pf(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,i=e.charAt(r);return i&&i!=="/"?null:e.slice(r)||"/"}function JN(e,t){t===void 0&&(t="/");let{pathname:r,search:i="",hash:n=""}=typeof e=="string"?_s(e):e;return{pathname:r?r.startsWith("/")?r:ZN(r,t):t,search:rT(i),hash:iT(n)}}function ZN(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?r.length>1&&r.pop():n!=="."&&r.push(n)}),r.length>1?r.join("/"):"/"}function Cd(e,t,r,i){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function eT(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function yb(e,t){let r=eT(e);return t?r.map((i,n)=>n===r.length-1?i.pathname:i.pathnameBase):r.map(i=>i.pathnameBase)}function vb(e,t,r,i){i===void 0&&(i=!1);let n;typeof e=="string"?n=_s(e):(n=Ha({},e),Ge(!n.pathname||!n.pathname.includes("?"),Cd("?","pathname","search",n)),Ge(!n.pathname||!n.pathname.includes("#"),Cd("#","pathname","hash",n)),Ge(!n.search||!n.search.includes("#"),Cd("#","search","hash",n)));let s=e===""||n.pathname==="",o=s?"/":n.pathname,l;if(o==null)l=r;else{let h=t.length-1;if(!i&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;n.pathname=p.join("/")}l=h>=0?t[h]:"/"}let c=JN(n,l),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Ti=e=>e.join("/").replace(/\/\/+/g,"/"),tT=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),rT=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,iT=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function nT(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const bb=["post","put","patch","delete"];new Set(bb);const sT=["get",...bb];new Set(sT);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wa(){return Wa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Wa.apply(this,arguments)}const Mf=V.createContext(null),aT=V.createContext(null),Sn=V.createContext(null),pu=V.createContext(null),Cn=V.createContext({outlet:null,matches:[],isDataRoute:!1}),Sb=V.createContext(null);function oT(e,t){let{relative:r}=t===void 0?{}:t;vo()||Ge(!1);let{basename:i,navigator:n}=V.useContext(Sn),{hash:s,pathname:o,search:l}=wb(e,{relative:r}),c=o;return i!=="/"&&(c=o==="/"?i:Ti([i,o])),n.createHref({pathname:c,search:l,hash:s})}function vo(){return V.useContext(pu)!=null}function bo(){return vo()||Ge(!1),V.useContext(pu).location}function Cb(e){V.useContext(Sn).static||V.useLayoutEffect(e)}function lT(){let{isDataRoute:e}=V.useContext(Cn);return e?ST():cT()}function cT(){vo()||Ge(!1);let e=V.useContext(Mf),{basename:t,future:r,navigator:i}=V.useContext(Sn),{matches:n}=V.useContext(Cn),{pathname:s}=bo(),o=JSON.stringify(yb(n,r.v7_relativeSplatPath)),l=V.useRef(!1);return Cb(()=>{l.current=!0}),V.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){i.go(u);return}let h=vb(u,JSON.parse(o),s,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Ti([t,h.pathname])),(d.replace?i.replace:i.push)(h,d.state,d)},[t,i,o,s,e])}function wb(e,t){let{relative:r}=t===void 0?{}:t,{future:i}=V.useContext(Sn),{matches:n}=V.useContext(Cn),{pathname:s}=bo(),o=JSON.stringify(yb(n,i.v7_relativeSplatPath));return V.useMemo(()=>vb(e,JSON.parse(o),s,r==="path"),[e,o,s,r])}function uT(e,t){return dT(e,t)}function dT(e,t,r,i){vo()||Ge(!1);let{navigator:n}=V.useContext(Sn),{matches:s}=V.useContext(Cn),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=bo(),d;if(t){var h;let b=typeof t=="string"?_s(t):t;c==="/"||(h=b.pathname)!=null&&h.startsWith(c)||Ge(!1),d=b}else d=u;let p=d.pathname||"/",f=p;if(c!=="/"){let b=c.replace(/^\//,"").split("/");f="/"+p.replace(/^\//,"").split("/").slice(b.length).join("/")}let g=IN(e,{pathname:f}),m=mT(g&&g.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:Ti([c,n.encodeLocation?n.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:Ti([c,n.encodeLocation?n.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,r,i);return t&&m?V.createElement(pu.Provider,{value:{location:Wa({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:yi.Pop}},m):m}function hT(){let e=bT(),t=nT(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},t),r?V.createElement("pre",{style:n},r):null,s)}const pT=V.createElement(hT,null);class fT extends V.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?V.createElement(Cn.Provider,{value:this.props.routeContext},V.createElement(Sb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function gT(e){let{routeContext:t,match:r,children:i}=e,n=V.useContext(Mf);return n&&n.static&&n.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=r.route.id),V.createElement(Cn.Provider,{value:t},i)}function mT(e,t,r,i){var n;if(t===void 0&&(t=[]),r===void 0&&(r=null),i===void 0&&(i=null),e==null){var s;if(!r)return null;if(r.errors)e=r.matches;else if((s=i)!=null&&s.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(n=r)==null?void 0:n.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||Ge(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&i&&i.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:p,errors:f}=r,g=h.route.loader&&p[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||g){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,p)=>{let f,g=!1,m=null,b=null;r&&(f=l&&h.route.id?l[h.route.id]:void 0,m=h.route.errorElement||pT,c&&(u<0&&p===0?(CT("route-fallback",!1),g=!0,b=null):u===p&&(g=!0,b=h.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,p+1)),v=()=>{let S;return f?S=m:g?S=b:h.route.Component?S=V.createElement(h.route.Component,null):h.route.element?S=h.route.element:S=d,V.createElement(gT,{match:h,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:S})};return r&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?V.createElement(fT,{location:r.location,revalidation:r.revalidation,component:m,error:f,children:v(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):v()},null)}var kb=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(kb||{}),fc=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(fc||{});function xT(e){let t=V.useContext(Mf);return t||Ge(!1),t}function yT(e){let t=V.useContext(aT);return t||Ge(!1),t}function vT(e){let t=V.useContext(Cn);return t||Ge(!1),t}function jb(e){let t=vT(),r=t.matches[t.matches.length-1];return r.route.id||Ge(!1),r.route.id}function bT(){var e;let t=V.useContext(Sb),r=yT(fc.UseRouteError),i=jb(fc.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[i]}function ST(){let{router:e}=xT(kb.UseNavigateStable),t=jb(fc.UseNavigateStable),r=V.useRef(!1);return Cb(()=>{r.current=!0}),V.useCallback(function(n,s){s===void 0&&(s={}),r.current&&(typeof n=="number"?e.navigate(n):e.navigate(n,Wa({fromRouteId:t},s)))},[e,t])}const mx={};function CT(e,t,r){!t&&!mx[e]&&(mx[e]=!0)}function wT(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function nt(e){Ge(!1)}function kT(e){let{basename:t="/",children:r=null,location:i,navigationType:n=yi.Pop,navigator:s,static:o=!1,future:l}=e;vo()&&Ge(!1);let c=t.replace(/^\/*/,"/"),u=V.useMemo(()=>({basename:c,navigator:s,static:o,future:Wa({v7_relativeSplatPath:!1},l)}),[c,l,s,o]);typeof i=="string"&&(i=_s(i));let{pathname:d="/",search:h="",hash:p="",state:f=null,key:g="default"}=i,m=V.useMemo(()=>{let b=Pf(d,c);return b==null?null:{location:{pathname:b,search:h,hash:p,state:f,key:g},navigationType:n}},[c,d,h,p,f,g,n]);return m==null?null:V.createElement(Sn.Provider,{value:u},V.createElement(pu.Provider,{children:r,value:m}))}function jT(e){let{children:t,location:r}=e;return uT(Ih(t),r)}new Promise(()=>{});function Ih(e,t){t===void 0&&(t=[]);let r=[];return V.Children.forEach(e,(i,n)=>{if(!V.isValidElement(i))return;let s=[...t,n];if(i.type===V.Fragment){r.push.apply(r,Ih(i.props.children,s));return}i.type!==nt&&Ge(!1),!i.props.index||!i.props.children||Ge(!1);let o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=Ih(i.props.children,s)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $h(){return $h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},$h.apply(this,arguments)}function _T(e,t){if(e==null)return{};var r={},i=Object.keys(e),n,s;for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&(r[n]=e[n]);return r}function NT(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function TT(e,t){return e.button===0&&(!t||t==="_self")&&!NT(e)}const ET=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],AT="6";try{window.__reactRouterVersion=AT}catch{}const RT="startTransition",xx=wj[RT];function LT(e){let{basename:t,children:r,future:i,window:n}=e,s=V.useRef();s.current==null&&(s.current=BN({window:n,v5Compat:!0}));let o=s.current,[l,c]=V.useState({action:o.action,location:o.location}),{v7_startTransition:u}=i||{},d=V.useCallback(h=>{u&&xx?xx(()=>c(h)):c(h)},[c,u]);return V.useLayoutEffect(()=>o.listen(d),[o,d]),V.useEffect(()=>wT(i),[i]),V.createElement(kT,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:i})}const PT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",MT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pe=V.forwardRef(function(t,r){let{onClick:i,relative:n,reloadDocument:s,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,p=_T(t,ET),{basename:f}=V.useContext(Sn),g,m=!1;if(typeof u=="string"&&MT.test(u)&&(g=u,PT))try{let S=new URL(window.location.href),w=u.startsWith("//")?new URL(S.protocol+u):new URL(u),k=Pf(w.pathname,f);w.origin===S.origin&&k!=null?u=k+w.search+w.hash:m=!0}catch{}let b=oT(u,{relative:n}),y=BT(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:n,viewTransition:h});function v(S){i&&i(S),S.defaultPrevented||y(S)}return V.createElement("a",$h({},p,{href:g||b,onClick:m||s?i:v,ref:r,target:c}))});var yx;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(yx||(yx={}));var vx;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(vx||(vx={}));function BT(e,t){let{target:r,replace:i,state:n,preventScrollReset:s,relative:o,viewTransition:l}=t===void 0?{}:t,c=lT(),u=bo(),d=wb(e,{relative:o});return V.useCallback(h=>{if(TT(h,r)){h.preventDefault();let p=i!==void 0?i:pc(u)===pc(d);c(e,{replace:p,state:n,preventScrollReset:s,relative:o,viewTransition:l})}},[u,c,d,i,n,r,e,s,o,l])}function DT(){const e=bo(),t=r=>e.pathname===r;return a.jsx("nav",{className:"bg-white shadow-sm border-b border-gray-200",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between h-16",children:[a.jsx("div",{className:"flex items-center",children:a.jsxs(Pe,{to:"/",className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-8 h-8 bg-spring-600 rounded-lg flex items-center justify-center",children:a.jsx("span",{className:"text-white font-bold text-sm",children:"SB"})}),a.jsx("span",{className:"text-xl font-bold text-gray-900",children:"Spring Boot Hub"})]})}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(Pe,{to:"/",className:`nav-link ${t("/")?"active":""}`,children:"홈"}),a.jsx(Pe,{to:"/gradle",className:`nav-link ${t("/gradle")?"active":""}`,children:"Gradle 예제"}),a.jsx(Pe,{to:"/maven",className:`nav-link ${t("/maven")?"active":""}`,children:"Maven 예제"}),a.jsx(Pe,{to:"/kotlin",className:`nav-link ${t("/kotlin")?"active":""}`,children:"Kotlin 예제"}),a.jsx(Pe,{to:"/patterns",className:`nav-link ${t("/patterns")?"active":""}`,children:"디자인 패턴"}),a.jsx(Pe,{to:"/principles",className:`nav-link ${t("/principles")?"active":""}`,children:"핵심 원리"}),a.jsx(Pe,{to:"/tools",className:`nav-link ${t("/tools")?"active":""}`,children:"개발 도구"}),a.jsx(Pe,{to:"/config",className:`nav-link ${t("/config")?"active":""}`,children:"설정 가이드"}),a.jsx(Pe,{to:"/comparison",className:`nav-link ${t("/comparison")?"active":""}`,children:"완전 비교표"}),a.jsx(Pe,{to:"/nexus",className:`nav-link ${t("/nexus")?"active":""}`,children:"Nexus 폐쇄망"})]})]})})})}function OT(){const e=[{title:"Gradle 예제",description:"모던 빌드 도구 Gradle을 사용한 Spring Boot 프로젝트 예제",link:"/gradle",icon:"🔧"},{title:"Maven 예제",description:"전통적인 빌드 도구 Maven을 사용한 Spring Boot 프로젝트 예제",link:"/maven",icon:"📦"},{title:"Kotlin 예제",description:"Kotlin 언어로 작성된 Spring Boot 애플리케이션 예제",link:"/kotlin",icon:"🎆"},{title:"디자인 패턴",description:"Spring Boot에서 사용되는 핵심 디자인 패턴과 아키텍처 예제",link:"/patterns",icon:"🏢"},{title:"핵심 원리",description:"Spring Boot의 핵심 메커니즘과 동작 원리를 상세 분석",link:"/principles",icon:"⚡"},{title:"개발 도구",description:"생산성을 높이는 라이브러리와 프레임워크 모음",link:"/tools",icon:"🛠️"},{title:"설정 가이드",description:"환경별 설정, 프로파일 관리, 자동 구성 가이드",link:"/config",icon:"⚙️"},{title:"완전 비교표",description:"Maven vs Gradle vs application.yml 상세 비교 및 선택 가이드",link:"/comparison",icon:"📊"},{title:"Nexus 폐쇄망",description:"폐쇄망 환경에서 Nexus를 활용한 Spring Boot 개발 완벽 가이드",link:"/nexus",icon:"🏛️"}];return a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Spring Boot Hub"}),a.jsxs("p",{className:"text-xl text-gray-600 mb-8 max-w-3xl mx-auto",children:["스프링부트 개발의 진입장벽을 해소하고, 탄탄한 기초부터 고급 디자인 패턴까지",a.jsx("br",{}),"코드 중심의 예제와 함께 학습하세요."]}),a.jsxs("div",{className:"flex justify-center space-x-4",children:[a.jsx(Pe,{to:"/gradle",className:"btn-primary",children:"시작하기"}),a.jsx("a",{href:"https://github.com/jeonck/spring-boot-hub",className:"btn-secondary",target:"_blank",rel:"noopener noreferrer",children:"GitHub에서 보기"})]})]}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-16",children:e.map((t,r)=>a.jsxs(Pe,{to:t.link,className:"card hover:shadow-md transition-shadow group",children:[a.jsx("div",{className:"text-3xl mb-4",children:t.icon}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2 group-hover:text-spring-600 transition-colors",children:t.title}),a.jsx("p",{className:"text-gray-600",children:t.description})]},r))}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:"주요 학습 콘텐츠"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"프레임워크 핵심 기능"}),a.jsxs("ul",{className:"space-y-2 text-gray-600",children:[a.jsx("li",{children:"• 자동 구성 (Auto-configuration)"}),a.jsx("li",{children:"• 의존성 주입 (Dependency Injection)"}),a.jsx("li",{children:"• 스프링 시큐리티 (Spring Security)"}),a.jsx("li",{children:"• 데이터 JPA 연동"}),a.jsx("li",{children:"• 액추에이터 모니터링"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"아키텍처 패턴"}),a.jsxs("ul",{className:"space-y-2 text-gray-600",children:[a.jsx("li",{children:"• MVC 아키텍처 구조"}),a.jsx("li",{children:"• 레이어 계층 분리"}),a.jsx("li",{children:"• 리포지토리 패턴"}),a.jsx("li",{children:"• DTO 패턴"}),a.jsx("li",{children:"• 빌더 패턴"})]})]})]})]})]})}function IT(){return a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Gradle 예제"}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"기본 Spring Boot 프로젝트"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Gradle을 사용한 기본 Spring Boot 애플리케이션 예제입니다."}),a.jsxs("div",{className:"mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"build.gradle"}),a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:`plugins {
    id 'org.springframework.boot' version '3.1.0'
    id 'io.spring.dependency-management' version '1.1.0'
    id 'java'
}

group = 'com.springhub.example'
version = '0.0.1-SNAPSHOT'
java.sourceCompatibility = JavaVersion.VERSION_17

repositories {
    mavenCentral()
}

dependencies {
    implementation 'org.springframework.boot:spring-boot-starter-web'
    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'
    implementation 'org.springframework.boot:spring-boot-starter-validation'
    
    runtimeOnly 'com.h2database:h2'
    
    testImplementation 'org.springframework.boot:spring-boot-starter-test'
}`})})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"실행 명령어"}),a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:`# 애플리케이션 실행
./gradlew bootRun

# 빌드
./gradlew build

# 테스트 실행
./gradlew test

# JAR 파일 실행
./gradlew bootJar
java -jar build/libs/example-0.0.1-SNAPSHOT.jar`})})]})]}),a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"REST API 예제"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Spring Boot와 Gradle을 사용한 RESTful API 구현 예제입니다."}),a.jsxs("div",{className:"mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Controller 예제"}),a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:`@RestController
@RequestMapping("/api/users")
public class UserController {
    
    @Autowired
    private UserService userService;
    
    @GetMapping
    public List<User> getAllUsers() {
        return userService.findAll();
    }
    
    @GetMapping("/{id}")
    public ResponseEntity<User> getUserById(@PathVariable Long id) {
        User user = userService.findById(id);
        return user != null ? ResponseEntity.ok(user) : ResponseEntity.notFound().build();
    }
    
    @PostMapping
    public User createUser(@Valid @RequestBody User user) {
        return userService.save(user);
    }
    
    @PutMapping("/{id}")
    public ResponseEntity<User> updateUser(@PathVariable Long id, @Valid @RequestBody User user) {
        User updatedUser = userService.update(id, user);
        return updatedUser != null ? ResponseEntity.ok(updatedUser) : ResponseEntity.notFound().build();
    }
    
    @DeleteMapping("/{id}")
    public ResponseEntity<Void> deleteUser(@PathVariable Long id) {
        boolean deleted = userService.delete(id);
        return deleted ? ResponseEntity.noContent().build() : ResponseEntity.notFound().build();
    }
}`})})]})]}),a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Gradle 주요 명령어"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"개발 명령어"}),a.jsxs("ul",{className:"space-y-1 text-gray-600",children:[a.jsxs("li",{children:[a.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"./gradlew bootRun"})," - 애플리케이션 실행"]}),a.jsxs("li",{children:[a.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"./gradlew test"})," - 테스트 실행"]}),a.jsxs("li",{children:[a.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"./gradlew build"})," - 빌드"]}),a.jsxs("li",{children:[a.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"./gradlew clean"})," - 빌드 파일 정리"]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"배포 명령어"}),a.jsxs("ul",{className:"space-y-1 text-gray-600",children:[a.jsxs("li",{children:[a.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"./gradlew bootJar"})," - JAR 파일 생성"]}),a.jsxs("li",{children:[a.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"./gradlew bootWar"})," - WAR 파일 생성"]}),a.jsxs("li",{children:[a.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"./gradlew publish"})," - 아티팩트 배포"]})]})]})]})]})]})]})}function $T(){return a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Maven 예제"}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"기본 Spring Boot 프로젝트"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Maven을 사용한 기본 Spring Boot 애플리케이션 예제입니다."}),a.jsxs("div",{className:"mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"pom.xml"}),a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:`<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0
         http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>
    
    <parent>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-parent</artifactId>
        <version>3.1.0</version>
        <relativePath/>
    </parent>
    
    <groupId>com.springhub.example</groupId>
    <artifactId>spring-boot-maven-example</artifactId>
    <version>0.0.1-SNAPSHOT</version>
    <name>spring-boot-maven-example</name>
    <description>Spring Boot Maven Example</description>
    
    <properties>
        <java.version>17</java.version>
    </properties>
    
    <dependencies>
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-web</artifactId>
        </dependency>
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-data-jpa</artifactId>
        </dependency>
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-validation</artifactId>
        </dependency>
        
        <dependency>
            <groupId>com.h2database</groupId>
            <artifactId>h2</artifactId>
            <scope>runtime</scope>
        </dependency>
        
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-test</artifactId>
            <scope>test</scope>
        </dependency>
    </dependencies>
    
    <build>
        <plugins>
            <plugin>
                <groupId>org.springframework.boot</groupId>
                <artifactId>spring-boot-maven-plugin</artifactId>
            </plugin>
        </plugins>
    </build>
</project>`})})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"실행 명령어"}),a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:`# 애플리케이션 실행
./mvnw spring-boot:run

# 빌드
./mvnw clean package

# 테스트 실행
./mvnw test

# JAR 파일 실행
java -jar target/spring-boot-maven-example-0.0.1-SNAPSHOT.jar`})})]})]}),a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Service 계층 예제"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Maven 프로젝트에서 Service 계층 구현 예제입니다."}),a.jsxs("div",{className:"mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Service 예제"}),a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:`@Service
@Transactional
public class UserService {
    
    @Autowired
    private UserRepository userRepository;
    
    public List<User> findAll() {
        return userRepository.findAll();
    }
    
    public User findById(Long id) {
        return userRepository.findById(id).orElse(null);
    }
    
    public User save(User user) {
        // 비지니스 로직 처리
        validateUser(user);
        user.setCreatedAt(LocalDateTime.now());
        return userRepository.save(user);
    }
    
    public User update(Long id, User user) {
        User existingUser = findById(id);
        if (existingUser != null) {
            existingUser.setName(user.getName());
            existingUser.setEmail(user.getEmail());
            existingUser.setUpdatedAt(LocalDateTime.now());
            return userRepository.save(existingUser);
        }
        return null;
    }
    
    public boolean delete(Long id) {
        if (userRepository.existsById(id)) {
            userRepository.deleteById(id);
            return true;
        }
        return false;
    }
    
    private void validateUser(User user) {
        if (user.getName() == null || user.getName().trim().isEmpty()) {
            throw new IllegalArgumentException("사용자 이름이 필수입니다.");
        }
        if (user.getEmail() == null || !user.getEmail().contains("@")) {
            throw new IllegalArgumentException("유효한 이메일 주소가 필요합니다.");
        }
    }
}`})})]})]}),a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Maven 주요 명령어"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"개발 명령어"}),a.jsxs("ul",{className:"space-y-1 text-gray-600",children:[a.jsxs("li",{children:[a.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"./mvnw spring-boot:run"})," - 애플리케이션 실행"]}),a.jsxs("li",{children:[a.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"./mvnw test"})," - 테스트 실행"]}),a.jsxs("li",{children:[a.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"./mvnw compile"})," - 컴파일"]}),a.jsxs("li",{children:[a.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"./mvnw clean"})," - 빌드 파일 정리"]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"배포 명령어"}),a.jsxs("ul",{className:"space-y-1 text-gray-600",children:[a.jsxs("li",{children:[a.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"./mvnw package"})," - JAR 파일 생성"]}),a.jsxs("li",{children:[a.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"./mvnw install"})," - 로컬 리포지토리 설치"]}),a.jsxs("li",{children:[a.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"./mvnw deploy"})," - 원격 리포지토리 배포"]})]})]})]})]})]})]})}function FT(){return a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Kotlin 예제"}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"기본 Kotlin Spring Boot 프로젝트"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Kotlin 언어로 작성된 Spring Boot 애플리케이션 예제입니다."}),a.jsxs("div",{className:"mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"build.gradle.kts"}),a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:`plugins {
    id("org.springframework.boot") version "3.1.0"
    id("io.spring.dependency-management") version "1.1.0"
    kotlin("jvm") version "1.8.21"
    kotlin("plugin.spring") version "1.8.21"
    kotlin("plugin.jpa") version "1.8.21"
}

group = "com.springhub.example"
version = "0.0.1-SNAPSHOT"
java.sourceCompatibility = JavaVersion.VERSION_17

repositories {
    mavenCentral()
}

dependencies {
    implementation("org.springframework.boot:spring-boot-starter-web")
    implementation("org.springframework.boot:spring-boot-starter-data-jpa")
    implementation("org.springframework.boot:spring-boot-starter-validation")
    implementation("com.fasterxml.jackson.module:jackson-module-kotlin")
    implementation("org.jetbrains.kotlin:kotlin-reflect")
    implementation("org.jetbrains.kotlin:kotlin-stdlib-jdk8")
    
    runtimeOnly("com.h2database:h2")
    
    testImplementation("org.springframework.boot:spring-boot-starter-test")
}`})})]})]}),a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Kotlin Controller 예제"}),a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:`@RestController
@RequestMapping("/api/products")
class ProductController(
    private val productService: ProductService
) {
    
    @GetMapping
    fun getAllProducts(): List<Product> = productService.findAll()
    
    @GetMapping("/{id}")
    fun getProductById(@PathVariable id: Long): ResponseEntity<Product> {
        val product = productService.findById(id)
        return if (product != null) {
            ResponseEntity.ok(product)
        } else {
            ResponseEntity.notFound().build()
        }
    }
    
    @PostMapping
    fun createProduct(@Valid @RequestBody product: Product): Product =
        productService.save(product)
    
    @PutMapping("/{id}")
    fun updateProduct(
        @PathVariable id: Long,
        @Valid @RequestBody product: Product
    ): ResponseEntity<Product> {
        val updatedProduct = productService.update(id, product)
        return if (updatedProduct != null) {
            ResponseEntity.ok(updatedProduct)
        } else {
            ResponseEntity.notFound().build()
        }
    }
    
    @DeleteMapping("/{id}")
    fun deleteProduct(@PathVariable id: Long): ResponseEntity<Void> {
        val deleted = productService.delete(id)
        return if (deleted) {
            ResponseEntity.noContent().build()
        } else {
            ResponseEntity.notFound().build()
        }
    }
}`})})]})]})]})}const UT="modulepreload",zT=function(e){return"/spring-boot-hub/"+e},bx={},Se=function(t,r,i){if(!r||r.length===0)return t();const n=document.getElementsByTagName("link");return Promise.all(r.map(s=>{if(s=zT(s),s in bx)return;bx[s]=!0;const o=s.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(!!i)for(let d=n.length-1;d>=0;d--){const h=n[d];if(h.href===s&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${l}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":UT,o||(u.as="script",u.crossOrigin=""),u.href=s,document.head.appendChild(u),o)return new Promise((d,h)=>{u.addEventListener("load",d),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>t()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var Sx={name:"mermaid",version:"11.12.0",description:"Markdown-ish syntax for generating flowcharts, mindmaps, sequence diagrams, class diagrams, gantt charts, git graphs and more.",type:"module",module:"./dist/mermaid.core.mjs",types:"./dist/mermaid.d.ts",exports:{".":{types:"./dist/mermaid.d.ts",import:"./dist/mermaid.core.mjs",default:"./dist/mermaid.core.mjs"},"./*":"./*"},keywords:["diagram","markdown","flowchart","sequence diagram","gantt","class diagram","git graph","mindmap","packet diagram","c4 diagram","er diagram","pie chart","pie diagram","quadrant chart","requirement diagram","graph"],scripts:{clean:"rimraf dist",dev:"pnpm -w dev","docs:code":"typedoc src/defaultConfig.ts src/config.ts src/mermaid.ts && prettier --write ./src/docs/config/setup","docs:build":"rimraf ../../docs && pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts","docs:verify":"pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts --verify","docs:pre:vitepress":"pnpm --filter ./src/docs prefetch && rimraf src/vitepress && pnpm docs:code && tsx scripts/docs.cli.mts --vitepress && pnpm --filter ./src/vitepress install --no-frozen-lockfile --ignore-scripts","docs:build:vitepress":"pnpm docs:pre:vitepress && (cd src/vitepress && pnpm run build) && cpy --flat src/docs/landing/ ./src/vitepress/.vitepress/dist/landing","docs:dev":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:dev:docker":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev:docker" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:serve":"pnpm docs:build:vitepress && vitepress serve src/vitepress","docs:spellcheck":'cspell "src/docs/**/*.md"',"docs:release-version":"tsx scripts/update-release-version.mts","docs:verify-version":"tsx scripts/update-release-version.mts --verify","types:build-config":"tsx scripts/create-types-from-json-schema.mts","types:verify-config":"tsx scripts/create-types-from-json-schema.mts --verify",checkCircle:"npx madge --circular ./src",prepublishOnly:"pnpm docs:verify-version"},repository:{type:"git",url:"https://github.com/mermaid-js/mermaid"},author:"Knut Sveidqvist",license:"MIT",standard:{ignore:["**/parser/*.js","dist/**/*.js","cypress/**/*.js"],globals:["page"]},dependencies:{"@braintree/sanitize-url":"^7.1.1","@iconify/utils":"^3.0.1","@mermaid-js/parser":"workspace:^","@types/d3":"^7.4.3",cytoscape:"^3.29.3","cytoscape-cose-bilkent":"^4.1.0","cytoscape-fcose":"^2.2.0",d3:"^7.9.0","d3-sankey":"^0.12.3","dagre-d3-es":"7.0.11",dayjs:"^1.11.18",dompurify:"^3.2.5",katex:"^0.16.22",khroma:"^2.1.0","lodash-es":"^4.17.21",marked:"^16.2.1",roughjs:"^4.6.6",stylis:"^4.3.6","ts-dedent":"^2.2.0",uuid:"^11.1.0"},devDependencies:{"@adobe/jsonschema2md":"^8.0.5","@iconify/types":"^2.0.0","@types/cytoscape":"^3.21.9","@types/cytoscape-fcose":"^2.2.4","@types/d3-sankey":"^0.12.4","@types/d3-scale":"^4.0.9","@types/d3-scale-chromatic":"^3.1.0","@types/d3-selection":"^3.0.11","@types/d3-shape":"^3.1.7","@types/jsdom":"^21.1.7","@types/katex":"^0.16.7","@types/lodash-es":"^4.17.12","@types/micromatch":"^4.0.9","@types/stylis":"^4.2.7","@types/uuid":"^10.0.0",ajv:"^8.17.1",canvas:"^3.1.2",chokidar:"3.6.0",concurrently:"^9.1.2","csstree-validator":"^4.0.1",globby:"^14.1.0",jison:"^0.4.18","js-base64":"^3.7.8",jsdom:"^26.1.0","json-schema-to-typescript":"^15.0.4",micromatch:"^4.0.8","path-browserify":"^1.0.1",prettier:"^3.5.3",remark:"^15.0.1","remark-frontmatter":"^5.0.0","remark-gfm":"^4.0.1",rimraf:"^6.0.1","start-server-and-test":"^2.0.13","type-fest":"^4.35.0",typedoc:"^0.28.12","typedoc-plugin-markdown":"^4.8.1",typescript:"~5.7.3","unist-util-flatmap":"^1.0.0","unist-util-visit":"^5.0.0",vitepress:"^1.6.4","vitepress-plugin-search":"1.0.4-alpha.22"},files:["dist/","README.md"],publishConfig:{access:"public"}},_b={exports:{}};(function(e,t){(function(r,i){e.exports=i()})(oj,function(){var r=1e3,i=6e4,n=36e5,s="millisecond",o="second",l="minute",c="hour",u="day",d="week",h="month",p="quarter",f="year",g="date",m="Invalid Date",b=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(P){var R=["th","st","nd","rd"],A=P%100;return"["+P+(R[(A-20)%10]||R[A]||R[0])+"]"}},S=function(P,R,A){var B=String(P);return!B||B.length>=R?P:""+Array(R+1-B.length).join(A)+P},w={s:S,z:function(P){var R=-P.utcOffset(),A=Math.abs(R),B=Math.floor(A/60),_=A%60;return(R<=0?"+":"-")+S(B,2,"0")+":"+S(_,2,"0")},m:function P(R,A){if(R.date()<A.date())return-P(A,R);var B=12*(A.year()-R.year())+(A.month()-R.month()),_=R.clone().add(B,h),D=A-_<0,F=R.clone().add(B+(D?-1:1),h);return+(-(B+(A-_)/(D?_-F:F-_))||0)},a:function(P){return P<0?Math.ceil(P)||0:Math.floor(P)},p:function(P){return{M:h,y:f,w:d,d:u,D:g,h:c,m:l,s:o,ms:s,Q:p}[P]||String(P||"").toLowerCase().replace(/s$/,"")},u:function(P){return P===void 0}},k="en",C={};C[k]=v;var j="$isDayjsObject",E=function(P){return P instanceof H||!(!P||!P[j])},O=function P(R,A,B){var _;if(!R)return k;if(typeof R=="string"){var D=R.toLowerCase();C[D]&&(_=D),A&&(C[D]=A,_=D);var F=R.split("-");if(!_&&F.length>1)return P(F[0])}else{var q=R.name;C[q]=R,_=q}return!B&&_&&(k=_),_||!B&&k},M=function(P,R){if(E(P))return P.clone();var A=typeof R=="object"?R:{};return A.date=P,A.args=arguments,new H(A)},L=w;L.l=O,L.i=E,L.w=function(P,R){return M(P,{locale:R.$L,utc:R.$u,x:R.$x,$offset:R.$offset})};var H=function(){function P(A){this.$L=O(A.locale,null,!0),this.parse(A),this.$x=this.$x||A.x||{},this[j]=!0}var R=P.prototype;return R.parse=function(A){this.$d=function(B){var _=B.date,D=B.utc;if(_===null)return new Date(NaN);if(L.u(_))return new Date;if(_ instanceof Date)return new Date(_);if(typeof _=="string"&&!/Z$/i.test(_)){var F=_.match(b);if(F){var q=F[2]-1||0,se=(F[7]||"0").substring(0,3);return D?new Date(Date.UTC(F[1],q,F[3]||1,F[4]||0,F[5]||0,F[6]||0,se)):new Date(F[1],q,F[3]||1,F[4]||0,F[5]||0,F[6]||0,se)}}return new Date(_)}(A),this.init()},R.init=function(){var A=this.$d;this.$y=A.getFullYear(),this.$M=A.getMonth(),this.$D=A.getDate(),this.$W=A.getDay(),this.$H=A.getHours(),this.$m=A.getMinutes(),this.$s=A.getSeconds(),this.$ms=A.getMilliseconds()},R.$utils=function(){return L},R.isValid=function(){return this.$d.toString()!==m},R.isSame=function(A,B){var _=M(A);return this.startOf(B)<=_&&_<=this.endOf(B)},R.isAfter=function(A,B){return M(A)<this.startOf(B)},R.isBefore=function(A,B){return this.endOf(B)<M(A)},R.$g=function(A,B,_){return L.u(A)?this[B]:this.set(_,A)},R.unix=function(){return Math.floor(this.valueOf()/1e3)},R.valueOf=function(){return this.$d.getTime()},R.startOf=function(A,B){var _=this,D=!!L.u(B)||B,F=L.p(A),q=function(_e,Ne){var ze=L.w(_.$u?Date.UTC(_.$y,Ne,_e):new Date(_.$y,Ne,_e),_);return D?ze:ze.endOf(u)},se=function(_e,Ne){return L.w(_.toDate()[_e].apply(_.toDate("s"),(D?[0,0,0,0]:[23,59,59,999]).slice(Ne)),_)},le=this.$W,me=this.$M,de=this.$D,ce="set"+(this.$u?"UTC":"");switch(F){case f:return D?q(1,0):q(31,11);case h:return D?q(1,me):q(0,me+1);case d:var he=this.$locale().weekStart||0,Be=(le<he?le+7:le)-he;return q(D?de-Be:de+(6-Be),me);case u:case g:return se(ce+"Hours",0);case c:return se(ce+"Minutes",1);case l:return se(ce+"Seconds",2);case o:return se(ce+"Milliseconds",3);default:return this.clone()}},R.endOf=function(A){return this.startOf(A,!1)},R.$set=function(A,B){var _,D=L.p(A),F="set"+(this.$u?"UTC":""),q=(_={},_[u]=F+"Date",_[g]=F+"Date",_[h]=F+"Month",_[f]=F+"FullYear",_[c]=F+"Hours",_[l]=F+"Minutes",_[o]=F+"Seconds",_[s]=F+"Milliseconds",_)[D],se=D===u?this.$D+(B-this.$W):B;if(D===h||D===f){var le=this.clone().set(g,1);le.$d[q](se),le.init(),this.$d=le.set(g,Math.min(this.$D,le.daysInMonth())).$d}else q&&this.$d[q](se);return this.init(),this},R.set=function(A,B){return this.clone().$set(A,B)},R.get=function(A){return this[L.p(A)]()},R.add=function(A,B){var _,D=this;A=Number(A);var F=L.p(B),q=function(me){var de=M(D);return L.w(de.date(de.date()+Math.round(me*A)),D)};if(F===h)return this.set(h,this.$M+A);if(F===f)return this.set(f,this.$y+A);if(F===u)return q(1);if(F===d)return q(7);var se=(_={},_[l]=i,_[c]=n,_[o]=r,_)[F]||1,le=this.$d.getTime()+A*se;return L.w(le,this)},R.subtract=function(A,B){return this.add(-1*A,B)},R.format=function(A){var B=this,_=this.$locale();if(!this.isValid())return _.invalidDate||m;var D=A||"YYYY-MM-DDTHH:mm:ssZ",F=L.z(this),q=this.$H,se=this.$m,le=this.$M,me=_.weekdays,de=_.months,ce=_.meridiem,he=function(Ne,ze,Ct,Cr){return Ne&&(Ne[ze]||Ne(B,D))||Ct[ze].slice(0,Cr)},Be=function(Ne){return L.s(q%12||12,Ne,"0")},_e=ce||function(Ne,ze,Ct){var Cr=Ne<12?"AM":"PM";return Ct?Cr.toLowerCase():Cr};return D.replace(y,function(Ne,ze){return ze||function(Ct){switch(Ct){case"YY":return String(B.$y).slice(-2);case"YYYY":return L.s(B.$y,4,"0");case"M":return le+1;case"MM":return L.s(le+1,2,"0");case"MMM":return he(_.monthsShort,le,de,3);case"MMMM":return he(de,le);case"D":return B.$D;case"DD":return L.s(B.$D,2,"0");case"d":return String(B.$W);case"dd":return he(_.weekdaysMin,B.$W,me,2);case"ddd":return he(_.weekdaysShort,B.$W,me,3);case"dddd":return me[B.$W];case"H":return String(q);case"HH":return L.s(q,2,"0");case"h":return Be(1);case"hh":return Be(2);case"a":return _e(q,se,!0);case"A":return _e(q,se,!1);case"m":return String(se);case"mm":return L.s(se,2,"0");case"s":return String(B.$s);case"ss":return L.s(B.$s,2,"0");case"SSS":return L.s(B.$ms,3,"0");case"Z":return F}return null}(Ne)||F.replace(":","")})},R.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},R.diff=function(A,B,_){var D,F=this,q=L.p(B),se=M(A),le=(se.utcOffset()-this.utcOffset())*i,me=this-se,de=function(){return L.m(F,se)};switch(q){case f:D=de()/12;break;case h:D=de();break;case p:D=de()/3;break;case d:D=(me-le)/6048e5;break;case u:D=(me-le)/864e5;break;case c:D=me/n;break;case l:D=me/i;break;case o:D=me/r;break;default:D=me}return _?D:L.a(D)},R.daysInMonth=function(){return this.endOf(h).$D},R.$locale=function(){return C[this.$L]},R.locale=function(A,B){if(!A)return this.$L;var _=this.clone(),D=O(A,B,!0);return D&&(_.$L=D),_},R.clone=function(){return L.w(this.$d,this)},R.toDate=function(){return new Date(this.valueOf())},R.toJSON=function(){return this.isValid()?this.toISOString():null},R.toISOString=function(){return this.$d.toISOString()},R.toString=function(){return this.$d.toUTCString()},P}(),$=H.prototype;return M.prototype=$,[["$ms",s],["$s",o],["$m",l],["$H",c],["$W",u],["$M",h],["$y",f],["$D",g]].forEach(function(P){$[P[1]]=function(R){return this.$g(R,P[0],P[1])}}),M.extend=function(P,R){return P.$i||(P(R,H,M),P.$i=!0),M},M.locale=O,M.isDayjs=E,M.unix=function(P){return M(1e3*P)},M.en=C[k],M.Ls=C,M.p={},M})})(_b);var qT=_b.exports;const HT=ty(qT);var Nb=Object.defineProperty,x=(e,t)=>Nb(e,"name",{value:t,configurable:!0}),WT=(e,t)=>{for(var r in t)Nb(e,r,{get:t[r],enumerable:!0})},Ur={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},I={trace:x((...e)=>{},"trace"),debug:x((...e)=>{},"debug"),info:x((...e)=>{},"info"),warn:x((...e)=>{},"warn"),error:x((...e)=>{},"error"),fatal:x((...e)=>{},"fatal")},Bf=x(function(e="fatal"){let t=Ur.fatal;typeof e=="string"?e.toLowerCase()in Ur&&(t=Ur[e]):typeof e=="number"&&(t=e),I.trace=()=>{},I.debug=()=>{},I.info=()=>{},I.warn=()=>{},I.error=()=>{},I.fatal=()=>{},t<=Ur.fatal&&(I.fatal=console.error?console.error.bind(console,Jt("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",Jt("FATAL"))),t<=Ur.error&&(I.error=console.error?console.error.bind(console,Jt("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",Jt("ERROR"))),t<=Ur.warn&&(I.warn=console.warn?console.warn.bind(console,Jt("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",Jt("WARN"))),t<=Ur.info&&(I.info=console.info?console.info.bind(console,Jt("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",Jt("INFO"))),t<=Ur.debug&&(I.debug=console.debug?console.debug.bind(console,Jt("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Jt("DEBUG"))),t<=Ur.trace&&(I.trace=console.debug?console.debug.bind(console,Jt("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Jt("TRACE")))},"setLogLevel"),Jt=x(e=>`%c${HT().format("ss.SSS")} : ${e} : `,"format");const Nl={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:e=>e>=255?255:e<0?0:e,g:e=>e>=255?255:e<0?0:e,b:e=>e>=255?255:e<0?0:e,h:e=>e%360,s:e=>e>=100?100:e<0?0:e,l:e=>e>=100?100:e<0?0:e,a:e=>e>=1?1:e<0?0:e},toLinear:e=>{const t=e/255;return e>.03928?Math.pow((t+.055)/1.055,2.4):t/12.92},hue2rgb:(e,t,r)=>(r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e),hsl2rgb:({h:e,s:t,l:r},i)=>{if(!t)return r*2.55;e/=360,t/=100,r/=100;const n=r<.5?r*(1+t):r+t-r*t,s=2*r-n;switch(i){case"r":return Nl.hue2rgb(s,n,e+1/3)*255;case"g":return Nl.hue2rgb(s,n,e)*255;case"b":return Nl.hue2rgb(s,n,e-1/3)*255}},rgb2hsl:({r:e,g:t,b:r},i)=>{e/=255,t/=255,r/=255;const n=Math.max(e,t,r),s=Math.min(e,t,r),o=(n+s)/2;if(i==="l")return o*100;if(n===s)return 0;const l=n-s,c=o>.5?l/(2-n-s):l/(n+s);if(i==="s")return c*100;switch(n){case e:return((t-r)/l+(t<r?6:0))*60;case t:return((r-e)/l+2)*60;case r:return((e-t)/l+4)*60;default:return-1}}},GT=Nl,VT={clamp:(e,t,r)=>t>r?Math.min(t,Math.max(r,e)):Math.min(r,Math.max(t,e)),round:e=>Math.round(e*1e10)/1e10},YT=VT,XT={dec2hex:e=>{const t=Math.round(e).toString(16);return t.length>1?t:`0${t}`}},QT=XT,KT={channel:GT,lang:YT,unit:QT},ue=KT,ui={};for(let e=0;e<=255;e++)ui[e]=ue.unit.dec2hex(e);const pt={ALL:0,RGB:1,HSL:2};class JT{constructor(){this.type=pt.ALL}get(){return this.type}set(t){if(this.type&&this.type!==t)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=t}reset(){this.type=pt.ALL}is(t){return this.type===t}}const ZT=JT;class eE{constructor(t,r){this.color=r,this.changed=!1,this.data=t,this.type=new ZT}set(t,r){return this.color=r,this.changed=!1,this.data=t,this.type.type=pt.ALL,this}_ensureHSL(){const t=this.data,{h:r,s:i,l:n}=t;r===void 0&&(t.h=ue.channel.rgb2hsl(t,"h")),i===void 0&&(t.s=ue.channel.rgb2hsl(t,"s")),n===void 0&&(t.l=ue.channel.rgb2hsl(t,"l"))}_ensureRGB(){const t=this.data,{r,g:i,b:n}=t;r===void 0&&(t.r=ue.channel.hsl2rgb(t,"r")),i===void 0&&(t.g=ue.channel.hsl2rgb(t,"g")),n===void 0&&(t.b=ue.channel.hsl2rgb(t,"b"))}get r(){const t=this.data,r=t.r;return!this.type.is(pt.HSL)&&r!==void 0?r:(this._ensureHSL(),ue.channel.hsl2rgb(t,"r"))}get g(){const t=this.data,r=t.g;return!this.type.is(pt.HSL)&&r!==void 0?r:(this._ensureHSL(),ue.channel.hsl2rgb(t,"g"))}get b(){const t=this.data,r=t.b;return!this.type.is(pt.HSL)&&r!==void 0?r:(this._ensureHSL(),ue.channel.hsl2rgb(t,"b"))}get h(){const t=this.data,r=t.h;return!this.type.is(pt.RGB)&&r!==void 0?r:(this._ensureRGB(),ue.channel.rgb2hsl(t,"h"))}get s(){const t=this.data,r=t.s;return!this.type.is(pt.RGB)&&r!==void 0?r:(this._ensureRGB(),ue.channel.rgb2hsl(t,"s"))}get l(){const t=this.data,r=t.l;return!this.type.is(pt.RGB)&&r!==void 0?r:(this._ensureRGB(),ue.channel.rgb2hsl(t,"l"))}get a(){return this.data.a}set r(t){this.type.set(pt.RGB),this.changed=!0,this.data.r=t}set g(t){this.type.set(pt.RGB),this.changed=!0,this.data.g=t}set b(t){this.type.set(pt.RGB),this.changed=!0,this.data.b=t}set h(t){this.type.set(pt.HSL),this.changed=!0,this.data.h=t}set s(t){this.type.set(pt.HSL),this.changed=!0,this.data.s=t}set l(t){this.type.set(pt.HSL),this.changed=!0,this.data.l=t}set a(t){this.changed=!0,this.data.a=t}}const tE=eE,rE=new tE({r:0,g:0,b:0,a:0},"transparent"),fu=rE,Tb={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:e=>{if(e.charCodeAt(0)!==35)return;const t=e.match(Tb.re);if(!t)return;const r=t[1],i=parseInt(r,16),n=r.length,s=n%4===0,o=n>4,l=o?1:17,c=o?8:4,u=s?0:-1,d=o?255:15;return fu.set({r:(i>>c*(u+3)&d)*l,g:(i>>c*(u+2)&d)*l,b:(i>>c*(u+1)&d)*l,a:s?(i&d)*l/255:1},e)},stringify:e=>{const{r:t,g:r,b:i,a:n}=e;return n<1?`#${ui[Math.round(t)]}${ui[Math.round(r)]}${ui[Math.round(i)]}${ui[Math.round(n*255)]}`:`#${ui[Math.round(t)]}${ui[Math.round(r)]}${ui[Math.round(i)]}`}},Sa=Tb,Tl={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:e=>{const t=e.match(Tl.hueRe);if(t){const[,r,i]=t;switch(i){case"grad":return ue.channel.clamp.h(parseFloat(r)*.9);case"rad":return ue.channel.clamp.h(parseFloat(r)*180/Math.PI);case"turn":return ue.channel.clamp.h(parseFloat(r)*360)}}return ue.channel.clamp.h(parseFloat(e))},parse:e=>{const t=e.charCodeAt(0);if(t!==104&&t!==72)return;const r=e.match(Tl.re);if(!r)return;const[,i,n,s,o,l]=r;return fu.set({h:Tl._hue2deg(i),s:ue.channel.clamp.s(parseFloat(n)),l:ue.channel.clamp.l(parseFloat(s)),a:o?ue.channel.clamp.a(l?parseFloat(o)/100:parseFloat(o)):1},e)},stringify:e=>{const{h:t,s:r,l:i,a:n}=e;return n<1?`hsla(${ue.lang.round(t)}, ${ue.lang.round(r)}%, ${ue.lang.round(i)}%, ${n})`:`hsl(${ue.lang.round(t)}, ${ue.lang.round(r)}%, ${ue.lang.round(i)}%)`}},el=Tl,El={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:e=>{e=e.toLowerCase();const t=El.colors[e];if(t)return Sa.parse(t)},stringify:e=>{const t=Sa.stringify(e);for(const r in El.colors)if(El.colors[r]===t)return r}},Cx=El,Eb={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:e=>{const t=e.charCodeAt(0);if(t!==114&&t!==82)return;const r=e.match(Eb.re);if(!r)return;const[,i,n,s,o,l,c,u,d]=r;return fu.set({r:ue.channel.clamp.r(n?parseFloat(i)*2.55:parseFloat(i)),g:ue.channel.clamp.g(o?parseFloat(s)*2.55:parseFloat(s)),b:ue.channel.clamp.b(c?parseFloat(l)*2.55:parseFloat(l)),a:u?ue.channel.clamp.a(d?parseFloat(u)/100:parseFloat(u)):1},e)},stringify:e=>{const{r:t,g:r,b:i,a:n}=e;return n<1?`rgba(${ue.lang.round(t)}, ${ue.lang.round(r)}, ${ue.lang.round(i)}, ${ue.lang.round(n)})`:`rgb(${ue.lang.round(t)}, ${ue.lang.round(r)}, ${ue.lang.round(i)})`}},tl=Eb,iE={format:{keyword:Cx,hex:Sa,rgb:tl,rgba:tl,hsl:el,hsla:el},parse:e=>{if(typeof e!="string")return e;const t=Sa.parse(e)||tl.parse(e)||el.parse(e)||Cx.parse(e);if(t)return t;throw new Error(`Unsupported color format: "${e}"`)},stringify:e=>!e.changed&&e.color?e.color:e.type.is(pt.HSL)||e.data.r===void 0?el.stringify(e):e.a<1||!Number.isInteger(e.r)||!Number.isInteger(e.g)||!Number.isInteger(e.b)?tl.stringify(e):Sa.stringify(e)},Mr=iE,nE=(e,t)=>{const r=Mr.parse(e);for(const i in t)r[i]=ue.channel.clamp[i](t[i]);return Mr.stringify(r)},Ab=nE,sE=(e,t,r=0,i=1)=>{if(typeof e!="number")return Ab(e,{a:t});const n=fu.set({r:ue.channel.clamp.r(e),g:ue.channel.clamp.g(t),b:ue.channel.clamp.b(r),a:ue.channel.clamp.a(i)});return Mr.stringify(n)},Ca=sE,aE=e=>{const{r:t,g:r,b:i}=Mr.parse(e),n=.2126*ue.channel.toLinear(t)+.7152*ue.channel.toLinear(r)+.0722*ue.channel.toLinear(i);return ue.lang.round(n)},oE=aE,lE=e=>oE(e)>=.5,cE=lE,uE=e=>!cE(e),So=uE,dE=(e,t,r)=>{const i=Mr.parse(e),n=i[t],s=ue.channel.clamp[t](n+r);return n!==s&&(i[t]=s),Mr.stringify(i)},Rb=dE,hE=(e,t)=>Rb(e,"l",t),X=hE,pE=(e,t)=>Rb(e,"l",-t),ie=pE,fE=(e,t)=>{const r=Mr.parse(e),i={};for(const n in t)t[n]&&(i[n]=r[n]+t[n]);return Ab(e,i)},T=fE,gE=(e,t,r=50)=>{const{r:i,g:n,b:s,a:o}=Mr.parse(e),{r:l,g:c,b:u,a:d}=Mr.parse(t),h=r/100,p=h*2-1,f=o-d,m=((p*f===-1?p:(p+f)/(1+p*f))+1)/2,b=1-m,y=i*m+l*b,v=n*m+c*b,S=s*m+u*b,w=o*h+d*(1-h);return Ca(y,v,S,w)},mE=gE,xE=(e,t=100)=>{const r=Mr.parse(e);return r.r=255-r.r,r.g=255-r.g,r.b=255-r.b,mE(r,e,t)},W=xE;/*! @license DOMPurify 3.2.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.7/LICENSE */const{entries:Lb,setPrototypeOf:wx,isFrozen:yE,getPrototypeOf:vE,getOwnPropertyDescriptor:bE}=Object;let{freeze:Et,seal:sr,create:Pb}=Object,{apply:Fh,construct:Uh}=typeof Reflect<"u"&&Reflect;Et||(Et=function(t){return t});sr||(sr=function(t){return t});Fh||(Fh=function(t,r){for(var i=arguments.length,n=new Array(i>2?i-2:0),s=2;s<i;s++)n[s-2]=arguments[s];return t.apply(r,n)});Uh||(Uh=function(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),n=1;n<r;n++)i[n-1]=arguments[n];return new t(...i)});const rl=At(Array.prototype.forEach),SE=At(Array.prototype.lastIndexOf),kx=At(Array.prototype.pop),qs=At(Array.prototype.push),CE=At(Array.prototype.splice),Al=At(String.prototype.toLowerCase),wd=At(String.prototype.toString),kd=At(String.prototype.match),Hs=At(String.prototype.replace),wE=At(String.prototype.indexOf),kE=At(String.prototype.trim),ur=At(Object.prototype.hasOwnProperty),wt=At(RegExp.prototype.test),Ws=jE(TypeError);function At(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var r=arguments.length,i=new Array(r>1?r-1:0),n=1;n<r;n++)i[n-1]=arguments[n];return Fh(e,t,i)}}function jE(e){return function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return Uh(e,r)}}function pe(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Al;wx&&wx(e,null);let i=t.length;for(;i--;){let n=t[i];if(typeof n=="string"){const s=r(n);s!==n&&(yE(t)||(t[i]=s),n=s)}e[n]=!0}return e}function _E(e){for(let t=0;t<e.length;t++)ur(e,t)||(e[t]=null);return e}function qr(e){const t=Pb(null);for(const[r,i]of Lb(e))ur(e,r)&&(Array.isArray(i)?t[r]=_E(i):i&&typeof i=="object"&&i.constructor===Object?t[r]=qr(i):t[r]=i);return t}function Gs(e,t){for(;e!==null;){const i=bE(e,t);if(i){if(i.get)return At(i.get);if(typeof i.value=="function")return At(i.value)}e=vE(e)}function r(){return null}return r}const jx=Et(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),jd=Et(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","slot","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),_d=Et(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),NE=Et(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Nd=Et(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),TE=Et(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),_x=Et(["#text"]),Nx=Et(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Td=Et(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Tx=Et(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),il=Et(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),EE=sr(/\{\{[\w\W]*|[\w\W]*\}\}/gm),AE=sr(/<%[\w\W]*|[\w\W]*%>/gm),RE=sr(/\$\{[\w\W]*/gm),LE=sr(/^data-[\-\w.\u00B7-\uFFFF]+$/),PE=sr(/^aria-[\-\w]+$/),Mb=sr(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),ME=sr(/^(?:\w+script|data):/i),BE=sr(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Bb=sr(/^html$/i),DE=sr(/^[a-z][.\w]*(-[.\w]+)+$/i);var Ex=Object.freeze({__proto__:null,ARIA_ATTR:PE,ATTR_WHITESPACE:BE,CUSTOM_ELEMENT:DE,DATA_ATTR:LE,DOCTYPE_NAME:Bb,ERB_EXPR:AE,IS_ALLOWED_URI:Mb,IS_SCRIPT_OR_DATA:ME,MUSTACHE_EXPR:EE,TMPLIT_EXPR:RE});const Vs={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},OE=function(){return typeof window>"u"?null:window},IE=function(t,r){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let i=null;const n="data-tt-policy-suffix";r&&r.hasAttribute(n)&&(i=r.getAttribute(n));const s="dompurify"+(i?"#"+i:"");try{return t.createPolicy(s,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}},Ax=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Db(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:OE();const t=re=>Db(re);if(t.version="3.2.7",t.removed=[],!e||!e.document||e.document.nodeType!==Vs.document||!e.Element)return t.isSupported=!1,t;let{document:r}=e;const i=r,n=i.currentScript,{DocumentFragment:s,HTMLTemplateElement:o,Node:l,Element:c,NodeFilter:u,NamedNodeMap:d=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:h,DOMParser:p,trustedTypes:f}=e,g=c.prototype,m=Gs(g,"cloneNode"),b=Gs(g,"remove"),y=Gs(g,"nextSibling"),v=Gs(g,"childNodes"),S=Gs(g,"parentNode");if(typeof o=="function"){const re=r.createElement("template");re.content&&re.content.ownerDocument&&(r=re.content.ownerDocument)}let w,k="";const{implementation:C,createNodeIterator:j,createDocumentFragment:E,getElementsByTagName:O}=r,{importNode:M}=i;let L=Ax();t.isSupported=typeof Lb=="function"&&typeof S=="function"&&C&&C.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:H,ERB_EXPR:$,TMPLIT_EXPR:P,DATA_ATTR:R,ARIA_ATTR:A,IS_SCRIPT_OR_DATA:B,ATTR_WHITESPACE:_,CUSTOM_ELEMENT:D}=Ex;let{IS_ALLOWED_URI:F}=Ex,q=null;const se=pe({},[...jx,...jd,..._d,...Nd,..._x]);let le=null;const me=pe({},[...Nx,...Td,...Tx,...il]);let de=Object.seal(Pb(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ce=null,he=null,Be=!0,_e=!0,Ne=!1,ze=!0,Ct=!1,Cr=!0,lr=!1,Uu=!1,zu=!1,Tn=!1,Ro=!1,Lo=!1,Ig=!0,$g=!1;const Qk="user-content-";let qu=!0,Ps=!1,En={},An=null;const Fg=pe({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ug=null;const zg=pe({},["audio","video","img","source","image","track"]);let Hu=null;const qg=pe({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Po="http://www.w3.org/1998/Math/MathML",Mo="http://www.w3.org/2000/svg",Ir="http://www.w3.org/1999/xhtml";let Rn=Ir,Wu=!1,Gu=null;const Kk=pe({},[Po,Mo,Ir],wd);let Bo=pe({},["mi","mo","mn","ms","mtext"]),Do=pe({},["annotation-xml"]);const Jk=pe({},["title","style","font","a","script"]);let Ms=null;const Zk=["application/xhtml+xml","text/html"],ej="text/html";let Ze=null,Ln=null;const tj=r.createElement("form"),Hg=function(N){return N instanceof RegExp||N instanceof Function},Vu=function(){let N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Ln&&Ln===N)){if((!N||typeof N!="object")&&(N={}),N=qr(N),Ms=Zk.indexOf(N.PARSER_MEDIA_TYPE)===-1?ej:N.PARSER_MEDIA_TYPE,Ze=Ms==="application/xhtml+xml"?wd:Al,q=ur(N,"ALLOWED_TAGS")?pe({},N.ALLOWED_TAGS,Ze):se,le=ur(N,"ALLOWED_ATTR")?pe({},N.ALLOWED_ATTR,Ze):me,Gu=ur(N,"ALLOWED_NAMESPACES")?pe({},N.ALLOWED_NAMESPACES,wd):Kk,Hu=ur(N,"ADD_URI_SAFE_ATTR")?pe(qr(qg),N.ADD_URI_SAFE_ATTR,Ze):qg,Ug=ur(N,"ADD_DATA_URI_TAGS")?pe(qr(zg),N.ADD_DATA_URI_TAGS,Ze):zg,An=ur(N,"FORBID_CONTENTS")?pe({},N.FORBID_CONTENTS,Ze):Fg,ce=ur(N,"FORBID_TAGS")?pe({},N.FORBID_TAGS,Ze):qr({}),he=ur(N,"FORBID_ATTR")?pe({},N.FORBID_ATTR,Ze):qr({}),En=ur(N,"USE_PROFILES")?N.USE_PROFILES:!1,Be=N.ALLOW_ARIA_ATTR!==!1,_e=N.ALLOW_DATA_ATTR!==!1,Ne=N.ALLOW_UNKNOWN_PROTOCOLS||!1,ze=N.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Ct=N.SAFE_FOR_TEMPLATES||!1,Cr=N.SAFE_FOR_XML!==!1,lr=N.WHOLE_DOCUMENT||!1,Tn=N.RETURN_DOM||!1,Ro=N.RETURN_DOM_FRAGMENT||!1,Lo=N.RETURN_TRUSTED_TYPE||!1,zu=N.FORCE_BODY||!1,Ig=N.SANITIZE_DOM!==!1,$g=N.SANITIZE_NAMED_PROPS||!1,qu=N.KEEP_CONTENT!==!1,Ps=N.IN_PLACE||!1,F=N.ALLOWED_URI_REGEXP||Mb,Rn=N.NAMESPACE||Ir,Bo=N.MATHML_TEXT_INTEGRATION_POINTS||Bo,Do=N.HTML_INTEGRATION_POINTS||Do,de=N.CUSTOM_ELEMENT_HANDLING||{},N.CUSTOM_ELEMENT_HANDLING&&Hg(N.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(de.tagNameCheck=N.CUSTOM_ELEMENT_HANDLING.tagNameCheck),N.CUSTOM_ELEMENT_HANDLING&&Hg(N.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(de.attributeNameCheck=N.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),N.CUSTOM_ELEMENT_HANDLING&&typeof N.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(de.allowCustomizedBuiltInElements=N.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ct&&(_e=!1),Ro&&(Tn=!0),En&&(q=pe({},_x),le=[],En.html===!0&&(pe(q,jx),pe(le,Nx)),En.svg===!0&&(pe(q,jd),pe(le,Td),pe(le,il)),En.svgFilters===!0&&(pe(q,_d),pe(le,Td),pe(le,il)),En.mathMl===!0&&(pe(q,Nd),pe(le,Tx),pe(le,il))),N.ADD_TAGS&&(q===se&&(q=qr(q)),pe(q,N.ADD_TAGS,Ze)),N.ADD_ATTR&&(le===me&&(le=qr(le)),pe(le,N.ADD_ATTR,Ze)),N.ADD_URI_SAFE_ATTR&&pe(Hu,N.ADD_URI_SAFE_ATTR,Ze),N.FORBID_CONTENTS&&(An===Fg&&(An=qr(An)),pe(An,N.FORBID_CONTENTS,Ze)),qu&&(q["#text"]=!0),lr&&pe(q,["html","head","body"]),q.table&&(pe(q,["tbody"]),delete ce.tbody),N.TRUSTED_TYPES_POLICY){if(typeof N.TRUSTED_TYPES_POLICY.createHTML!="function")throw Ws('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof N.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Ws('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');w=N.TRUSTED_TYPES_POLICY,k=w.createHTML("")}else w===void 0&&(w=IE(f,n)),w!==null&&typeof k=="string"&&(k=w.createHTML(""));Et&&Et(N),Ln=N}},Wg=pe({},[...jd,..._d,...NE]),Gg=pe({},[...Nd,...TE]),rj=function(N){let z=S(N);(!z||!z.tagName)&&(z={namespaceURI:Rn,tagName:"template"});const ee=Al(N.tagName),Re=Al(z.tagName);return Gu[N.namespaceURI]?N.namespaceURI===Mo?z.namespaceURI===Ir?ee==="svg":z.namespaceURI===Po?ee==="svg"&&(Re==="annotation-xml"||Bo[Re]):!!Wg[ee]:N.namespaceURI===Po?z.namespaceURI===Ir?ee==="math":z.namespaceURI===Mo?ee==="math"&&Do[Re]:!!Gg[ee]:N.namespaceURI===Ir?z.namespaceURI===Mo&&!Do[Re]||z.namespaceURI===Po&&!Bo[Re]?!1:!Gg[ee]&&(Jk[ee]||!Wg[ee]):!!(Ms==="application/xhtml+xml"&&Gu[N.namespaceURI]):!1},wr=function(N){qs(t.removed,{element:N});try{S(N).removeChild(N)}catch{b(N)}},qi=function(N,z){try{qs(t.removed,{attribute:z.getAttributeNode(N),from:z})}catch{qs(t.removed,{attribute:null,from:z})}if(z.removeAttribute(N),N==="is")if(Tn||Ro)try{wr(z)}catch{}else try{z.setAttribute(N,"")}catch{}},Vg=function(N){let z=null,ee=null;if(zu)N="<remove></remove>"+N;else{const qe=kd(N,/^[\r\n\t ]+/);ee=qe&&qe[0]}Ms==="application/xhtml+xml"&&Rn===Ir&&(N='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+N+"</body></html>");const Re=w?w.createHTML(N):N;if(Rn===Ir)try{z=new p().parseFromString(Re,Ms)}catch{}if(!z||!z.documentElement){z=C.createDocument(Rn,"template",null);try{z.documentElement.innerHTML=Wu?k:Re}catch{}}const ut=z.body||z.documentElement;return N&&ee&&ut.insertBefore(r.createTextNode(ee),ut.childNodes[0]||null),Rn===Ir?O.call(z,lr?"html":"body")[0]:lr?z.documentElement:ut},Yg=function(N){return j.call(N.ownerDocument||N,N,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},Yu=function(N){return N instanceof h&&(typeof N.nodeName!="string"||typeof N.textContent!="string"||typeof N.removeChild!="function"||!(N.attributes instanceof d)||typeof N.removeAttribute!="function"||typeof N.setAttribute!="function"||typeof N.namespaceURI!="string"||typeof N.insertBefore!="function"||typeof N.hasChildNodes!="function")},Xg=function(N){return typeof l=="function"&&N instanceof l};function $r(re,N,z){rl(re,ee=>{ee.call(t,N,z,Ln)})}const Qg=function(N){let z=null;if($r(L.beforeSanitizeElements,N,null),Yu(N))return wr(N),!0;const ee=Ze(N.nodeName);if($r(L.uponSanitizeElement,N,{tagName:ee,allowedTags:q}),Cr&&N.hasChildNodes()&&!Xg(N.firstElementChild)&&wt(/<[/\w!]/g,N.innerHTML)&&wt(/<[/\w!]/g,N.textContent)||N.nodeType===Vs.progressingInstruction||Cr&&N.nodeType===Vs.comment&&wt(/<[/\w]/g,N.data))return wr(N),!0;if(!q[ee]||ce[ee]){if(!ce[ee]&&Jg(ee)&&(de.tagNameCheck instanceof RegExp&&wt(de.tagNameCheck,ee)||de.tagNameCheck instanceof Function&&de.tagNameCheck(ee)))return!1;if(qu&&!An[ee]){const Re=S(N)||N.parentNode,ut=v(N)||N.childNodes;if(ut&&Re){const qe=ut.length;for(let Pt=qe-1;Pt>=0;--Pt){const Fr=m(ut[Pt],!0);Fr.__removalCount=(N.__removalCount||0)+1,Re.insertBefore(Fr,y(N))}}}return wr(N),!0}return N instanceof c&&!rj(N)||(ee==="noscript"||ee==="noembed"||ee==="noframes")&&wt(/<\/no(script|embed|frames)/i,N.innerHTML)?(wr(N),!0):(Ct&&N.nodeType===Vs.text&&(z=N.textContent,rl([H,$,P],Re=>{z=Hs(z,Re," ")}),N.textContent!==z&&(qs(t.removed,{element:N.cloneNode()}),N.textContent=z)),$r(L.afterSanitizeElements,N,null),!1)},Kg=function(N,z,ee){if(Ig&&(z==="id"||z==="name")&&(ee in r||ee in tj))return!1;if(!(_e&&!he[z]&&wt(R,z))){if(!(Be&&wt(A,z))){if(!le[z]||he[z]){if(!(Jg(N)&&(de.tagNameCheck instanceof RegExp&&wt(de.tagNameCheck,N)||de.tagNameCheck instanceof Function&&de.tagNameCheck(N))&&(de.attributeNameCheck instanceof RegExp&&wt(de.attributeNameCheck,z)||de.attributeNameCheck instanceof Function&&de.attributeNameCheck(z,N))||z==="is"&&de.allowCustomizedBuiltInElements&&(de.tagNameCheck instanceof RegExp&&wt(de.tagNameCheck,ee)||de.tagNameCheck instanceof Function&&de.tagNameCheck(ee))))return!1}else if(!Hu[z]){if(!wt(F,Hs(ee,_,""))){if(!((z==="src"||z==="xlink:href"||z==="href")&&N!=="script"&&wE(ee,"data:")===0&&Ug[N])){if(!(Ne&&!wt(B,Hs(ee,_,"")))){if(ee)return!1}}}}}}return!0},Jg=function(N){return N!=="annotation-xml"&&kd(N,D)},Zg=function(N){$r(L.beforeSanitizeAttributes,N,null);const{attributes:z}=N;if(!z||Yu(N))return;const ee={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:le,forceKeepAttr:void 0};let Re=z.length;for(;Re--;){const ut=z[Re],{name:qe,namespaceURI:Pt,value:Fr}=ut,Pn=Ze(qe),Xu=Fr;let it=qe==="value"?Xu:kE(Xu);if(ee.attrName=Pn,ee.attrValue=it,ee.keepAttr=!0,ee.forceKeepAttr=void 0,$r(L.uponSanitizeAttribute,N,ee),it=ee.attrValue,$g&&(Pn==="id"||Pn==="name")&&(qi(qe,N),it=Qk+it),Cr&&wt(/((--!?|])>)|<\/(style|title|textarea)/i,it)){qi(qe,N);continue}if(Pn==="attributename"&&kd(it,"href")){qi(qe,N);continue}if(ee.forceKeepAttr)continue;if(!ee.keepAttr){qi(qe,N);continue}if(!ze&&wt(/\/>/i,it)){qi(qe,N);continue}Ct&&rl([H,$,P],tm=>{it=Hs(it,tm," ")});const em=Ze(N.nodeName);if(!Kg(em,Pn,it)){qi(qe,N);continue}if(w&&typeof f=="object"&&typeof f.getAttributeType=="function"&&!Pt)switch(f.getAttributeType(em,Pn)){case"TrustedHTML":{it=w.createHTML(it);break}case"TrustedScriptURL":{it=w.createScriptURL(it);break}}if(it!==Xu)try{Pt?N.setAttributeNS(Pt,qe,it):N.setAttribute(qe,it),Yu(N)?wr(N):kx(t.removed)}catch{qi(qe,N)}}$r(L.afterSanitizeAttributes,N,null)},ij=function re(N){let z=null;const ee=Yg(N);for($r(L.beforeSanitizeShadowDOM,N,null);z=ee.nextNode();)$r(L.uponSanitizeShadowNode,z,null),Qg(z),Zg(z),z.content instanceof s&&re(z.content);$r(L.afterSanitizeShadowDOM,N,null)};return t.sanitize=function(re){let N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},z=null,ee=null,Re=null,ut=null;if(Wu=!re,Wu&&(re="<!-->"),typeof re!="string"&&!Xg(re))if(typeof re.toString=="function"){if(re=re.toString(),typeof re!="string")throw Ws("dirty is not a string, aborting")}else throw Ws("toString is not a function");if(!t.isSupported)return re;if(Uu||Vu(N),t.removed=[],typeof re=="string"&&(Ps=!1),Ps){if(re.nodeName){const Fr=Ze(re.nodeName);if(!q[Fr]||ce[Fr])throw Ws("root node is forbidden and cannot be sanitized in-place")}}else if(re instanceof l)z=Vg("<!---->"),ee=z.ownerDocument.importNode(re,!0),ee.nodeType===Vs.element&&ee.nodeName==="BODY"||ee.nodeName==="HTML"?z=ee:z.appendChild(ee);else{if(!Tn&&!Ct&&!lr&&re.indexOf("<")===-1)return w&&Lo?w.createHTML(re):re;if(z=Vg(re),!z)return Tn?null:Lo?k:""}z&&zu&&wr(z.firstChild);const qe=Yg(Ps?re:z);for(;Re=qe.nextNode();)Qg(Re),Zg(Re),Re.content instanceof s&&ij(Re.content);if(Ps)return re;if(Tn){if(Ro)for(ut=E.call(z.ownerDocument);z.firstChild;)ut.appendChild(z.firstChild);else ut=z;return(le.shadowroot||le.shadowrootmode)&&(ut=M.call(i,ut,!0)),ut}let Pt=lr?z.outerHTML:z.innerHTML;return lr&&q["!doctype"]&&z.ownerDocument&&z.ownerDocument.doctype&&z.ownerDocument.doctype.name&&wt(Bb,z.ownerDocument.doctype.name)&&(Pt="<!DOCTYPE "+z.ownerDocument.doctype.name+`>
`+Pt),Ct&&rl([H,$,P],Fr=>{Pt=Hs(Pt,Fr," ")}),w&&Lo?w.createHTML(Pt):Pt},t.setConfig=function(){let re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Vu(re),Uu=!0},t.clearConfig=function(){Ln=null,Uu=!1},t.isValidAttribute=function(re,N,z){Ln||Vu({});const ee=Ze(re),Re=Ze(N);return Kg(ee,Re,z)},t.addHook=function(re,N){typeof N=="function"&&qs(L[re],N)},t.removeHook=function(re,N){if(N!==void 0){const z=SE(L[re],N);return z===-1?void 0:CE(L[re],z,1)[0]}return kx(L[re])},t.removeHooks=function(re){L[re]=[]},t.removeAllHooks=function(){L=Ax()},t}var ps=Db(),Ob=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,wa=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,$E=/\s*%%.*\n/gm,so,Ib=(so=class extends Error{constructor(t){super(t),this.name="UnknownDiagramError"}},x(so,"UnknownDiagramError"),so),hn={},Df=x(function(e,t){e=e.replace(Ob,"").replace(wa,"").replace($E,`
`);for(const[r,{detector:i}]of Object.entries(hn))if(i(e,t))return r;throw new Ib(`No diagram type detected matching given configuration for text: ${e}`)},"detectType"),zh=x((...e)=>{for(const{id:t,detector:r,loader:i}of e)$b(t,r,i)},"registerLazyLoadedDiagrams"),$b=x((e,t,r)=>{hn[e]&&I.warn(`Detector with key ${e} already exists. Overwriting.`),hn[e]={detector:t,loader:r},I.debug(`Detector with key ${e} added${r?" with loader":""}`)},"addDetector"),FE=x(e=>hn[e].loader,"getDiagramLoader"),qh=x((e,t,{depth:r=2,clobber:i=!1}={})=>{const n={depth:r,clobber:i};return Array.isArray(t)&&!Array.isArray(e)?(t.forEach(s=>qh(e,s,n)),e):Array.isArray(t)&&Array.isArray(e)?(t.forEach(s=>{e.includes(s)||e.push(s)}),e):e===void 0||r<=0?e!=null&&typeof e=="object"&&typeof t=="object"?Object.assign(e,t):t:(t!==void 0&&typeof e=="object"&&typeof t=="object"&&Object.keys(t).forEach(s=>{typeof t[s]=="object"&&(e[s]===void 0||typeof e[s]=="object")?(e[s]===void 0&&(e[s]=Array.isArray(t[s])?[]:{}),e[s]=qh(e[s],t[s],{depth:r-1,clobber:i})):(i||typeof e[s]!="object"&&typeof t[s]!="object")&&(e[s]=t[s])}),e)},"assignWithDepth"),Xe=qh,gu="#ffffff",mu="#f2f2f2",jt=x((e,t)=>t?T(e,{s:-40,l:10}):T(e,{s:-40,l:-10}),"mkBorder"),ao,UE=(ao=class{constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){var r,i,n,s,o,l,c,u,d,h,p,f,g,m,b,y,v,S,w,k,C;if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||T(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||T(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||jt(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||jt(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||jt(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||jt(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||W(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||W(this.tertiaryColor),this.lineColor=this.lineColor||W(this.background),this.arrowheadColor=this.arrowheadColor||W(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?ie(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||this.actorBorder,this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||ie(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||W(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||X(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.vertLineColor=this.vertLineColor||"navy",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.darkMode?(this.rowOdd=this.rowOdd||ie(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||ie(this.mainBkg,10)):(this.rowOdd=this.rowOdd||X(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||X(this.mainBkg,5)),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||T(this.primaryColor,{h:30}),this.cScale4=this.cScale4||T(this.primaryColor,{h:60}),this.cScale5=this.cScale5||T(this.primaryColor,{h:90}),this.cScale6=this.cScale6||T(this.primaryColor,{h:120}),this.cScale7=this.cScale7||T(this.primaryColor,{h:150}),this.cScale8=this.cScale8||T(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||T(this.primaryColor,{h:270}),this.cScale10=this.cScale10||T(this.primaryColor,{h:300}),this.cScale11=this.cScale11||T(this.primaryColor,{h:330}),this.darkMode)for(let j=0;j<this.THEME_COLOR_LIMIT;j++)this["cScale"+j]=ie(this["cScale"+j],75);else for(let j=0;j<this.THEME_COLOR_LIMIT;j++)this["cScale"+j]=ie(this["cScale"+j],25);for(let j=0;j<this.THEME_COLOR_LIMIT;j++)this["cScaleInv"+j]=this["cScaleInv"+j]||W(this["cScale"+j]);for(let j=0;j<this.THEME_COLOR_LIMIT;j++)this.darkMode?this["cScalePeer"+j]=this["cScalePeer"+j]||X(this["cScale"+j],10):this["cScalePeer"+j]=this["cScalePeer"+j]||ie(this["cScale"+j],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let j=0;j<this.THEME_COLOR_LIMIT;j++)this["cScaleLabel"+j]=this["cScaleLabel"+j]||this.scaleLabelColor;const t=this.darkMode?-4:-1;for(let j=0;j<5;j++)this["surface"+j]=this["surface"+j]||T(this.mainBkg,{h:180,s:-15,l:t*(5+j*3)}),this["surfacePeer"+j]=this["surfacePeer"+j]||T(this.mainBkg,{h:180,s:-15,l:t*(8+j*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||T(this.primaryColor,{h:64}),this.fillType3=this.fillType3||T(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||T(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||T(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||T(this.primaryColor,{h:128}),this.fillType7=this.fillType7||T(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||T(this.primaryColor,{l:-10}),this.pie5=this.pie5||T(this.secondaryColor,{l:-10}),this.pie6=this.pie6||T(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||T(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||T(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||T(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||T(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||T(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||T(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.radar={axisColor:((r=this.radar)==null?void 0:r.axisColor)||this.lineColor,axisStrokeWidth:((i=this.radar)==null?void 0:i.axisStrokeWidth)||2,axisLabelFontSize:((n=this.radar)==null?void 0:n.axisLabelFontSize)||12,curveOpacity:((s=this.radar)==null?void 0:s.curveOpacity)||.5,curveStrokeWidth:((o=this.radar)==null?void 0:o.curveStrokeWidth)||2,graticuleColor:((l=this.radar)==null?void 0:l.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((c=this.radar)==null?void 0:c.graticuleStrokeWidth)||1,graticuleOpacity:((u=this.radar)==null?void 0:u.graticuleOpacity)||.3,legendBoxSize:((d=this.radar)==null?void 0:d.legendBoxSize)||12,legendFontSize:((h=this.radar)==null?void 0:h.legendFontSize)||12},this.archEdgeColor=this.archEdgeColor||"#777",this.archEdgeArrowColor=this.archEdgeArrowColor||"#777",this.archEdgeWidth=this.archEdgeWidth||"3",this.archGroupBorderColor=this.archGroupBorderColor||"#000",this.archGroupBorderWidth=this.archGroupBorderWidth||"2px",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||T(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||T(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||T(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||T(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||T(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||T(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||So(this.quadrant1Fill)?X(this.quadrant1Fill):ie(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((p=this.xyChart)==null?void 0:p.backgroundColor)||this.background,titleColor:((f=this.xyChart)==null?void 0:f.titleColor)||this.primaryTextColor,xAxisTitleColor:((g=this.xyChart)==null?void 0:g.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((m=this.xyChart)==null?void 0:m.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((b=this.xyChart)==null?void 0:b.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((y=this.xyChart)==null?void 0:y.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((v=this.xyChart)==null?void 0:v.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((S=this.xyChart)==null?void 0:S.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((w=this.xyChart)==null?void 0:w.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((k=this.xyChart)==null?void 0:k.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((C=this.xyChart)==null?void 0:C.plotColorPalette)||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?ie(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||T(this.primaryColor,{h:-30}),this.git4=this.git4||T(this.primaryColor,{h:-60}),this.git5=this.git5||T(this.primaryColor,{h:-90}),this.git6=this.git6||T(this.primaryColor,{h:60}),this.git7=this.git7||T(this.primaryColor,{h:120}),this.darkMode?(this.git0=X(this.git0,25),this.git1=X(this.git1,25),this.git2=X(this.git2,25),this.git3=X(this.git3,25),this.git4=X(this.git4,25),this.git5=X(this.git5,25),this.git6=X(this.git6,25),this.git7=X(this.git7,25)):(this.git0=ie(this.git0,25),this.git1=ie(this.git1,25),this.git2=ie(this.git2,25),this.git3=ie(this.git3,25),this.git4=ie(this.git4,25),this.git5=ie(this.git5,25),this.git6=ie(this.git6,25),this.git7=ie(this.git7,25)),this.gitInv0=this.gitInv0||W(this.git0),this.gitInv1=this.gitInv1||W(this.git1),this.gitInv2=this.gitInv2||W(this.git2),this.gitInv3=this.gitInv3||W(this.git3),this.gitInv4=this.gitInv4||W(this.git4),this.gitInv5=this.gitInv5||W(this.git5),this.gitInv6=this.gitInv6||W(this.git6),this.gitInv7=this.gitInv7||W(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||gu,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||mu}calculate(t){if(typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(i=>{this[i]=t[i]}),this.updateColors(),r.forEach(i=>{this[i]=t[i]})}},x(ao,"Theme"),ao),zE=x(e=>{const t=new UE;return t.calculate(e),t},"getThemeVariables"),oo,qE=(oo=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=X(this.primaryColor,16),this.tertiaryColor=T(this.primaryColor,{h:-160}),this.primaryBorderColor=W(this.background),this.secondaryBorderColor=jt(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=jt(this.tertiaryColor,this.darkMode),this.primaryTextColor=W(this.primaryColor),this.secondaryTextColor=W(this.secondaryColor),this.tertiaryTextColor=W(this.tertiaryColor),this.lineColor=W(this.background),this.textColor=W(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=X(W("#323D47"),10),this.lineColor="calculated",this.border1="#ccc",this.border2=Ca(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=ie("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=ie(this.sectionBkgColor,10),this.taskBorderColor=Ca(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=Ca(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||X(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||ie(this.mainBkg,10),this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){var t,r,i,n,s,o,l,c,u,d,h,p,f,g,m,b,y,v,S,w,k;this.secondBkg=X(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=X(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.actorBorder,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=X(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=T(this.primaryColor,{h:64}),this.fillType3=T(this.secondaryColor,{h:64}),this.fillType4=T(this.primaryColor,{h:-64}),this.fillType5=T(this.secondaryColor,{h:-64}),this.fillType6=T(this.primaryColor,{h:128}),this.fillType7=T(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||T(this.primaryColor,{h:30}),this.cScale4=this.cScale4||T(this.primaryColor,{h:60}),this.cScale5=this.cScale5||T(this.primaryColor,{h:90}),this.cScale6=this.cScale6||T(this.primaryColor,{h:120}),this.cScale7=this.cScale7||T(this.primaryColor,{h:150}),this.cScale8=this.cScale8||T(this.primaryColor,{h:210}),this.cScale9=this.cScale9||T(this.primaryColor,{h:270}),this.cScale10=this.cScale10||T(this.primaryColor,{h:300}),this.cScale11=this.cScale11||T(this.primaryColor,{h:330});for(let C=0;C<this.THEME_COLOR_LIMIT;C++)this["cScaleInv"+C]=this["cScaleInv"+C]||W(this["cScale"+C]);for(let C=0;C<this.THEME_COLOR_LIMIT;C++)this["cScalePeer"+C]=this["cScalePeer"+C]||X(this["cScale"+C],10);for(let C=0;C<5;C++)this["surface"+C]=this["surface"+C]||T(this.mainBkg,{h:30,s:-30,l:-(-10+C*4)}),this["surfacePeer"+C]=this["surfacePeer"+C]||T(this.mainBkg,{h:30,s:-30,l:-(-7+C*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let C=0;C<this.THEME_COLOR_LIMIT;C++)this["cScaleLabel"+C]=this["cScaleLabel"+C]||this.scaleLabelColor;for(let C=0;C<this.THEME_COLOR_LIMIT;C++)this["pie"+C]=this["cScale"+C];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||T(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||T(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||T(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||T(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||T(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||T(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||So(this.quadrant1Fill)?X(this.quadrant1Fill):ie(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((t=this.xyChart)==null?void 0:t.backgroundColor)||this.background,titleColor:((r=this.xyChart)==null?void 0:r.titleColor)||this.primaryTextColor,xAxisTitleColor:((i=this.xyChart)==null?void 0:i.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((n=this.xyChart)==null?void 0:n.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((s=this.xyChart)==null?void 0:s.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((o=this.xyChart)==null?void 0:o.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((l=this.xyChart)==null?void 0:l.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((c=this.xyChart)==null?void 0:c.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((u=this.xyChart)==null?void 0:u.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((d=this.xyChart)==null?void 0:d.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((h=this.xyChart)==null?void 0:h.plotColorPalette)||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.background},this.radar={axisColor:((p=this.radar)==null?void 0:p.axisColor)||this.lineColor,axisStrokeWidth:((f=this.radar)==null?void 0:f.axisStrokeWidth)||2,axisLabelFontSize:((g=this.radar)==null?void 0:g.axisLabelFontSize)||12,curveOpacity:((m=this.radar)==null?void 0:m.curveOpacity)||.5,curveStrokeWidth:((b=this.radar)==null?void 0:b.curveStrokeWidth)||2,graticuleColor:((y=this.radar)==null?void 0:y.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((v=this.radar)==null?void 0:v.graticuleStrokeWidth)||1,graticuleOpacity:((S=this.radar)==null?void 0:S.graticuleOpacity)||.3,legendBoxSize:((w=this.radar)==null?void 0:w.legendBoxSize)||12,legendFontSize:((k=this.radar)==null?void 0:k.legendFontSize)||12},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?ie(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=X(this.secondaryColor,20),this.git1=X(this.pie2||this.secondaryColor,20),this.git2=X(this.pie3||this.tertiaryColor,20),this.git3=X(this.pie4||T(this.primaryColor,{h:-30}),20),this.git4=X(this.pie5||T(this.primaryColor,{h:-60}),20),this.git5=X(this.pie6||T(this.primaryColor,{h:-90}),10),this.git6=X(this.pie7||T(this.primaryColor,{h:60}),10),this.git7=X(this.pie8||T(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||W(this.git0),this.gitInv1=this.gitInv1||W(this.git1),this.gitInv2=this.gitInv2||W(this.git2),this.gitInv3=this.gitInv3||W(this.git3),this.gitInv4=this.gitInv4||W(this.git4),this.gitInv5=this.gitInv5||W(this.git5),this.gitInv6=this.gitInv6||W(this.git6),this.gitInv7=this.gitInv7||W(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||W(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||W(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||X(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||X(this.background,2),this.nodeBorder=this.nodeBorder||"#999"}calculate(t){if(typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(i=>{this[i]=t[i]}),this.updateColors(),r.forEach(i=>{this[i]=t[i]})}},x(oo,"Theme"),oo),HE=x(e=>{const t=new qE;return t.calculate(e),t},"getThemeVariables"),lo,WE=(lo=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=T(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=T(this.primaryColor,{h:-160}),this.primaryBorderColor=jt(this.primaryColor,this.darkMode),this.secondaryBorderColor=jt(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=jt(this.tertiaryColor,this.darkMode),this.primaryTextColor=W(this.primaryColor),this.secondaryTextColor=W(this.secondaryColor),this.tertiaryTextColor=W(this.tertiaryColor),this.lineColor=W(this.background),this.textColor=W(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="rgba(232,232,232, 0.8)",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.sectionBkgColor=Ca(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="navy",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd="calculated",this.rowEven="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){var t,r,i,n,s,o,l,c,u,d,h,p,f,g,m,b,y,v,S,w,k;this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||T(this.primaryColor,{h:30}),this.cScale4=this.cScale4||T(this.primaryColor,{h:60}),this.cScale5=this.cScale5||T(this.primaryColor,{h:90}),this.cScale6=this.cScale6||T(this.primaryColor,{h:120}),this.cScale7=this.cScale7||T(this.primaryColor,{h:150}),this.cScale8=this.cScale8||T(this.primaryColor,{h:210}),this.cScale9=this.cScale9||T(this.primaryColor,{h:270}),this.cScale10=this.cScale10||T(this.primaryColor,{h:300}),this.cScale11=this.cScale11||T(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||ie(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||ie(this.tertiaryColor,40);for(let C=0;C<this.THEME_COLOR_LIMIT;C++)this["cScale"+C]=ie(this["cScale"+C],10),this["cScalePeer"+C]=this["cScalePeer"+C]||ie(this["cScale"+C],25);for(let C=0;C<this.THEME_COLOR_LIMIT;C++)this["cScaleInv"+C]=this["cScaleInv"+C]||T(this["cScale"+C],{h:180});for(let C=0;C<5;C++)this["surface"+C]=this["surface"+C]||T(this.mainBkg,{h:30,l:-(5+C*5)}),this["surfacePeer"+C]=this["surfacePeer"+C]||T(this.mainBkg,{h:30,l:-(7+C*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||W(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||W(this.labelTextColor);for(let C=0;C<this.THEME_COLOR_LIMIT;C++)this["cScaleLabel"+C]=this["cScaleLabel"+C]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=X(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||X(this.primaryColor,75)||"#ffffff",this.rowEven=this.rowEven||X(this.primaryColor,1),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=T(this.primaryColor,{h:64}),this.fillType3=T(this.secondaryColor,{h:64}),this.fillType4=T(this.primaryColor,{h:-64}),this.fillType5=T(this.secondaryColor,{h:-64}),this.fillType6=T(this.primaryColor,{h:128}),this.fillType7=T(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||T(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||T(this.primaryColor,{l:-10}),this.pie5=this.pie5||T(this.secondaryColor,{l:-30}),this.pie6=this.pie6||T(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||T(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||T(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||T(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||T(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||T(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||T(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||T(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||T(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||T(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||T(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||T(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||T(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||So(this.quadrant1Fill)?X(this.quadrant1Fill):ie(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.radar={axisColor:((t=this.radar)==null?void 0:t.axisColor)||this.lineColor,axisStrokeWidth:((r=this.radar)==null?void 0:r.axisStrokeWidth)||2,axisLabelFontSize:((i=this.radar)==null?void 0:i.axisLabelFontSize)||12,curveOpacity:((n=this.radar)==null?void 0:n.curveOpacity)||.5,curveStrokeWidth:((s=this.radar)==null?void 0:s.curveStrokeWidth)||2,graticuleColor:((o=this.radar)==null?void 0:o.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((l=this.radar)==null?void 0:l.graticuleStrokeWidth)||1,graticuleOpacity:((c=this.radar)==null?void 0:c.graticuleOpacity)||.3,legendBoxSize:((u=this.radar)==null?void 0:u.legendBoxSize)||12,legendFontSize:((d=this.radar)==null?void 0:d.legendFontSize)||12},this.xyChart={backgroundColor:((h=this.xyChart)==null?void 0:h.backgroundColor)||this.background,titleColor:((p=this.xyChart)==null?void 0:p.titleColor)||this.primaryTextColor,xAxisTitleColor:((f=this.xyChart)==null?void 0:f.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((g=this.xyChart)==null?void 0:g.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((m=this.xyChart)==null?void 0:m.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((b=this.xyChart)==null?void 0:b.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((y=this.xyChart)==null?void 0:y.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((v=this.xyChart)==null?void 0:v.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((S=this.xyChart)==null?void 0:S.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((w=this.xyChart)==null?void 0:w.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((k=this.xyChart)==null?void 0:k.plotColorPalette)||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||T(this.primaryColor,{h:-30}),this.git4=this.git4||T(this.primaryColor,{h:-60}),this.git5=this.git5||T(this.primaryColor,{h:-90}),this.git6=this.git6||T(this.primaryColor,{h:60}),this.git7=this.git7||T(this.primaryColor,{h:120}),this.darkMode?(this.git0=X(this.git0,25),this.git1=X(this.git1,25),this.git2=X(this.git2,25),this.git3=X(this.git3,25),this.git4=X(this.git4,25),this.git5=X(this.git5,25),this.git6=X(this.git6,25),this.git7=X(this.git7,25)):(this.git0=ie(this.git0,25),this.git1=ie(this.git1,25),this.git2=ie(this.git2,25),this.git3=ie(this.git3,25),this.git4=ie(this.git4,25),this.git5=ie(this.git5,25),this.git6=ie(this.git6,25),this.git7=ie(this.git7,25)),this.gitInv0=this.gitInv0||ie(W(this.git0),25),this.gitInv1=this.gitInv1||W(this.git1),this.gitInv2=this.gitInv2||W(this.git2),this.gitInv3=this.gitInv3||W(this.git3),this.gitInv4=this.gitInv4||W(this.git4),this.gitInv5=this.gitInv5||W(this.git5),this.gitInv6=this.gitInv6||W(this.git6),this.gitInv7=this.gitInv7||W(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||W(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||W(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||gu,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||mu}calculate(t){if(Object.keys(this).forEach(i=>{this[i]==="calculated"&&(this[i]=void 0)}),typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(i=>{this[i]=t[i]}),this.updateColors(),r.forEach(i=>{this[i]=t[i]})}},x(lo,"Theme"),lo),GE=x(e=>{const t=new WE;return t.calculate(e),t},"getThemeVariables"),co,VE=(co=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=X("#cde498",10),this.primaryBorderColor=jt(this.primaryColor,this.darkMode),this.secondaryBorderColor=jt(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=jt(this.tertiaryColor,this.darkMode),this.primaryTextColor=W(this.primaryColor),this.secondaryTextColor=W(this.secondaryColor),this.tertiaryTextColor=W(this.primaryColor),this.lineColor=W(this.background),this.textColor=W(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var t,r,i,n,s,o,l,c,u,d,h,p,f,g,m,b,y,v,S,w,k;this.actorBorder=ie(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||T(this.primaryColor,{h:30}),this.cScale4=this.cScale4||T(this.primaryColor,{h:60}),this.cScale5=this.cScale5||T(this.primaryColor,{h:90}),this.cScale6=this.cScale6||T(this.primaryColor,{h:120}),this.cScale7=this.cScale7||T(this.primaryColor,{h:150}),this.cScale8=this.cScale8||T(this.primaryColor,{h:210}),this.cScale9=this.cScale9||T(this.primaryColor,{h:270}),this.cScale10=this.cScale10||T(this.primaryColor,{h:300}),this.cScale11=this.cScale11||T(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||ie(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||ie(this.tertiaryColor,40);for(let C=0;C<this.THEME_COLOR_LIMIT;C++)this["cScale"+C]=ie(this["cScale"+C],10),this["cScalePeer"+C]=this["cScalePeer"+C]||ie(this["cScale"+C],25);for(let C=0;C<this.THEME_COLOR_LIMIT;C++)this["cScaleInv"+C]=this["cScaleInv"+C]||T(this["cScale"+C],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let C=0;C<this.THEME_COLOR_LIMIT;C++)this["cScaleLabel"+C]=this["cScaleLabel"+C]||this.scaleLabelColor;for(let C=0;C<5;C++)this["surface"+C]=this["surface"+C]||T(this.mainBkg,{h:30,s:-30,l:-(5+C*5)}),this["surfacePeer"+C]=this["surfacePeer"+C]||T(this.mainBkg,{h:30,s:-30,l:-(8+C*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||X(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||X(this.mainBkg,20),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=T(this.primaryColor,{h:64}),this.fillType3=T(this.secondaryColor,{h:64}),this.fillType4=T(this.primaryColor,{h:-64}),this.fillType5=T(this.secondaryColor,{h:-64}),this.fillType6=T(this.primaryColor,{h:128}),this.fillType7=T(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||T(this.primaryColor,{l:-30}),this.pie5=this.pie5||T(this.secondaryColor,{l:-30}),this.pie6=this.pie6||T(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||T(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||T(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||T(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||T(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||T(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||T(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||T(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||T(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||T(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||T(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||T(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||T(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||So(this.quadrant1Fill)?X(this.quadrant1Fill):ie(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.mainBkg},this.radar={axisColor:((t=this.radar)==null?void 0:t.axisColor)||this.lineColor,axisStrokeWidth:((r=this.radar)==null?void 0:r.axisStrokeWidth)||2,axisLabelFontSize:((i=this.radar)==null?void 0:i.axisLabelFontSize)||12,curveOpacity:((n=this.radar)==null?void 0:n.curveOpacity)||.5,curveStrokeWidth:((s=this.radar)==null?void 0:s.curveStrokeWidth)||2,graticuleColor:((o=this.radar)==null?void 0:o.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((l=this.radar)==null?void 0:l.graticuleStrokeWidth)||1,graticuleOpacity:((c=this.radar)==null?void 0:c.graticuleOpacity)||.3,legendBoxSize:((u=this.radar)==null?void 0:u.legendBoxSize)||12,legendFontSize:((d=this.radar)==null?void 0:d.legendFontSize)||12},this.xyChart={backgroundColor:((h=this.xyChart)==null?void 0:h.backgroundColor)||this.background,titleColor:((p=this.xyChart)==null?void 0:p.titleColor)||this.primaryTextColor,xAxisTitleColor:((f=this.xyChart)==null?void 0:f.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((g=this.xyChart)==null?void 0:g.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((m=this.xyChart)==null?void 0:m.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((b=this.xyChart)==null?void 0:b.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((y=this.xyChart)==null?void 0:y.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((v=this.xyChart)==null?void 0:v.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((S=this.xyChart)==null?void 0:S.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((w=this.xyChart)==null?void 0:w.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((k=this.xyChart)==null?void 0:k.plotColorPalette)||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||T(this.primaryColor,{h:-30}),this.git4=this.git4||T(this.primaryColor,{h:-60}),this.git5=this.git5||T(this.primaryColor,{h:-90}),this.git6=this.git6||T(this.primaryColor,{h:60}),this.git7=this.git7||T(this.primaryColor,{h:120}),this.darkMode?(this.git0=X(this.git0,25),this.git1=X(this.git1,25),this.git2=X(this.git2,25),this.git3=X(this.git3,25),this.git4=X(this.git4,25),this.git5=X(this.git5,25),this.git6=X(this.git6,25),this.git7=X(this.git7,25)):(this.git0=ie(this.git0,25),this.git1=ie(this.git1,25),this.git2=ie(this.git2,25),this.git3=ie(this.git3,25),this.git4=ie(this.git4,25),this.git5=ie(this.git5,25),this.git6=ie(this.git6,25),this.git7=ie(this.git7,25)),this.gitInv0=this.gitInv0||W(this.git0),this.gitInv1=this.gitInv1||W(this.git1),this.gitInv2=this.gitInv2||W(this.git2),this.gitInv3=this.gitInv3||W(this.git3),this.gitInv4=this.gitInv4||W(this.git4),this.gitInv5=this.gitInv5||W(this.git5),this.gitInv6=this.gitInv6||W(this.git6),this.gitInv7=this.gitInv7||W(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||W(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||W(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||gu,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||mu}calculate(t){if(typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(i=>{this[i]=t[i]}),this.updateColors(),r.forEach(i=>{this[i]=t[i]})}},x(co,"Theme"),co),YE=x(e=>{const t=new VE;return t.calculate(e),t},"getThemeVariables"),uo,XE=(uo=class{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=X(this.contrast,55),this.background="#ffffff",this.tertiaryColor=T(this.primaryColor,{h:-160}),this.primaryBorderColor=jt(this.primaryColor,this.darkMode),this.secondaryBorderColor=jt(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=jt(this.tertiaryColor,this.darkMode),this.primaryTextColor=W(this.primaryColor),this.secondaryTextColor=W(this.secondaryColor),this.tertiaryTextColor=W(this.tertiaryColor),this.lineColor=W(this.background),this.textColor=W(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor=this.actorBorder,this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||X(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||"#f4f4f4",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var t,r,i,n,s,o,l,c,u,d,h,p,f,g,m,b,y,v,S,w,k;this.secondBkg=X(this.contrast,55),this.border2=this.contrast,this.actorBorder=X(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.actorBorder,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let C=0;C<this.THEME_COLOR_LIMIT;C++)this["cScaleInv"+C]=this["cScaleInv"+C]||W(this["cScale"+C]);for(let C=0;C<this.THEME_COLOR_LIMIT;C++)this.darkMode?this["cScalePeer"+C]=this["cScalePeer"+C]||X(this["cScale"+C],10):this["cScalePeer"+C]=this["cScalePeer"+C]||ie(this["cScale"+C],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let C=0;C<this.THEME_COLOR_LIMIT;C++)this["cScaleLabel"+C]=this["cScaleLabel"+C]||this.scaleLabelColor;for(let C=0;C<5;C++)this["surface"+C]=this["surface"+C]||T(this.mainBkg,{l:-(5+C*5)}),this["surfacePeer"+C]=this["surfacePeer"+C]||T(this.mainBkg,{l:-(8+C*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=X(this.contrast,30),this.sectionBkgColor2=X(this.contrast,30),this.taskBorderColor=ie(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=X(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=ie(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.vertLineColor=this.critBkgColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=T(this.primaryColor,{h:64}),this.fillType3=T(this.secondaryColor,{h:64}),this.fillType4=T(this.primaryColor,{h:-64}),this.fillType5=T(this.secondaryColor,{h:-64}),this.fillType6=T(this.primaryColor,{h:128}),this.fillType7=T(this.secondaryColor,{h:128});for(let C=0;C<this.THEME_COLOR_LIMIT;C++)this["pie"+C]=this["cScale"+C];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||T(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||T(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||T(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||T(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||T(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||T(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||So(this.quadrant1Fill)?X(this.quadrant1Fill):ie(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((t=this.xyChart)==null?void 0:t.backgroundColor)||this.background,titleColor:((r=this.xyChart)==null?void 0:r.titleColor)||this.primaryTextColor,xAxisTitleColor:((i=this.xyChart)==null?void 0:i.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((n=this.xyChart)==null?void 0:n.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((s=this.xyChart)==null?void 0:s.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((o=this.xyChart)==null?void 0:o.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((l=this.xyChart)==null?void 0:l.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((c=this.xyChart)==null?void 0:c.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((u=this.xyChart)==null?void 0:u.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((d=this.xyChart)==null?void 0:d.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((h=this.xyChart)==null?void 0:h.plotColorPalette)||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.radar={axisColor:((p=this.radar)==null?void 0:p.axisColor)||this.lineColor,axisStrokeWidth:((f=this.radar)==null?void 0:f.axisStrokeWidth)||2,axisLabelFontSize:((g=this.radar)==null?void 0:g.axisLabelFontSize)||12,curveOpacity:((m=this.radar)==null?void 0:m.curveOpacity)||.5,curveStrokeWidth:((b=this.radar)==null?void 0:b.curveStrokeWidth)||2,graticuleColor:((y=this.radar)==null?void 0:y.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((v=this.radar)==null?void 0:v.graticuleStrokeWidth)||1,graticuleOpacity:((S=this.radar)==null?void 0:S.graticuleOpacity)||.3,legendBoxSize:((w=this.radar)==null?void 0:w.legendBoxSize)||12,legendFontSize:((k=this.radar)==null?void 0:k.legendFontSize)||12},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=ie(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||T(this.primaryColor,{h:-30}),this.git4=this.pie5||T(this.primaryColor,{h:-60}),this.git5=this.pie6||T(this.primaryColor,{h:-90}),this.git6=this.pie7||T(this.primaryColor,{h:60}),this.git7=this.pie8||T(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||W(this.git0),this.gitInv1=this.gitInv1||W(this.git1),this.gitInv2=this.gitInv2||W(this.git2),this.gitInv3=this.gitInv3||W(this.git3),this.gitInv4=this.gitInv4||W(this.git4),this.gitInv5=this.gitInv5||W(this.git5),this.gitInv6=this.gitInv6||W(this.git6),this.gitInv7=this.gitInv7||W(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||gu,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||mu}calculate(t){if(typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(i=>{this[i]=t[i]}),this.updateColors(),r.forEach(i=>{this[i]=t[i]})}},x(uo,"Theme"),uo),QE=x(e=>{const t=new XE;return t.calculate(e),t},"getThemeVariables"),Zr={base:{getThemeVariables:zE},dark:{getThemeVariables:HE},default:{getThemeVariables:GE},forest:{getThemeVariables:YE},neutral:{getThemeVariables:QE}},jr={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200,inheritDir:!1},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,maxLabelWidth:360,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],titleColor:"",titleFontFamily:'"trebuchet ms", verdana, arial, sans-serif',titleFontSize:"4ex"},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1,hideEmptyMembersBox:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,nodeSpacing:140,rankSpacing:80,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showDataLabel:!1,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200,layoutAlgorithm:"cose-bilkent"},kanban:{useMaxWidth:!0,padding:8,sectionWidth:200,ticketBaseUrl:""},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},packet:{useMaxWidth:!0,rowHeight:32,bitWidth:32,bitsPerRow:32,showBits:!0,paddingX:5,paddingY:5},architecture:{useMaxWidth:!0,padding:40,iconSize:80,fontSize:16},radar:{useMaxWidth:!0,width:600,height:600,marginTop:50,marginRight:50,marginBottom:50,marginLeft:50,axisScaleFactor:1,axisLabelFactor:1.05,curveTension:.17},theme:"default",look:"classic",handDrawnSeed:0,layout:"dagre",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","suppressErrorRendering","maxEdges"],legacyMathML:!1,forceLegacyMathML:!1,deterministicIds:!1,fontSize:16,markdownAutoWrap:!0,suppressErrorRendering:!1},Fb={...jr,deterministicIDSeed:void 0,elk:{mergeEdges:!1,nodePlacementStrategy:"BRANDES_KOEPF",forceNodeModelOrder:!1,considerModelOrder:"NODES_AND_EDGES"},themeCSS:void 0,themeVariables:Zr.default.getThemeVariables(),sequence:{...jr.sequence,messageFont:x(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont"),noteFont:x(function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},"noteFont"),actorFont:x(function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}},"actorFont")},class:{hideEmptyMembersBox:!1},gantt:{...jr.gantt,tickInterval:void 0,useWidth:void 0},c4:{...jr.c4,useWidth:void 0,personFont:x(function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},"personFont"),flowchart:{...jr.flowchart,inheritDir:!1},external_personFont:x(function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},"external_personFont"),systemFont:x(function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},"systemFont"),external_systemFont:x(function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},"external_systemFont"),system_dbFont:x(function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},"system_dbFont"),external_system_dbFont:x(function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},"external_system_dbFont"),system_queueFont:x(function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},"system_queueFont"),external_system_queueFont:x(function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},"external_system_queueFont"),containerFont:x(function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},"containerFont"),external_containerFont:x(function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},"external_containerFont"),container_dbFont:x(function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},"container_dbFont"),external_container_dbFont:x(function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},"external_container_dbFont"),container_queueFont:x(function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},"container_queueFont"),external_container_queueFont:x(function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},"external_container_queueFont"),componentFont:x(function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},"componentFont"),external_componentFont:x(function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},"external_componentFont"),component_dbFont:x(function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},"component_dbFont"),external_component_dbFont:x(function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},"external_component_dbFont"),component_queueFont:x(function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},"component_queueFont"),external_component_queueFont:x(function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},"external_component_queueFont"),boundaryFont:x(function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},"boundaryFont"),messageFont:x(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont")},pie:{...jr.pie,useWidth:984},xyChart:{...jr.xyChart,useWidth:void 0},requirement:{...jr.requirement,useWidth:void 0},packet:{...jr.packet},radar:{...jr.radar},treemap:{useMaxWidth:!0,padding:10,diagramPadding:8,showValues:!0,nodeWidth:100,nodeHeight:40,borderWidth:1,valueFontSize:12,labelFontSize:14,valueFormat:","}},Ub=x((e,t="")=>Object.keys(e).reduce((r,i)=>Array.isArray(e[i])?r:typeof e[i]=="object"&&e[i]!==null?[...r,t+i,...Ub(e[i],"")]:[...r,t+i],[]),"keyify"),KE=new Set(Ub(Fb,"")),zb=Fb,gc=x(e=>{if(I.debug("sanitizeDirective called with",e),!(typeof e!="object"||e==null)){if(Array.isArray(e)){e.forEach(t=>gc(t));return}for(const t of Object.keys(e)){if(I.debug("Checking key",t),t.startsWith("__")||t.includes("proto")||t.includes("constr")||!KE.has(t)||e[t]==null){I.debug("sanitize deleting key: ",t),delete e[t];continue}if(typeof e[t]=="object"){I.debug("sanitizing object",t),gc(e[t]);continue}const r=["themeCSS","fontFamily","altFontFamily"];for(const i of r)t.includes(i)&&(I.debug("sanitizing css option",t),e[t]=JE(e[t]))}if(e.themeVariables)for(const t of Object.keys(e.themeVariables)){const r=e.themeVariables[t];r!=null&&r.match&&!r.match(/^[\d "#%(),.;A-Za-z]+$/)&&(e.themeVariables[t]="")}I.debug("After sanitization",e)}},"sanitizeDirective"),JE=x(e=>{let t=0,r=0;for(const i of e){if(t<r)return"{ /* ERROR: Unbalanced CSS */ }";i==="{"?t++:i==="}"&&r++}return t!==r?"{ /* ERROR: Unbalanced CSS */ }":e},"sanitizeCss"),fs=Object.freeze(zb),Dt=Xe({},fs),mc,pn=[],ka=Xe({},fs),xu=x((e,t)=>{let r=Xe({},e),i={};for(const n of t)Wb(n),i=Xe(i,n);if(r=Xe(r,i),i.theme&&i.theme in Zr){const n=Xe({},mc),s=Xe(n.themeVariables||{},i.themeVariables);r.theme&&r.theme in Zr&&(r.themeVariables=Zr[r.theme].getThemeVariables(s))}return ka=r,Gb(ka),ka},"updateCurrentConfig"),ZE=x(e=>(Dt=Xe({},fs),Dt=Xe(Dt,e),e.theme&&Zr[e.theme]&&(Dt.themeVariables=Zr[e.theme].getThemeVariables(e.themeVariables)),xu(Dt,pn),Dt),"setSiteConfig"),eA=x(e=>{mc=Xe({},e)},"saveConfigFromInitialize"),tA=x(e=>(Dt=Xe(Dt,e),xu(Dt,pn),Dt),"updateSiteConfig"),qb=x(()=>Xe({},Dt),"getSiteConfig"),Hb=x(e=>(Gb(e),Xe(ka,e),xt()),"setConfig"),xt=x(()=>Xe({},ka),"getConfig"),Wb=x(e=>{e&&(["secure",...Dt.secure??[]].forEach(t=>{Object.hasOwn(e,t)&&(I.debug(`Denied attempt to modify a secure key ${t}`,e[t]),delete e[t])}),Object.keys(e).forEach(t=>{t.startsWith("__")&&delete e[t]}),Object.keys(e).forEach(t=>{typeof e[t]=="string"&&(e[t].includes("<")||e[t].includes(">")||e[t].includes("url(data:"))&&delete e[t],typeof e[t]=="object"&&Wb(e[t])}))},"sanitize"),rA=x(e=>{var t;gc(e),e.fontFamily&&!((t=e.themeVariables)!=null&&t.fontFamily)&&(e.themeVariables={...e.themeVariables,fontFamily:e.fontFamily}),pn.push(e),xu(Dt,pn)},"addDirective"),xc=x((e=Dt)=>{pn=[],xu(e,pn)},"reset"),iA={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},Rx={},nA=x(e=>{Rx[e]||(I.warn(iA[e]),Rx[e]=!0)},"issueWarning"),Gb=x(e=>{e&&(e.lazyLoadedDiagrams||e.loadExternalDiagramsAtStartup)&&nA("LAZY_LOAD_DEPRECATED")},"checkConfig"),I6=x(()=>{let e={};mc&&(e=Xe(e,mc));for(const t of pn)e=Xe(e,t);return e},"getUserDefinedConfig"),Co=/<br\s*\/?>/gi,sA=x(e=>e?Xb(e).replace(/\\n/g,"#br#").split("#br#"):[""],"getRows"),aA=(()=>{let e=!1;return()=>{e||(Vb(),e=!0)}})();function Vb(){const e="data-temp-href-target";ps.addHook("beforeSanitizeAttributes",t=>{t.tagName==="A"&&t.hasAttribute("target")&&t.setAttribute(e,t.getAttribute("target")??"")}),ps.addHook("afterSanitizeAttributes",t=>{t.tagName==="A"&&t.hasAttribute(e)&&(t.setAttribute("target",t.getAttribute(e)??""),t.removeAttribute(e),t.getAttribute("target")==="_blank"&&t.setAttribute("rel","noopener"))})}x(Vb,"setupDompurifyHooks");var Yb=x(e=>(aA(),ps.sanitize(e)),"removeScript"),Lx=x((e,t)=>{var r;if(((r=t.flowchart)==null?void 0:r.htmlLabels)!==!1){const i=t.securityLevel;i==="antiscript"||i==="strict"?e=Yb(e):i!=="loose"&&(e=Xb(e),e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),e=e.replace(/=/g,"&equals;"),e=uA(e))}return e},"sanitizeMore"),ar=x((e,t)=>e&&(t.dompurifyConfig?e=ps.sanitize(Lx(e,t),t.dompurifyConfig).toString():e=ps.sanitize(Lx(e,t),{FORBID_TAGS:["style"]}).toString(),e),"sanitizeText"),oA=x((e,t)=>typeof e=="string"?ar(e,t):e.flat().map(r=>ar(r,t)),"sanitizeTextOrArray"),lA=x(e=>Co.test(e),"hasBreaks"),cA=x(e=>e.split(Co),"splitBreaks"),uA=x(e=>e.replace(/#br#/g,"<br/>"),"placeholderToBreak"),Xb=x(e=>e.replace(Co,"#br#"),"breakToPlaceholder"),dA=x(e=>{let t="";return e&&(t=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,t=CSS.escape(t)),t},"getUrl"),Je=x(e=>!(e===!1||["false","null","0"].includes(String(e).trim().toLowerCase())),"evaluate"),hA=x(function(...e){const t=e.filter(r=>!isNaN(r));return Math.max(...t)},"getMax"),pA=x(function(...e){const t=e.filter(r=>!isNaN(r));return Math.min(...t)},"getMin"),Px=x(function(e){const t=e.split(/(,)/),r=[];for(let i=0;i<t.length;i++){let n=t[i];if(n===","&&i>0&&i+1<t.length){const s=t[i-1],o=t[i+1];fA(s,o)&&(n=s+","+o,i++,r.pop())}r.push(gA(n))}return r.join("")},"parseGenericTypes"),Hh=x((e,t)=>Math.max(0,e.split(t).length-1),"countOccurrence"),fA=x((e,t)=>{const r=Hh(e,"~"),i=Hh(t,"~");return r===1&&i===1},"shouldCombineSets"),gA=x(e=>{const t=Hh(e,"~");let r=!1;if(t<=1)return e;t%2!==0&&e.startsWith("~")&&(e=e.substring(1),r=!0);const i=[...e];let n=i.indexOf("~"),s=i.lastIndexOf("~");for(;n!==-1&&s!==-1&&n!==s;)i[n]="<",i[s]=">",n=i.indexOf("~"),s=i.lastIndexOf("~");return r&&i.unshift("~"),i.join("")},"processSet"),Mx=x(()=>window.MathMLElement!==void 0,"isMathMLSupported"),Wh=/\$\$(.*)\$\$/g,gs=x(e=>{var t;return(((t=e.match(Wh))==null?void 0:t.length)??0)>0},"hasKatex"),$6=x(async(e,t)=>{const r=document.createElement("div");r.innerHTML=await Of(e,t),r.id="katex-temp",r.style.visibility="hidden",r.style.position="absolute",r.style.top="0";const i=document.querySelector("body");i==null||i.insertAdjacentElement("beforeend",r);const n={width:r.clientWidth,height:r.clientHeight};return r.remove(),n},"calculateMathMLDimensions"),mA=x(async(e,t)=>{if(!gs(e))return e;if(!(Mx()||t.legacyMathML||t.forceLegacyMathML))return e.replace(Wh,"MathML is unsupported in this environment.");{const{default:r}=await Se(()=>import("./katex-c7e083e0.js"),[]),i=t.forceLegacyMathML||!Mx()&&t.legacyMathML?"htmlAndMathml":"mathml";return e.split(Co).map(n=>gs(n)?`<div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">${n}</div>`:`<div>${n}</div>`).join("").replace(Wh,(n,s)=>r.renderToString(s,{throwOnError:!0,displayMode:!0,output:i}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))}},"renderKatexUnsanitized"),Of=x(async(e,t)=>ar(await mA(e,t),t),"renderKatexSanitized"),Ns={getRows:sA,sanitizeText:ar,sanitizeTextOrArray:oA,hasBreaks:lA,splitBreaks:cA,lineBreakRegex:Co,removeScript:Yb,getUrl:dA,evaluate:Je,getMax:hA,getMin:pA},xA=x(function(e,t){for(let r of t)e.attr(r[0],r[1])},"d3Attrs"),yA=x(function(e,t,r){let i=new Map;return r?(i.set("width","100%"),i.set("style",`max-width: ${t}px;`)):(i.set("height",e),i.set("width",t)),i},"calculateSvgSizeAttrs"),Qb=x(function(e,t,r,i){const n=yA(t,r,i);xA(e,n)},"configureSvgSize"),vA=x(function(e,t,r,i){const n=t.node().getBBox(),s=n.width,o=n.height;I.info(`SVG bounds: ${s}x${o}`,n);let l=0,c=0;I.info(`Graph bounds: ${l}x${c}`,e),l=s+r*2,c=o+r*2,I.info(`Calculated bounds: ${l}x${c}`),Qb(t,c,l,i);const u=`${n.x-r} ${n.y-r} ${n.width+2*r} ${n.height+2*r}`;t.attr("viewBox",u)},"setupGraphViewbox"),Rl={},bA=x((e,t,r)=>{let i="";return e in Rl&&Rl[e]?i=Rl[e](r):I.warn(`No theme found for ${e}`),` & {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
    fill: ${r.textColor}
  }
  @keyframes edge-animation-frame {
    from {
      stroke-dashoffset: 0;
    }
  }
  @keyframes dash {
    to {
      stroke-dashoffset: 0;
    }
  }
  & .edge-animation-slow {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 50s linear infinite;
    stroke-linecap: round;
  }
  & .edge-animation-fast {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 20s linear infinite;
    stroke-linecap: round;
  }
  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${r.errorBkgColor};
  }
  & .error-text {
    fill: ${r.errorTextColor};
    stroke: ${r.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 1px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }
  & .edge-thickness-invisible {
    stroke-width: 0;
    fill: none;
  }
  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${r.lineColor};
    stroke: ${r.lineColor};
  }
  & .marker.cross {
    stroke: ${r.lineColor};
  }

  & svg {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
  }
   & p {
    margin: 0
   }

  ${i}

  ${t}
`},"getStyles"),SA=x((e,t)=>{t!==void 0&&(Rl[e]=t)},"addStylesForDiagram"),CA=bA,Kb={};WT(Kb,{clear:()=>wA,getAccDescription:()=>NA,getAccTitle:()=>jA,getDiagramTitle:()=>EA,setAccDescription:()=>_A,setAccTitle:()=>kA,setDiagramTitle:()=>TA});var If="",$f="",Ff="",Uf=x(e=>ar(e,xt()),"sanitizeText"),wA=x(()=>{If="",Ff="",$f=""},"clear"),kA=x(e=>{If=Uf(e).replace(/^\s+/g,"")},"setAccTitle"),jA=x(()=>If,"getAccTitle"),_A=x(e=>{Ff=Uf(e).replace(/\n\s+/g,`
`)},"setAccDescription"),NA=x(()=>Ff,"getAccDescription"),TA=x(e=>{$f=Uf(e)},"setDiagramTitle"),EA=x(()=>$f,"getDiagramTitle"),Bx=I,AA=Bf,ve=xt,F6=Hb,U6=fs,zf=x(e=>ar(e,ve()),"sanitizeText"),RA=vA,LA=x(()=>Kb,"getCommonDb"),yc={},vc=x((e,t,r)=>{var i;yc[e]&&Bx.warn(`Diagram with id ${e} already registered. Overwriting.`),yc[e]=t,r&&$b(e,r),SA(e,t.styles),(i=t.injectUtils)==null||i.call(t,Bx,AA,ve,zf,RA,LA(),()=>{})},"registerDiagram"),Gh=x(e=>{if(e in yc)return yc[e];throw new PA(e)},"getDiagram"),ho,PA=(ho=class extends Error{constructor(t){super(`Diagram ${t} not found.`)}},x(ho,"DiagramNotFoundError"),ho),MA={value:()=>{}};function Jb(){for(var e=0,t=arguments.length,r={},i;e<t;++e){if(!(i=arguments[e]+"")||i in r||/[\s.]/.test(i))throw new Error("illegal type: "+i);r[i]=[]}return new Ll(r)}function Ll(e){this._=e}function BA(e,t){return e.trim().split(/^|\s+/).map(function(r){var i="",n=r.indexOf(".");if(n>=0&&(i=r.slice(n+1),r=r.slice(0,n)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:i}})}Ll.prototype=Jb.prototype={constructor:Ll,on:function(e,t){var r=this._,i=BA(e+"",r),n,s=-1,o=i.length;if(arguments.length<2){for(;++s<o;)if((n=(e=i[s]).type)&&(n=DA(r[n],e.name)))return n;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<o;)if(n=(e=i[s]).type)r[n]=Dx(r[n],e.name,t);else if(t==null)for(n in r)r[n]=Dx(r[n],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new Ll(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var r=new Array(n),i=0,n,s;i<n;++i)r[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],i=0,n=s.length;i<n;++i)s[i].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],n=0,s=i.length;n<s;++n)i[n].value.apply(t,r)}};function DA(e,t){for(var r=0,i=e.length,n;r<i;++r)if((n=e[r]).name===t)return n.value}function Dx(e,t,r){for(var i=0,n=e.length;i<n;++i)if(e[i].name===t){e[i]=MA,e=e.slice(0,i).concat(e.slice(i+1));break}return r!=null&&e.push({name:t,value:r}),e}var Vh="http://www.w3.org/1999/xhtml";const Ox={svg:"http://www.w3.org/2000/svg",xhtml:Vh,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function yu(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),Ox.hasOwnProperty(t)?{space:Ox[t],local:e}:e}function OA(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===Vh&&t.documentElement.namespaceURI===Vh?t.createElement(e):t.createElementNS(r,e)}}function IA(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Zb(e){var t=yu(e);return(t.local?IA:OA)(t)}function $A(){}function qf(e){return e==null?$A:function(){return this.querySelector(e)}}function FA(e){typeof e!="function"&&(e=qf(e));for(var t=this._groups,r=t.length,i=new Array(r),n=0;n<r;++n)for(var s=t[n],o=s.length,l=i[n]=new Array(o),c,u,d=0;d<o;++d)(c=s[d])&&(u=e.call(c,c.__data__,d,s))&&("__data__"in c&&(u.__data__=c.__data__),l[d]=u);return new Xt(i,this._parents)}function UA(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function zA(){return[]}function eS(e){return e==null?zA:function(){return this.querySelectorAll(e)}}function qA(e){return function(){return UA(e.apply(this,arguments))}}function HA(e){typeof e=="function"?e=qA(e):e=eS(e);for(var t=this._groups,r=t.length,i=[],n=[],s=0;s<r;++s)for(var o=t[s],l=o.length,c,u=0;u<l;++u)(c=o[u])&&(i.push(e.call(c,c.__data__,u,o)),n.push(c));return new Xt(i,n)}function tS(e){return function(){return this.matches(e)}}function rS(e){return function(t){return t.matches(e)}}var WA=Array.prototype.find;function GA(e){return function(){return WA.call(this.children,e)}}function VA(){return this.firstElementChild}function YA(e){return this.select(e==null?VA:GA(typeof e=="function"?e:rS(e)))}var XA=Array.prototype.filter;function QA(){return Array.from(this.children)}function KA(e){return function(){return XA.call(this.children,e)}}function JA(e){return this.selectAll(e==null?QA:KA(typeof e=="function"?e:rS(e)))}function ZA(e){typeof e!="function"&&(e=tS(e));for(var t=this._groups,r=t.length,i=new Array(r),n=0;n<r;++n)for(var s=t[n],o=s.length,l=i[n]=[],c,u=0;u<o;++u)(c=s[u])&&e.call(c,c.__data__,u,s)&&l.push(c);return new Xt(i,this._parents)}function iS(e){return new Array(e.length)}function eR(){return new Xt(this._enter||this._groups.map(iS),this._parents)}function bc(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}bc.prototype={constructor:bc,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function tR(e){return function(){return e}}function rR(e,t,r,i,n,s){for(var o=0,l,c=t.length,u=s.length;o<u;++o)(l=t[o])?(l.__data__=s[o],i[o]=l):r[o]=new bc(e,s[o]);for(;o<c;++o)(l=t[o])&&(n[o]=l)}function iR(e,t,r,i,n,s,o){var l,c,u=new Map,d=t.length,h=s.length,p=new Array(d),f;for(l=0;l<d;++l)(c=t[l])&&(p[l]=f=o.call(c,c.__data__,l,t)+"",u.has(f)?n[l]=c:u.set(f,c));for(l=0;l<h;++l)f=o.call(e,s[l],l,s)+"",(c=u.get(f))?(i[l]=c,c.__data__=s[l],u.delete(f)):r[l]=new bc(e,s[l]);for(l=0;l<d;++l)(c=t[l])&&u.get(p[l])===c&&(n[l]=c)}function nR(e){return e.__data__}function sR(e,t){if(!arguments.length)return Array.from(this,nR);var r=t?iR:rR,i=this._parents,n=this._groups;typeof e!="function"&&(e=tR(e));for(var s=n.length,o=new Array(s),l=new Array(s),c=new Array(s),u=0;u<s;++u){var d=i[u],h=n[u],p=h.length,f=aR(e.call(d,d&&d.__data__,u,i)),g=f.length,m=l[u]=new Array(g),b=o[u]=new Array(g),y=c[u]=new Array(p);r(d,h,m,b,y,f,t);for(var v=0,S=0,w,k;v<g;++v)if(w=m[v]){for(v>=S&&(S=v+1);!(k=b[S])&&++S<g;);w._next=k||null}}return o=new Xt(o,i),o._enter=l,o._exit=c,o}function aR(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function oR(){return new Xt(this._exit||this._groups.map(iS),this._parents)}function lR(e,t,r){var i=this.enter(),n=this,s=this.exit();return typeof e=="function"?(i=e(i),i&&(i=i.selection())):i=i.append(e+""),t!=null&&(n=t(n),n&&(n=n.selection())),r==null?s.remove():r(s),i&&n?i.merge(n).order():n}function cR(e){for(var t=e.selection?e.selection():e,r=this._groups,i=t._groups,n=r.length,s=i.length,o=Math.min(n,s),l=new Array(n),c=0;c<o;++c)for(var u=r[c],d=i[c],h=u.length,p=l[c]=new Array(h),f,g=0;g<h;++g)(f=u[g]||d[g])&&(p[g]=f);for(;c<n;++c)l[c]=r[c];return new Xt(l,this._parents)}function uR(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var i=e[t],n=i.length-1,s=i[n],o;--n>=0;)(o=i[n])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function dR(e){e||(e=hR);function t(h,p){return h&&p?e(h.__data__,p.__data__):!h-!p}for(var r=this._groups,i=r.length,n=new Array(i),s=0;s<i;++s){for(var o=r[s],l=o.length,c=n[s]=new Array(l),u,d=0;d<l;++d)(u=o[d])&&(c[d]=u);c.sort(t)}return new Xt(n,this._parents).order()}function hR(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function pR(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function fR(){return Array.from(this)}function gR(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var i=e[t],n=0,s=i.length;n<s;++n){var o=i[n];if(o)return o}return null}function mR(){let e=0;for(const t of this)++e;return e}function xR(){return!this.node()}function yR(e){for(var t=this._groups,r=0,i=t.length;r<i;++r)for(var n=t[r],s=0,o=n.length,l;s<o;++s)(l=n[s])&&e.call(l,l.__data__,s,n);return this}function vR(e){return function(){this.removeAttribute(e)}}function bR(e){return function(){this.removeAttributeNS(e.space,e.local)}}function SR(e,t){return function(){this.setAttribute(e,t)}}function CR(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function wR(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function kR(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function jR(e,t){var r=yu(e);if(arguments.length<2){var i=this.node();return r.local?i.getAttributeNS(r.space,r.local):i.getAttribute(r)}return this.each((t==null?r.local?bR:vR:typeof t=="function"?r.local?kR:wR:r.local?CR:SR)(r,t))}function nS(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function _R(e){return function(){this.style.removeProperty(e)}}function NR(e,t,r){return function(){this.style.setProperty(e,t,r)}}function TR(e,t,r){return function(){var i=t.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,r)}}function ER(e,t,r){return arguments.length>1?this.each((t==null?_R:typeof t=="function"?TR:NR)(e,t,r??"")):ms(this.node(),e)}function ms(e,t){return e.style.getPropertyValue(t)||nS(e).getComputedStyle(e,null).getPropertyValue(t)}function AR(e){return function(){delete this[e]}}function RR(e,t){return function(){this[e]=t}}function LR(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function PR(e,t){return arguments.length>1?this.each((t==null?AR:typeof t=="function"?LR:RR)(e,t)):this.node()[e]}function sS(e){return e.trim().split(/^|\s+/)}function Hf(e){return e.classList||new aS(e)}function aS(e){this._node=e,this._names=sS(e.getAttribute("class")||"")}aS.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function oS(e,t){for(var r=Hf(e),i=-1,n=t.length;++i<n;)r.add(t[i])}function lS(e,t){for(var r=Hf(e),i=-1,n=t.length;++i<n;)r.remove(t[i])}function MR(e){return function(){oS(this,e)}}function BR(e){return function(){lS(this,e)}}function DR(e,t){return function(){(t.apply(this,arguments)?oS:lS)(this,e)}}function OR(e,t){var r=sS(e+"");if(arguments.length<2){for(var i=Hf(this.node()),n=-1,s=r.length;++n<s;)if(!i.contains(r[n]))return!1;return!0}return this.each((typeof t=="function"?DR:t?MR:BR)(r,t))}function IR(){this.textContent=""}function $R(e){return function(){this.textContent=e}}function FR(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function UR(e){return arguments.length?this.each(e==null?IR:(typeof e=="function"?FR:$R)(e)):this.node().textContent}function zR(){this.innerHTML=""}function qR(e){return function(){this.innerHTML=e}}function HR(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function WR(e){return arguments.length?this.each(e==null?zR:(typeof e=="function"?HR:qR)(e)):this.node().innerHTML}function GR(){this.nextSibling&&this.parentNode.appendChild(this)}function VR(){return this.each(GR)}function YR(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function XR(){return this.each(YR)}function QR(e){var t=typeof e=="function"?e:Zb(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function KR(){return null}function JR(e,t){var r=typeof e=="function"?e:Zb(e),i=t==null?KR:typeof t=="function"?t:qf(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),i.apply(this,arguments)||null)})}function ZR(){var e=this.parentNode;e&&e.removeChild(this)}function eL(){return this.each(ZR)}function tL(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function rL(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function iL(e){return this.select(e?rL:tL)}function nL(e){return arguments.length?this.property("__data__",e):this.node().__data__}function sL(e){return function(t){e.call(this,t,this.__data__)}}function aL(e){return e.trim().split(/^|\s+/).map(function(t){var r="",i=t.indexOf(".");return i>=0&&(r=t.slice(i+1),t=t.slice(0,i)),{type:t,name:r}})}function oL(e){return function(){var t=this.__on;if(t){for(var r=0,i=-1,n=t.length,s;r<n;++r)s=t[r],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++i]=s;++i?t.length=i:delete this.__on}}}function lL(e,t,r){return function(){var i=this.__on,n,s=sL(t);if(i){for(var o=0,l=i.length;o<l;++o)if((n=i[o]).type===e.type&&n.name===e.name){this.removeEventListener(n.type,n.listener,n.options),this.addEventListener(n.type,n.listener=s,n.options=r),n.value=t;return}}this.addEventListener(e.type,s,r),n={type:e.type,name:e.name,value:t,listener:s,options:r},i?i.push(n):this.__on=[n]}}function cL(e,t,r){var i=aL(e+""),n,s=i.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var c=0,u=l.length,d;c<u;++c)for(n=0,d=l[c];n<s;++n)if((o=i[n]).type===d.type&&o.name===d.name)return d.value}return}for(l=t?lL:oL,n=0;n<s;++n)this.each(l(i[n],t,r));return this}function cS(e,t,r){var i=nS(e),n=i.CustomEvent;typeof n=="function"?n=new n(t,r):(n=i.document.createEvent("Event"),r?(n.initEvent(t,r.bubbles,r.cancelable),n.detail=r.detail):n.initEvent(t,!1,!1)),e.dispatchEvent(n)}function uL(e,t){return function(){return cS(this,e,t)}}function dL(e,t){return function(){return cS(this,e,t.apply(this,arguments))}}function hL(e,t){return this.each((typeof t=="function"?dL:uL)(e,t))}function*pL(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var i=e[t],n=0,s=i.length,o;n<s;++n)(o=i[n])&&(yield o)}var uS=[null];function Xt(e,t){this._groups=e,this._parents=t}function wo(){return new Xt([[document.documentElement]],uS)}function fL(){return this}Xt.prototype=wo.prototype={constructor:Xt,select:FA,selectAll:HA,selectChild:YA,selectChildren:JA,filter:ZA,data:sR,enter:eR,exit:oR,join:lR,merge:cR,selection:fL,order:uR,sort:dR,call:pR,nodes:fR,node:gR,size:mR,empty:xR,each:yR,attr:jR,style:ER,property:PR,classed:OR,text:UR,html:WR,raise:VR,lower:XR,append:QR,insert:JR,remove:eL,clone:iL,datum:nL,on:cL,dispatch:hL,[Symbol.iterator]:pL};function xe(e){return typeof e=="string"?new Xt([[document.querySelector(e)]],[document.documentElement]):new Xt([[e]],uS)}function Wf(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function dS(e,t){var r=Object.create(e.prototype);for(var i in t)r[i]=t[i];return r}function ko(){}var Ga=.7,Sc=1/Ga,ns="\\s*([+-]?\\d+)\\s*",Va="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Pr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",gL=/^#([0-9a-f]{3,8})$/,mL=new RegExp(`^rgb\\(${ns},${ns},${ns}\\)$`),xL=new RegExp(`^rgb\\(${Pr},${Pr},${Pr}\\)$`),yL=new RegExp(`^rgba\\(${ns},${ns},${ns},${Va}\\)$`),vL=new RegExp(`^rgba\\(${Pr},${Pr},${Pr},${Va}\\)$`),bL=new RegExp(`^hsl\\(${Va},${Pr},${Pr}\\)$`),SL=new RegExp(`^hsla\\(${Va},${Pr},${Pr},${Va}\\)$`),Ix={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Wf(ko,Ya,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:$x,formatHex:$x,formatHex8:CL,formatHsl:wL,formatRgb:Fx,toString:Fx});function $x(){return this.rgb().formatHex()}function CL(){return this.rgb().formatHex8()}function wL(){return hS(this).formatHsl()}function Fx(){return this.rgb().formatRgb()}function Ya(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=gL.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Ux(t):r===3?new $t(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?nl(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?nl(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=mL.exec(e))?new $t(t[1],t[2],t[3],1):(t=xL.exec(e))?new $t(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=yL.exec(e))?nl(t[1],t[2],t[3],t[4]):(t=vL.exec(e))?nl(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=bL.exec(e))?Hx(t[1],t[2]/100,t[3]/100,1):(t=SL.exec(e))?Hx(t[1],t[2]/100,t[3]/100,t[4]):Ix.hasOwnProperty(e)?Ux(Ix[e]):e==="transparent"?new $t(NaN,NaN,NaN,0):null}function Ux(e){return new $t(e>>16&255,e>>8&255,e&255,1)}function nl(e,t,r,i){return i<=0&&(e=t=r=NaN),new $t(e,t,r,i)}function kL(e){return e instanceof ko||(e=Ya(e)),e?(e=e.rgb(),new $t(e.r,e.g,e.b,e.opacity)):new $t}function Yh(e,t,r,i){return arguments.length===1?kL(e):new $t(e,t,r,i??1)}function $t(e,t,r,i){this.r=+e,this.g=+t,this.b=+r,this.opacity=+i}Wf($t,Yh,dS(ko,{brighter(e){return e=e==null?Sc:Math.pow(Sc,e),new $t(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ga:Math.pow(Ga,e),new $t(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new $t(an(this.r),an(this.g),an(this.b),Cc(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:zx,formatHex:zx,formatHex8:jL,formatRgb:qx,toString:qx}));function zx(){return`#${Zi(this.r)}${Zi(this.g)}${Zi(this.b)}`}function jL(){return`#${Zi(this.r)}${Zi(this.g)}${Zi(this.b)}${Zi((isNaN(this.opacity)?1:this.opacity)*255)}`}function qx(){const e=Cc(this.opacity);return`${e===1?"rgb(":"rgba("}${an(this.r)}, ${an(this.g)}, ${an(this.b)}${e===1?")":`, ${e})`}`}function Cc(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function an(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Zi(e){return e=an(e),(e<16?"0":"")+e.toString(16)}function Hx(e,t,r,i){return i<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new fr(e,t,r,i)}function hS(e){if(e instanceof fr)return new fr(e.h,e.s,e.l,e.opacity);if(e instanceof ko||(e=Ya(e)),!e)return new fr;if(e instanceof fr)return e;e=e.rgb();var t=e.r/255,r=e.g/255,i=e.b/255,n=Math.min(t,r,i),s=Math.max(t,r,i),o=NaN,l=s-n,c=(s+n)/2;return l?(t===s?o=(r-i)/l+(r<i)*6:r===s?o=(i-t)/l+2:o=(t-r)/l+4,l/=c<.5?s+n:2-s-n,o*=60):l=c>0&&c<1?0:o,new fr(o,l,c,e.opacity)}function _L(e,t,r,i){return arguments.length===1?hS(e):new fr(e,t,r,i??1)}function fr(e,t,r,i){this.h=+e,this.s=+t,this.l=+r,this.opacity=+i}Wf(fr,_L,dS(ko,{brighter(e){return e=e==null?Sc:Math.pow(Sc,e),new fr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ga:Math.pow(Ga,e),new fr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,i=r+(r<.5?r:1-r)*t,n=2*r-i;return new $t(Ed(e>=240?e-240:e+120,n,i),Ed(e,n,i),Ed(e<120?e+240:e-120,n,i),this.opacity)},clamp(){return new fr(Wx(this.h),sl(this.s),sl(this.l),Cc(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Cc(this.opacity);return`${e===1?"hsl(":"hsla("}${Wx(this.h)}, ${sl(this.s)*100}%, ${sl(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Wx(e){return e=(e||0)%360,e<0?e+360:e}function sl(e){return Math.max(0,Math.min(1,e||0))}function Ed(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Gf=e=>()=>e;function pS(e,t){return function(r){return e+r*t}}function NL(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(i){return Math.pow(e+i*t,r)}}function z6(e,t){var r=t-e;return r?pS(e,r>180||r<-180?r-360*Math.round(r/360):r):Gf(isNaN(e)?t:e)}function TL(e){return(e=+e)==1?fS:function(t,r){return r-t?NL(t,r,e):Gf(isNaN(t)?r:t)}}function fS(e,t){var r=t-e;return r?pS(e,r):Gf(isNaN(e)?t:e)}const Gx=function e(t){var r=TL(t);function i(n,s){var o=r((n=Yh(n)).r,(s=Yh(s)).r),l=r(n.g,s.g),c=r(n.b,s.b),u=fS(n.opacity,s.opacity);return function(d){return n.r=o(d),n.g=l(d),n.b=c(d),n.opacity=u(d),n+""}}return i.gamma=e,i}(1);function pi(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}var Xh=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ad=new RegExp(Xh.source,"g");function EL(e){return function(){return e}}function AL(e){return function(t){return e(t)+""}}function RL(e,t){var r=Xh.lastIndex=Ad.lastIndex=0,i,n,s,o=-1,l=[],c=[];for(e=e+"",t=t+"";(i=Xh.exec(e))&&(n=Ad.exec(t));)(s=n.index)>r&&(s=t.slice(r,s),l[o]?l[o]+=s:l[++o]=s),(i=i[0])===(n=n[0])?l[o]?l[o]+=n:l[++o]=n:(l[++o]=null,c.push({i:o,x:pi(i,n)})),r=Ad.lastIndex;return r<t.length&&(s=t.slice(r),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?AL(c[0].x):EL(t):(t=c.length,function(u){for(var d=0,h;d<t;++d)l[(h=c[d]).i]=h.x(u);return l.join("")})}var Vx=180/Math.PI,Qh={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function gS(e,t,r,i,n,s){var o,l,c;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(c=e*r+t*i)&&(r-=e*c,i-=t*c),(l=Math.sqrt(r*r+i*i))&&(r/=l,i/=l,c/=l),e*i<t*r&&(e=-e,t=-t,c=-c,o=-o),{translateX:n,translateY:s,rotate:Math.atan2(t,e)*Vx,skewX:Math.atan(c)*Vx,scaleX:o,scaleY:l}}var al;function LL(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Qh:gS(t.a,t.b,t.c,t.d,t.e,t.f)}function PL(e){return e==null||(al||(al=document.createElementNS("http://www.w3.org/2000/svg","g")),al.setAttribute("transform",e),!(e=al.transform.baseVal.consolidate()))?Qh:(e=e.matrix,gS(e.a,e.b,e.c,e.d,e.e,e.f))}function mS(e,t,r,i){function n(u){return u.length?u.pop()+" ":""}function s(u,d,h,p,f,g){if(u!==h||d!==p){var m=f.push("translate(",null,t,null,r);g.push({i:m-4,x:pi(u,h)},{i:m-2,x:pi(d,p)})}else(h||p)&&f.push("translate("+h+t+p+r)}function o(u,d,h,p){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),p.push({i:h.push(n(h)+"rotate(",null,i)-2,x:pi(u,d)})):d&&h.push(n(h)+"rotate("+d+i)}function l(u,d,h,p){u!==d?p.push({i:h.push(n(h)+"skewX(",null,i)-2,x:pi(u,d)}):d&&h.push(n(h)+"skewX("+d+i)}function c(u,d,h,p,f,g){if(u!==h||d!==p){var m=f.push(n(f)+"scale(",null,",",null,")");g.push({i:m-4,x:pi(u,h)},{i:m-2,x:pi(d,p)})}else(h!==1||p!==1)&&f.push(n(f)+"scale("+h+","+p+")")}return function(u,d){var h=[],p=[];return u=e(u),d=e(d),s(u.translateX,u.translateY,d.translateX,d.translateY,h,p),o(u.rotate,d.rotate,h,p),l(u.skewX,d.skewX,h,p),c(u.scaleX,u.scaleY,d.scaleX,d.scaleY,h,p),u=d=null,function(f){for(var g=-1,m=p.length,b;++g<m;)h[(b=p[g]).i]=b.x(f);return h.join("")}}}var ML=mS(LL,"px, ","px)","deg)"),BL=mS(PL,", ",")",")"),xs=0,na=0,Ys=0,xS=1e3,wc,sa,kc=0,fn=0,vu=0,Xa=typeof performance=="object"&&performance.now?performance:Date,yS=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Vf(){return fn||(yS(DL),fn=Xa.now()+vu)}function DL(){fn=0}function jc(){this._call=this._time=this._next=null}jc.prototype=vS.prototype={constructor:jc,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?Vf():+r)+(t==null?0:+t),!this._next&&sa!==this&&(sa?sa._next=this:wc=this,sa=this),this._call=e,this._time=r,Kh()},stop:function(){this._call&&(this._call=null,this._time=1/0,Kh())}};function vS(e,t,r){var i=new jc;return i.restart(e,t,r),i}function OL(){Vf(),++xs;for(var e=wc,t;e;)(t=fn-e._time)>=0&&e._call.call(void 0,t),e=e._next;--xs}function Yx(){fn=(kc=Xa.now())+vu,xs=na=0;try{OL()}finally{xs=0,$L(),fn=0}}function IL(){var e=Xa.now(),t=e-kc;t>xS&&(vu-=t,kc=e)}function $L(){for(var e,t=wc,r,i=1/0;t;)t._call?(i>t._time&&(i=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:wc=r);sa=e,Kh(i)}function Kh(e){if(!xs){na&&(na=clearTimeout(na));var t=e-fn;t>24?(e<1/0&&(na=setTimeout(Yx,e-Xa.now()-vu)),Ys&&(Ys=clearInterval(Ys))):(Ys||(kc=Xa.now(),Ys=setInterval(IL,xS)),xs=1,yS(Yx))}}function Xx(e,t,r){var i=new jc;return t=t==null?0:+t,i.restart(n=>{i.stop(),e(n+t)},t,r),i}var FL=Jb("start","end","cancel","interrupt"),UL=[],bS=0,Qx=1,Jh=2,Pl=3,Kx=4,Zh=5,Ml=6;function bu(e,t,r,i,n,s){var o=e.__transition;if(!o)e.__transition={};else if(r in o)return;zL(e,r,{name:t,index:i,group:n,on:FL,tween:UL,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:bS})}function Yf(e,t){var r=Sr(e,t);if(r.state>bS)throw new Error("too late; already scheduled");return r}function Dr(e,t){var r=Sr(e,t);if(r.state>Pl)throw new Error("too late; already running");return r}function Sr(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function zL(e,t,r){var i=e.__transition,n;i[t]=r,r.timer=vS(s,0,r.time);function s(u){r.state=Qx,r.timer.restart(o,r.delay,r.time),r.delay<=u&&o(u-r.delay)}function o(u){var d,h,p,f;if(r.state!==Qx)return c();for(d in i)if(f=i[d],f.name===r.name){if(f.state===Pl)return Xx(o);f.state===Kx?(f.state=Ml,f.timer.stop(),f.on.call("interrupt",e,e.__data__,f.index,f.group),delete i[d]):+d<t&&(f.state=Ml,f.timer.stop(),f.on.call("cancel",e,e.__data__,f.index,f.group),delete i[d])}if(Xx(function(){r.state===Pl&&(r.state=Kx,r.timer.restart(l,r.delay,r.time),l(u))}),r.state=Jh,r.on.call("start",e,e.__data__,r.index,r.group),r.state===Jh){for(r.state=Pl,n=new Array(p=r.tween.length),d=0,h=-1;d<p;++d)(f=r.tween[d].value.call(e,e.__data__,r.index,r.group))&&(n[++h]=f);n.length=h+1}}function l(u){for(var d=u<r.duration?r.ease.call(null,u/r.duration):(r.timer.restart(c),r.state=Zh,1),h=-1,p=n.length;++h<p;)n[h].call(e,d);r.state===Zh&&(r.on.call("end",e,e.__data__,r.index,r.group),c())}function c(){r.state=Ml,r.timer.stop(),delete i[t];for(var u in i)return;delete e.__transition}}function qL(e,t){var r=e.__transition,i,n,s=!0,o;if(r){t=t==null?null:t+"";for(o in r){if((i=r[o]).name!==t){s=!1;continue}n=i.state>Jh&&i.state<Zh,i.state=Ml,i.timer.stop(),i.on.call(n?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete r[o]}s&&delete e.__transition}}function HL(e){return this.each(function(){qL(this,e)})}function WL(e,t){var r,i;return function(){var n=Dr(this,e),s=n.tween;if(s!==r){i=r=s;for(var o=0,l=i.length;o<l;++o)if(i[o].name===t){i=i.slice(),i.splice(o,1);break}}n.tween=i}}function GL(e,t,r){var i,n;if(typeof r!="function")throw new Error;return function(){var s=Dr(this,e),o=s.tween;if(o!==i){n=(i=o).slice();for(var l={name:t,value:r},c=0,u=n.length;c<u;++c)if(n[c].name===t){n[c]=l;break}c===u&&n.push(l)}s.tween=n}}function VL(e,t){var r=this._id;if(e+="",arguments.length<2){for(var i=Sr(this.node(),r).tween,n=0,s=i.length,o;n<s;++n)if((o=i[n]).name===e)return o.value;return null}return this.each((t==null?WL:GL)(r,e,t))}function Xf(e,t,r){var i=e._id;return e.each(function(){var n=Dr(this,i);(n.value||(n.value={}))[t]=r.apply(this,arguments)}),function(n){return Sr(n,i).value[t]}}function SS(e,t){var r;return(typeof t=="number"?pi:t instanceof Ya?Gx:(r=Ya(t))?(t=r,Gx):RL)(e,t)}function YL(e){return function(){this.removeAttribute(e)}}function XL(e){return function(){this.removeAttributeNS(e.space,e.local)}}function QL(e,t,r){var i,n=r+"",s;return function(){var o=this.getAttribute(e);return o===n?null:o===i?s:s=t(i=o,r)}}function KL(e,t,r){var i,n=r+"",s;return function(){var o=this.getAttributeNS(e.space,e.local);return o===n?null:o===i?s:s=t(i=o,r)}}function JL(e,t,r){var i,n,s;return function(){var o,l=r(this),c;return l==null?void this.removeAttribute(e):(o=this.getAttribute(e),c=l+"",o===c?null:o===i&&c===n?s:(n=c,s=t(i=o,l)))}}function ZL(e,t,r){var i,n,s;return function(){var o,l=r(this),c;return l==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),c=l+"",o===c?null:o===i&&c===n?s:(n=c,s=t(i=o,l)))}}function e3(e,t){var r=yu(e),i=r==="transform"?BL:SS;return this.attrTween(e,typeof t=="function"?(r.local?ZL:JL)(r,i,Xf(this,"attr."+e,t)):t==null?(r.local?XL:YL)(r):(r.local?KL:QL)(r,i,t))}function t3(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function r3(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function i3(e,t){var r,i;function n(){var s=t.apply(this,arguments);return s!==i&&(r=(i=s)&&r3(e,s)),r}return n._value=t,n}function n3(e,t){var r,i;function n(){var s=t.apply(this,arguments);return s!==i&&(r=(i=s)&&t3(e,s)),r}return n._value=t,n}function s3(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var i=yu(e);return this.tween(r,(i.local?i3:n3)(i,t))}function a3(e,t){return function(){Yf(this,e).delay=+t.apply(this,arguments)}}function o3(e,t){return t=+t,function(){Yf(this,e).delay=t}}function l3(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?a3:o3)(t,e)):Sr(this.node(),t).delay}function c3(e,t){return function(){Dr(this,e).duration=+t.apply(this,arguments)}}function u3(e,t){return t=+t,function(){Dr(this,e).duration=t}}function d3(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?c3:u3)(t,e)):Sr(this.node(),t).duration}function h3(e,t){if(typeof t!="function")throw new Error;return function(){Dr(this,e).ease=t}}function p3(e){var t=this._id;return arguments.length?this.each(h3(t,e)):Sr(this.node(),t).ease}function f3(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;Dr(this,e).ease=r}}function g3(e){if(typeof e!="function")throw new Error;return this.each(f3(this._id,e))}function m3(e){typeof e!="function"&&(e=tS(e));for(var t=this._groups,r=t.length,i=new Array(r),n=0;n<r;++n)for(var s=t[n],o=s.length,l=i[n]=[],c,u=0;u<o;++u)(c=s[u])&&e.call(c,c.__data__,u,s)&&l.push(c);return new si(i,this._parents,this._name,this._id)}function x3(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,i=t.length,n=r.length,s=Math.min(i,n),o=new Array(i),l=0;l<s;++l)for(var c=t[l],u=r[l],d=c.length,h=o[l]=new Array(d),p,f=0;f<d;++f)(p=c[f]||u[f])&&(h[f]=p);for(;l<i;++l)o[l]=t[l];return new si(o,this._parents,this._name,this._id)}function y3(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function v3(e,t,r){var i,n,s=y3(t)?Yf:Dr;return function(){var o=s(this,e),l=o.on;l!==i&&(n=(i=l).copy()).on(t,r),o.on=n}}function b3(e,t){var r=this._id;return arguments.length<2?Sr(this.node(),r).on.on(e):this.each(v3(r,e,t))}function S3(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function C3(){return this.on("end.remove",S3(this._id))}function w3(e){var t=this._name,r=this._id;typeof e!="function"&&(e=qf(e));for(var i=this._groups,n=i.length,s=new Array(n),o=0;o<n;++o)for(var l=i[o],c=l.length,u=s[o]=new Array(c),d,h,p=0;p<c;++p)(d=l[p])&&(h=e.call(d,d.__data__,p,l))&&("__data__"in d&&(h.__data__=d.__data__),u[p]=h,bu(u[p],t,r,p,u,Sr(d,r)));return new si(s,this._parents,t,r)}function k3(e){var t=this._name,r=this._id;typeof e!="function"&&(e=eS(e));for(var i=this._groups,n=i.length,s=[],o=[],l=0;l<n;++l)for(var c=i[l],u=c.length,d,h=0;h<u;++h)if(d=c[h]){for(var p=e.call(d,d.__data__,h,c),f,g=Sr(d,r),m=0,b=p.length;m<b;++m)(f=p[m])&&bu(f,t,r,m,p,g);s.push(p),o.push(d)}return new si(s,o,t,r)}var j3=wo.prototype.constructor;function _3(){return new j3(this._groups,this._parents)}function N3(e,t){var r,i,n;return function(){var s=ms(this,e),o=(this.style.removeProperty(e),ms(this,e));return s===o?null:s===r&&o===i?n:n=t(r=s,i=o)}}function CS(e){return function(){this.style.removeProperty(e)}}function T3(e,t,r){var i,n=r+"",s;return function(){var o=ms(this,e);return o===n?null:o===i?s:s=t(i=o,r)}}function E3(e,t,r){var i,n,s;return function(){var o=ms(this,e),l=r(this),c=l+"";return l==null&&(c=l=(this.style.removeProperty(e),ms(this,e))),o===c?null:o===i&&c===n?s:(n=c,s=t(i=o,l))}}function A3(e,t){var r,i,n,s="style."+t,o="end."+s,l;return function(){var c=Dr(this,e),u=c.on,d=c.value[s]==null?l||(l=CS(t)):void 0;(u!==r||n!==d)&&(i=(r=u).copy()).on(o,n=d),c.on=i}}function R3(e,t,r){var i=(e+="")=="transform"?ML:SS;return t==null?this.styleTween(e,N3(e,i)).on("end.style."+e,CS(e)):typeof t=="function"?this.styleTween(e,E3(e,i,Xf(this,"style."+e,t))).each(A3(this._id,e)):this.styleTween(e,T3(e,i,t),r).on("end.style."+e,null)}function L3(e,t,r){return function(i){this.style.setProperty(e,t.call(this,i),r)}}function P3(e,t,r){var i,n;function s(){var o=t.apply(this,arguments);return o!==n&&(i=(n=o)&&L3(e,o,r)),i}return s._value=t,s}function M3(e,t,r){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;return this.tween(i,P3(e,t,r??""))}function B3(e){return function(){this.textContent=e}}function D3(e){return function(){var t=e(this);this.textContent=t??""}}function O3(e){return this.tween("text",typeof e=="function"?D3(Xf(this,"text",e)):B3(e==null?"":e+""))}function I3(e){return function(t){this.textContent=e.call(this,t)}}function $3(e){var t,r;function i(){var n=e.apply(this,arguments);return n!==r&&(t=(r=n)&&I3(n)),t}return i._value=e,i}function F3(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,$3(e))}function U3(){for(var e=this._name,t=this._id,r=wS(),i=this._groups,n=i.length,s=0;s<n;++s)for(var o=i[s],l=o.length,c,u=0;u<l;++u)if(c=o[u]){var d=Sr(c,t);bu(c,e,r,u,o,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new si(i,this._parents,e,r)}function z3(){var e,t,r=this,i=r._id,n=r.size();return new Promise(function(s,o){var l={value:o},c={value:function(){--n===0&&s()}};r.each(function(){var u=Dr(this,i),d=u.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(c)),u.on=t}),n===0&&s()})}var q3=0;function si(e,t,r,i){this._groups=e,this._parents=t,this._name=r,this._id=i}function wS(){return++q3}var zr=wo.prototype;si.prototype={constructor:si,select:w3,selectAll:k3,selectChild:zr.selectChild,selectChildren:zr.selectChildren,filter:m3,merge:x3,selection:_3,transition:U3,call:zr.call,nodes:zr.nodes,node:zr.node,size:zr.size,empty:zr.empty,each:zr.each,on:b3,attr:e3,attrTween:s3,style:R3,styleTween:M3,text:O3,textTween:F3,remove:C3,tween:VL,delay:l3,duration:d3,ease:p3,easeVarying:g3,end:z3,[Symbol.iterator]:zr[Symbol.iterator]};function H3(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var W3={time:null,delay:0,duration:250,ease:H3};function G3(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function V3(e){var t,r;e instanceof si?(t=e._id,e=e._name):(t=wS(),(r=W3).time=Vf(),e=e==null?null:e+"");for(var i=this._groups,n=i.length,s=0;s<n;++s)for(var o=i[s],l=o.length,c,u=0;u<l;++u)(c=o[u])&&bu(c,e,t,u,o,r||G3(c,t));return new si(i,this._parents,e,t)}wo.prototype.interrupt=HL;wo.prototype.transition=V3;const ep=Math.PI,tp=2*ep,Vi=1e-6,Y3=tp-Vi;function kS(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function X3(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return kS;const r=10**t;return function(i){this._+=i[0];for(let n=1,s=i.length;n<s;++n)this._+=Math.round(arguments[n]*r)/r+i[n]}}class Q3{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?kS:X3(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,i,n){this._append`Q${+t},${+r},${this._x1=+i},${this._y1=+n}`}bezierCurveTo(t,r,i,n,s,o){this._append`C${+t},${+r},${+i},${+n},${this._x1=+s},${this._y1=+o}`}arcTo(t,r,i,n,s){if(t=+t,r=+r,i=+i,n=+n,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,c=i-t,u=n-r,d=o-t,h=l-r,p=d*d+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(p>Vi)if(!(Math.abs(h*c-u*d)>Vi)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let f=i-o,g=n-l,m=c*c+u*u,b=f*f+g*g,y=Math.sqrt(m),v=Math.sqrt(p),S=s*Math.tan((ep-Math.acos((m+p-b)/(2*y*v)))/2),w=S/v,k=S/y;Math.abs(w-1)>Vi&&this._append`L${t+w*d},${r+w*h}`,this._append`A${s},${s},0,0,${+(h*f>d*g)},${this._x1=t+k*c},${this._y1=r+k*u}`}}arc(t,r,i,n,s,o){if(t=+t,r=+r,i=+i,o=!!o,i<0)throw new Error(`negative radius: ${i}`);let l=i*Math.cos(n),c=i*Math.sin(n),u=t+l,d=r+c,h=1^o,p=o?n-s:s-n;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Vi||Math.abs(this._y1-d)>Vi)&&this._append`L${u},${d}`,i&&(p<0&&(p=p%tp+tp),p>Y3?this._append`A${i},${i},0,1,${h},${t-l},${r-c}A${i},${i},0,1,${h},${this._x1=u},${this._y1=d}`:p>Vi&&this._append`A${i},${i},0,${+(p>=ep)},${h},${this._x1=t+i*Math.cos(s)},${this._y1=r+i*Math.sin(s)}`)}rect(t,r,i,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${i=+i}v${+n}h${-i}Z`}toString(){return this._}}function Bn(e){return function(){return e}}const q6=Math.abs,H6=Math.atan2,W6=Math.cos,G6=Math.max,V6=Math.min,Y6=Math.sin,X6=Math.sqrt,Jx=1e-12,Qf=Math.PI,Zx=Qf/2,Q6=2*Qf;function K6(e){return e>1?0:e<-1?Qf:Math.acos(e)}function J6(e){return e>=1?Zx:e<=-1?-Zx:Math.asin(e)}function K3(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const i=Math.floor(r);if(!(i>=0))throw new RangeError(`invalid digits: ${r}`);t=i}return e},()=>new Q3(t)}function J3(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function jS(e){this._context=e}jS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function _c(e){return new jS(e)}function Z3(e){return e[0]}function eP(e){return e[1]}function tP(e,t){var r=Bn(!0),i=null,n=_c,s=null,o=K3(l);e=typeof e=="function"?e:e===void 0?Z3:Bn(e),t=typeof t=="function"?t:t===void 0?eP:Bn(t);function l(c){var u,d=(c=J3(c)).length,h,p=!1,f;for(i==null&&(s=n(f=o())),u=0;u<=d;++u)!(u<d&&r(h=c[u],u,c))===p&&((p=!p)?s.lineStart():s.lineEnd()),p&&s.point(+e(h,u,c),+t(h,u,c));if(f)return s=null,f+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Bn(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Bn(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Bn(!!c),l):r},l.curve=function(c){return arguments.length?(n=c,i!=null&&(s=n(i)),l):n},l.context=function(c){return arguments.length?(c==null?i=s=null:s=n(i=c),l):i},l}class _S{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function NS(e){return new _S(e,!0)}function TS(e){return new _S(e,!1)}function Li(){}function Nc(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Su(e){this._context=e}Su.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Nc(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Nc(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Bl(e){return new Su(e)}function ES(e){this._context=e}ES.prototype={areaStart:Li,areaEnd:Li,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Nc(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function rP(e){return new ES(e)}function AS(e){this._context=e}AS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,i=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,i):this._context.moveTo(r,i);break;case 3:this._point=4;default:Nc(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function iP(e){return new AS(e)}function RS(e,t){this._basis=new Su(e),this._beta=t}RS.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,r=e.length-1;if(r>0)for(var i=e[0],n=t[0],s=e[r]-i,o=t[r]-n,l=-1,c;++l<=r;)c=l/r,this._basis.point(this._beta*e[l]+(1-this._beta)*(i+c*s),this._beta*t[l]+(1-this._beta)*(n+c*o));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const nP=function e(t){function r(i){return t===1?new Su(i):new RS(i,t)}return r.beta=function(i){return e(+i)},r}(.85);function Tc(e,t,r){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-r),e._x2,e._y2)}function Kf(e,t){this._context=e,this._k=(1-t)/6}Kf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Tc(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Tc(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const LS=function e(t){function r(i){return new Kf(i,t)}return r.tension=function(i){return e(+i)},r}(0);function Jf(e,t){this._context=e,this._k=(1-t)/6}Jf.prototype={areaStart:Li,areaEnd:Li,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Tc(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const sP=function e(t){function r(i){return new Jf(i,t)}return r.tension=function(i){return e(+i)},r}(0);function Zf(e,t){this._context=e,this._k=(1-t)/6}Zf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Tc(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const aP=function e(t){function r(i){return new Zf(i,t)}return r.tension=function(i){return e(+i)},r}(0);function eg(e,t,r){var i=e._x1,n=e._y1,s=e._x2,o=e._y2;if(e._l01_a>Jx){var l=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,c=3*e._l01_a*(e._l01_a+e._l12_a);i=(i*l-e._x0*e._l12_2a+e._x2*e._l01_2a)/c,n=(n*l-e._y0*e._l12_2a+e._y2*e._l01_2a)/c}if(e._l23_a>Jx){var u=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,d=3*e._l23_a*(e._l23_a+e._l12_a);s=(s*u+e._x1*e._l23_2a-t*e._l12_2a)/d,o=(o*u+e._y1*e._l23_2a-r*e._l12_2a)/d}e._context.bezierCurveTo(i,n,s,o,e._x2,e._y2)}function PS(e,t){this._context=e,this._alpha=t}PS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:eg(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const MS=function e(t){function r(i){return t?new PS(i,t):new Kf(i,0)}return r.alpha=function(i){return e(+i)},r}(.5);function BS(e,t){this._context=e,this._alpha=t}BS.prototype={areaStart:Li,areaEnd:Li,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:eg(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const oP=function e(t){function r(i){return t?new BS(i,t):new Jf(i,0)}return r.alpha=function(i){return e(+i)},r}(.5);function DS(e,t){this._context=e,this._alpha=t}DS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:eg(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const lP=function e(t){function r(i){return t?new DS(i,t):new Zf(i,0)}return r.alpha=function(i){return e(+i)},r}(.5);function OS(e){this._context=e}OS.prototype={areaStart:Li,areaEnd:Li,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function cP(e){return new OS(e)}function e0(e){return e<0?-1:1}function t0(e,t,r){var i=e._x1-e._x0,n=t-e._x1,s=(e._y1-e._y0)/(i||n<0&&-0),o=(r-e._y1)/(n||i<0&&-0),l=(s*n+o*i)/(i+n);return(e0(s)+e0(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function r0(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Rd(e,t,r){var i=e._x0,n=e._y0,s=e._x1,o=e._y1,l=(s-i)/3;e._context.bezierCurveTo(i+l,n+l*t,s-l,o-l*r,s,o)}function Ec(e){this._context=e}Ec.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Rd(this,this._t0,r0(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Rd(this,r0(this,r=t0(this,e,t)),r);break;default:Rd(this,this._t0,r=t0(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function IS(e){this._context=new $S(e)}(IS.prototype=Object.create(Ec.prototype)).point=function(e,t){Ec.prototype.point.call(this,t,e)};function $S(e){this._context=e}$S.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,i,n,s){this._context.bezierCurveTo(t,e,i,r,s,n)}};function FS(e){return new Ec(e)}function US(e){return new IS(e)}function zS(e){this._context=e}zS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var i=i0(e),n=i0(t),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(i[0][s],n[0][s],i[1][s],n[1][s],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function i0(e){var t,r=e.length-1,i,n=new Array(r),s=new Array(r),o=new Array(r);for(n[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)n[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(n[r-1]=2,s[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)i=n[t]/s[t-1],s[t]-=i,o[t]-=i*o[t-1];for(n[r-1]=o[r-1]/s[r-1],t=r-2;t>=0;--t)n[t]=(o[t]-n[t+1])/s[t];for(s[r-1]=(e[r]+n[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-n[t+1];return[n,s]}function qS(e){return new zS(e)}function Cu(e,t){this._context=e,this._t=t}Cu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function HS(e){return new Cu(e,.5)}function WS(e){return new Cu(e,0)}function GS(e){return new Cu(e,1)}function aa(e,t,r){this.k=e,this.x=t,this.y=r}aa.prototype={constructor:aa,scale:function(e){return e===1?this:new aa(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new aa(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};aa.prototype;var uP=x(e=>{var n;const{securityLevel:t}=ve();let r=xe("body");if(t==="sandbox"){const o=((n=xe(`#i${e}`).node())==null?void 0:n.contentDocument)??document;r=xe(o.body)}return r.select(`#${e}`)},"selectSvgElement");function tg(e){return typeof e>"u"||e===null}x(tg,"isNothing");function VS(e){return typeof e=="object"&&e!==null}x(VS,"isObject");function YS(e){return Array.isArray(e)?e:tg(e)?[]:[e]}x(YS,"toArray");function XS(e,t){var r,i,n,s;if(t)for(s=Object.keys(t),r=0,i=s.length;r<i;r+=1)n=s[r],e[n]=t[n];return e}x(XS,"extend");function QS(e,t){var r="",i;for(i=0;i<t;i+=1)r+=e;return r}x(QS,"repeat");function KS(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}x(KS,"isNegativeZero");var dP=tg,hP=VS,pP=YS,fP=QS,gP=KS,mP=XS,Qe={isNothing:dP,isObject:hP,toArray:pP,repeat:fP,isNegativeZero:gP,extend:mP};function rg(e,t){var r="",i=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),i+" "+r):i}x(rg,"formatError");function ys(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=rg(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}x(ys,"YAMLException$1");ys.prototype=Object.create(Error.prototype);ys.prototype.constructor=ys;ys.prototype.toString=x(function(t){return this.name+": "+rg(this,t)},"toString");var Ot=ys;function Dl(e,t,r,i,n){var s="",o="",l=Math.floor(n/2)-1;return i-t>l&&(s=" ... ",t=i-l+s.length),r-i>l&&(o=" ...",r=i+l-o.length),{str:s+e.slice(t,r).replace(/\t/g,"→")+o,pos:i-t+s.length}}x(Dl,"getLine");function Ol(e,t){return Qe.repeat(" ",t-e.length)+e}x(Ol,"padStart");function JS(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,i=[0],n=[],s,o=-1;s=r.exec(e.buffer);)n.push(s.index),i.push(s.index+s[0].length),e.position<=s.index&&o<0&&(o=i.length-2);o<0&&(o=i.length-1);var l="",c,u,d=Math.min(e.line+t.linesAfter,n.length).toString().length,h=t.maxLength-(t.indent+d+3);for(c=1;c<=t.linesBefore&&!(o-c<0);c++)u=Dl(e.buffer,i[o-c],n[o-c],e.position-(i[o]-i[o-c]),h),l=Qe.repeat(" ",t.indent)+Ol((e.line-c+1).toString(),d)+" | "+u.str+`
`+l;for(u=Dl(e.buffer,i[o],n[o],e.position,h),l+=Qe.repeat(" ",t.indent)+Ol((e.line+1).toString(),d)+" | "+u.str+`
`,l+=Qe.repeat("-",t.indent+d+3+u.pos)+`^
`,c=1;c<=t.linesAfter&&!(o+c>=n.length);c++)u=Dl(e.buffer,i[o+c],n[o+c],e.position-(i[o]-i[o+c]),h),l+=Qe.repeat(" ",t.indent)+Ol((e.line+c+1).toString(),d)+" | "+u.str+`
`;return l.replace(/\n$/,"")}x(JS,"makeSnippet");var xP=JS,yP=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],vP=["scalar","sequence","mapping"];function ZS(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(i){t[String(i)]=r})}),t}x(ZS,"compileStyleAliases");function e1(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(yP.indexOf(r)===-1)throw new Ot('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=ZS(t.styleAliases||null),vP.indexOf(this.kind)===-1)throw new Ot('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}x(e1,"Type$1");var yt=e1;function rp(e,t){var r=[];return e[t].forEach(function(i){var n=r.length;r.forEach(function(s,o){s.tag===i.tag&&s.kind===i.kind&&s.multi===i.multi&&(n=o)}),r[n]=i}),r}x(rp,"compileList");function t1(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function i(n){n.multi?(e.multi[n.kind].push(n),e.multi.fallback.push(n)):e[n.kind][n.tag]=e.fallback[n.tag]=n}for(x(i,"collectType"),t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(i);return e}x(t1,"compileMap");function Ac(e){return this.extend(e)}x(Ac,"Schema$1");Ac.prototype.extend=x(function(t){var r=[],i=[];if(t instanceof yt)i.push(t);else if(Array.isArray(t))i=i.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(r=r.concat(t.implicit)),t.explicit&&(i=i.concat(t.explicit));else throw new Ot("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(s){if(!(s instanceof yt))throw new Ot("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new Ot("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new Ot("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),i.forEach(function(s){if(!(s instanceof yt))throw new Ot("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var n=Object.create(Ac.prototype);return n.implicit=(this.implicit||[]).concat(r),n.explicit=(this.explicit||[]).concat(i),n.compiledImplicit=rp(n,"implicit"),n.compiledExplicit=rp(n,"explicit"),n.compiledTypeMap=t1(n.compiledImplicit,n.compiledExplicit),n},"extend");var bP=Ac,SP=new yt("tag:yaml.org,2002:str",{kind:"scalar",construct:x(function(e){return e!==null?e:""},"construct")}),CP=new yt("tag:yaml.org,2002:seq",{kind:"sequence",construct:x(function(e){return e!==null?e:[]},"construct")}),wP=new yt("tag:yaml.org,2002:map",{kind:"mapping",construct:x(function(e){return e!==null?e:{}},"construct")}),kP=new bP({explicit:[SP,CP,wP]});function r1(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}x(r1,"resolveYamlNull");function i1(){return null}x(i1,"constructYamlNull");function n1(e){return e===null}x(n1,"isNull");var jP=new yt("tag:yaml.org,2002:null",{kind:"scalar",resolve:r1,construct:i1,predicate:n1,represent:{canonical:x(function(){return"~"},"canonical"),lowercase:x(function(){return"null"},"lowercase"),uppercase:x(function(){return"NULL"},"uppercase"),camelcase:x(function(){return"Null"},"camelcase"),empty:x(function(){return""},"empty")},defaultStyle:"lowercase"});function s1(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}x(s1,"resolveYamlBoolean");function a1(e){return e==="true"||e==="True"||e==="TRUE"}x(a1,"constructYamlBoolean");function o1(e){return Object.prototype.toString.call(e)==="[object Boolean]"}x(o1,"isBoolean");var _P=new yt("tag:yaml.org,2002:bool",{kind:"scalar",resolve:s1,construct:a1,predicate:o1,represent:{lowercase:x(function(e){return e?"true":"false"},"lowercase"),uppercase:x(function(e){return e?"TRUE":"FALSE"},"uppercase"),camelcase:x(function(e){return e?"True":"False"},"camelcase")},defaultStyle:"lowercase"});function l1(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}x(l1,"isHexCode");function c1(e){return 48<=e&&e<=55}x(c1,"isOctCode");function u1(e){return 48<=e&&e<=57}x(u1,"isDecCode");function d1(e){if(e===null)return!1;var t=e.length,r=0,i=!1,n;if(!t)return!1;if(n=e[r],(n==="-"||n==="+")&&(n=e[++r]),n==="0"){if(r+1===t)return!0;if(n=e[++r],n==="b"){for(r++;r<t;r++)if(n=e[r],n!=="_"){if(n!=="0"&&n!=="1")return!1;i=!0}return i&&n!=="_"}if(n==="x"){for(r++;r<t;r++)if(n=e[r],n!=="_"){if(!l1(e.charCodeAt(r)))return!1;i=!0}return i&&n!=="_"}if(n==="o"){for(r++;r<t;r++)if(n=e[r],n!=="_"){if(!c1(e.charCodeAt(r)))return!1;i=!0}return i&&n!=="_"}}if(n==="_")return!1;for(;r<t;r++)if(n=e[r],n!=="_"){if(!u1(e.charCodeAt(r)))return!1;i=!0}return!(!i||n==="_")}x(d1,"resolveYamlInteger");function h1(e){var t=e,r=1,i;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),i=t[0],(i==="-"||i==="+")&&(i==="-"&&(r=-1),t=t.slice(1),i=t[0]),t==="0")return 0;if(i==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}x(h1,"constructYamlInteger");function p1(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!Qe.isNegativeZero(e)}x(p1,"isInteger");var NP=new yt("tag:yaml.org,2002:int",{kind:"scalar",resolve:d1,construct:h1,predicate:p1,represent:{binary:x(function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},"binary"),octal:x(function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},"octal"),decimal:x(function(e){return e.toString(10)},"decimal"),hexadecimal:x(function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)},"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),TP=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function f1(e){return!(e===null||!TP.test(e)||e[e.length-1]==="_")}x(f1,"resolveYamlFloat");function g1(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}x(g1,"constructYamlFloat");var EP=/^[-+]?[0-9]+e/;function m1(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Qe.isNegativeZero(e))return"-0.0";return r=e.toString(10),EP.test(r)?r.replace("e",".e"):r}x(m1,"representYamlFloat");function x1(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||Qe.isNegativeZero(e))}x(x1,"isFloat");var AP=new yt("tag:yaml.org,2002:float",{kind:"scalar",resolve:f1,construct:g1,predicate:x1,represent:m1,defaultStyle:"lowercase"}),y1=kP.extend({implicit:[jP,_P,NP,AP]}),RP=y1,v1=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),b1=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function S1(e){return e===null?!1:v1.exec(e)!==null||b1.exec(e)!==null}x(S1,"resolveYamlTimestamp");function C1(e){var t,r,i,n,s,o,l,c=0,u=null,d,h,p;if(t=v1.exec(e),t===null&&(t=b1.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],i=+t[2]-1,n=+t[3],!t[4])return new Date(Date.UTC(r,i,n));if(s=+t[4],o=+t[5],l=+t[6],t[7]){for(c=t[7].slice(0,3);c.length<3;)c+="0";c=+c}return t[9]&&(d=+t[10],h=+(t[11]||0),u=(d*60+h)*6e4,t[9]==="-"&&(u=-u)),p=new Date(Date.UTC(r,i,n,s,o,l,c)),u&&p.setTime(p.getTime()-u),p}x(C1,"constructYamlTimestamp");function w1(e){return e.toISOString()}x(w1,"representYamlTimestamp");var LP=new yt("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:S1,construct:C1,instanceOf:Date,represent:w1});function k1(e){return e==="<<"||e===null}x(k1,"resolveYamlMerge");var PP=new yt("tag:yaml.org,2002:merge",{kind:"scalar",resolve:k1}),ig=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function j1(e){if(e===null)return!1;var t,r,i=0,n=e.length,s=ig;for(r=0;r<n;r++)if(t=s.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;i+=6}return i%8===0}x(j1,"resolveYamlBinary");function _1(e){var t,r,i=e.replace(/[\r\n=]/g,""),n=i.length,s=ig,o=0,l=[];for(t=0;t<n;t++)t%4===0&&t&&(l.push(o>>16&255),l.push(o>>8&255),l.push(o&255)),o=o<<6|s.indexOf(i.charAt(t));return r=n%4*6,r===0?(l.push(o>>16&255),l.push(o>>8&255),l.push(o&255)):r===18?(l.push(o>>10&255),l.push(o>>2&255)):r===12&&l.push(o>>4&255),new Uint8Array(l)}x(_1,"constructYamlBinary");function N1(e){var t="",r=0,i,n,s=e.length,o=ig;for(i=0;i<s;i++)i%3===0&&i&&(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]),r=(r<<8)+e[i];return n=s%3,n===0?(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]):n===2?(t+=o[r>>10&63],t+=o[r>>4&63],t+=o[r<<2&63],t+=o[64]):n===1&&(t+=o[r>>2&63],t+=o[r<<4&63],t+=o[64],t+=o[64]),t}x(N1,"representYamlBinary");function T1(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}x(T1,"isBinary");var MP=new yt("tag:yaml.org,2002:binary",{kind:"scalar",resolve:j1,construct:_1,predicate:T1,represent:N1}),BP=Object.prototype.hasOwnProperty,DP=Object.prototype.toString;function E1(e){if(e===null)return!0;var t=[],r,i,n,s,o,l=e;for(r=0,i=l.length;r<i;r+=1){if(n=l[r],o=!1,DP.call(n)!=="[object Object]")return!1;for(s in n)if(BP.call(n,s))if(!o)o=!0;else return!1;if(!o)return!1;if(t.indexOf(s)===-1)t.push(s);else return!1}return!0}x(E1,"resolveYamlOmap");function A1(e){return e!==null?e:[]}x(A1,"constructYamlOmap");var OP=new yt("tag:yaml.org,2002:omap",{kind:"sequence",resolve:E1,construct:A1}),IP=Object.prototype.toString;function R1(e){if(e===null)return!0;var t,r,i,n,s,o=e;for(s=new Array(o.length),t=0,r=o.length;t<r;t+=1){if(i=o[t],IP.call(i)!=="[object Object]"||(n=Object.keys(i),n.length!==1))return!1;s[t]=[n[0],i[n[0]]]}return!0}x(R1,"resolveYamlPairs");function L1(e){if(e===null)return[];var t,r,i,n,s,o=e;for(s=new Array(o.length),t=0,r=o.length;t<r;t+=1)i=o[t],n=Object.keys(i),s[t]=[n[0],i[n[0]]];return s}x(L1,"constructYamlPairs");var $P=new yt("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:R1,construct:L1}),FP=Object.prototype.hasOwnProperty;function P1(e){if(e===null)return!0;var t,r=e;for(t in r)if(FP.call(r,t)&&r[t]!==null)return!1;return!0}x(P1,"resolveYamlSet");function M1(e){return e!==null?e:{}}x(M1,"constructYamlSet");var UP=new yt("tag:yaml.org,2002:set",{kind:"mapping",resolve:P1,construct:M1}),B1=RP.extend({implicit:[LP,PP],explicit:[MP,OP,$P,UP]}),Pi=Object.prototype.hasOwnProperty,Rc=1,D1=2,O1=3,Lc=4,Ld=1,zP=2,n0=3,qP=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,HP=/[\x85\u2028\u2029]/,WP=/[,\[\]\{\}]/,I1=/^(?:!|!!|![a-z\-]+!)$/i,$1=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function ip(e){return Object.prototype.toString.call(e)}x(ip,"_class");function yr(e){return e===10||e===13}x(yr,"is_EOL");function Ei(e){return e===9||e===32}x(Ei,"is_WHITE_SPACE");function _t(e){return e===9||e===32||e===10||e===13}x(_t,"is_WS_OR_EOL");function en(e){return e===44||e===91||e===93||e===123||e===125}x(en,"is_FLOW_INDICATOR");function F1(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}x(F1,"fromHexCode");function U1(e){return e===120?2:e===117?4:e===85?8:0}x(U1,"escapedHexLen");function z1(e){return 48<=e&&e<=57?e-48:-1}x(z1,"fromDecimalCode");function np(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?" ":e===76?"\u2028":e===80?"\u2029":""}x(np,"simpleEscapeSequence");function q1(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}x(q1,"charFromCodepoint");var H1=new Array(256),W1=new Array(256);for(Hi=0;Hi<256;Hi++)H1[Hi]=np(Hi)?1:0,W1[Hi]=np(Hi);var Hi;function G1(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||B1,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}x(G1,"State$1");function ng(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=xP(r),new Ot(t,r)}x(ng,"generateError");function te(e,t){throw ng(e,t)}x(te,"throwError");function Qa(e,t){e.onWarning&&e.onWarning.call(null,ng(e,t))}x(Qa,"throwWarning");var s0={YAML:x(function(t,r,i){var n,s,o;t.version!==null&&te(t,"duplication of %YAML directive"),i.length!==1&&te(t,"YAML directive accepts exactly one argument"),n=/^([0-9]+)\.([0-9]+)$/.exec(i[0]),n===null&&te(t,"ill-formed argument of the YAML directive"),s=parseInt(n[1],10),o=parseInt(n[2],10),s!==1&&te(t,"unacceptable YAML version of the document"),t.version=i[0],t.checkLineBreaks=o<2,o!==1&&o!==2&&Qa(t,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:x(function(t,r,i){var n,s;i.length!==2&&te(t,"TAG directive accepts exactly two arguments"),n=i[0],s=i[1],I1.test(n)||te(t,"ill-formed tag handle (first argument) of the TAG directive"),Pi.call(t.tagMap,n)&&te(t,'there is a previously declared suffix for "'+n+'" tag handle'),$1.test(s)||te(t,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{te(t,"tag prefix is malformed: "+s)}t.tagMap[n]=s},"handleTagDirective")};function ei(e,t,r,i){var n,s,o,l;if(t<r){if(l=e.input.slice(t,r),i)for(n=0,s=l.length;n<s;n+=1)o=l.charCodeAt(n),o===9||32<=o&&o<=1114111||te(e,"expected valid JSON character");else qP.test(l)&&te(e,"the stream contains non-printable characters");e.result+=l}}x(ei,"captureSegment");function sp(e,t,r,i){var n,s,o,l;for(Qe.isObject(r)||te(e,"cannot merge mappings; the provided source object is unacceptable"),n=Object.keys(r),o=0,l=n.length;o<l;o+=1)s=n[o],Pi.call(t,s)||(t[s]=r[s],i[s]=!0)}x(sp,"mergeMappings");function tn(e,t,r,i,n,s,o,l,c){var u,d;if(Array.isArray(n))for(n=Array.prototype.slice.call(n),u=0,d=n.length;u<d;u+=1)Array.isArray(n[u])&&te(e,"nested arrays are not supported inside keys"),typeof n=="object"&&ip(n[u])==="[object Object]"&&(n[u]="[object Object]");if(typeof n=="object"&&ip(n)==="[object Object]"&&(n="[object Object]"),n=String(n),t===null&&(t={}),i==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(u=0,d=s.length;u<d;u+=1)sp(e,t,s[u],r);else sp(e,t,s,r);else!e.json&&!Pi.call(r,n)&&Pi.call(t,n)&&(e.line=o||e.line,e.lineStart=l||e.lineStart,e.position=c||e.position,te(e,"duplicated mapping key")),n==="__proto__"?Object.defineProperty(t,n,{configurable:!0,enumerable:!0,writable:!0,value:s}):t[n]=s,delete r[n];return t}x(tn,"storeMappingPair");function wu(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):te(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}x(wu,"readLineBreak");function Ue(e,t,r){for(var i=0,n=e.input.charCodeAt(e.position);n!==0;){for(;Ei(n);)n===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),n=e.input.charCodeAt(++e.position);if(t&&n===35)do n=e.input.charCodeAt(++e.position);while(n!==10&&n!==13&&n!==0);if(yr(n))for(wu(e),n=e.input.charCodeAt(e.position),i++,e.lineIndent=0;n===32;)e.lineIndent++,n=e.input.charCodeAt(++e.position);else break}return r!==-1&&i!==0&&e.lineIndent<r&&Qa(e,"deficient indentation"),i}x(Ue,"skipSeparationSpace");function jo(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||_t(r)))}x(jo,"testDocumentSeparator");function ku(e,t){t===1?e.result+=" ":t>1&&(e.result+=Qe.repeat(`
`,t-1))}x(ku,"writeFoldedLines");function V1(e,t,r){var i,n,s,o,l,c,u,d,h=e.kind,p=e.result,f;if(f=e.input.charCodeAt(e.position),_t(f)||en(f)||f===35||f===38||f===42||f===33||f===124||f===62||f===39||f===34||f===37||f===64||f===96||(f===63||f===45)&&(n=e.input.charCodeAt(e.position+1),_t(n)||r&&en(n)))return!1;for(e.kind="scalar",e.result="",s=o=e.position,l=!1;f!==0;){if(f===58){if(n=e.input.charCodeAt(e.position+1),_t(n)||r&&en(n))break}else if(f===35){if(i=e.input.charCodeAt(e.position-1),_t(i))break}else{if(e.position===e.lineStart&&jo(e)||r&&en(f))break;if(yr(f))if(c=e.line,u=e.lineStart,d=e.lineIndent,Ue(e,!1,-1),e.lineIndent>=t){l=!0,f=e.input.charCodeAt(e.position);continue}else{e.position=o,e.line=c,e.lineStart=u,e.lineIndent=d;break}}l&&(ei(e,s,o,!1),ku(e,e.line-c),s=o=e.position,l=!1),Ei(f)||(o=e.position+1),f=e.input.charCodeAt(++e.position)}return ei(e,s,o,!1),e.result?!0:(e.kind=h,e.result=p,!1)}x(V1,"readPlainScalar");function Y1(e,t){var r,i,n;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,i=n=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(ei(e,i,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)i=e.position,e.position++,n=e.position;else return!0;else yr(r)?(ei(e,i,n,!0),ku(e,Ue(e,!1,t)),i=n=e.position):e.position===e.lineStart&&jo(e)?te(e,"unexpected end of the document within a single quoted scalar"):(e.position++,n=e.position);te(e,"unexpected end of the stream within a single quoted scalar")}x(Y1,"readSingleQuotedScalar");function X1(e,t){var r,i,n,s,o,l;if(l=e.input.charCodeAt(e.position),l!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=i=e.position;(l=e.input.charCodeAt(e.position))!==0;){if(l===34)return ei(e,r,e.position,!0),e.position++,!0;if(l===92){if(ei(e,r,e.position,!0),l=e.input.charCodeAt(++e.position),yr(l))Ue(e,!1,t);else if(l<256&&H1[l])e.result+=W1[l],e.position++;else if((o=U1(l))>0){for(n=o,s=0;n>0;n--)l=e.input.charCodeAt(++e.position),(o=F1(l))>=0?s=(s<<4)+o:te(e,"expected hexadecimal character");e.result+=q1(s),e.position++}else te(e,"unknown escape sequence");r=i=e.position}else yr(l)?(ei(e,r,i,!0),ku(e,Ue(e,!1,t)),r=i=e.position):e.position===e.lineStart&&jo(e)?te(e,"unexpected end of the document within a double quoted scalar"):(e.position++,i=e.position)}te(e,"unexpected end of the stream within a double quoted scalar")}x(X1,"readDoubleQuotedScalar");function Q1(e,t){var r=!0,i,n,s,o=e.tag,l,c=e.anchor,u,d,h,p,f,g=Object.create(null),m,b,y,v;if(v=e.input.charCodeAt(e.position),v===91)d=93,f=!1,l=[];else if(v===123)d=125,f=!0,l={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=l),v=e.input.charCodeAt(++e.position);v!==0;){if(Ue(e,!0,t),v=e.input.charCodeAt(e.position),v===d)return e.position++,e.tag=o,e.anchor=c,e.kind=f?"mapping":"sequence",e.result=l,!0;r?v===44&&te(e,"expected the node content, but found ','"):te(e,"missed comma between flow collection entries"),b=m=y=null,h=p=!1,v===63&&(u=e.input.charCodeAt(e.position+1),_t(u)&&(h=p=!0,e.position++,Ue(e,!0,t))),i=e.line,n=e.lineStart,s=e.position,gn(e,t,Rc,!1,!0),b=e.tag,m=e.result,Ue(e,!0,t),v=e.input.charCodeAt(e.position),(p||e.line===i)&&v===58&&(h=!0,v=e.input.charCodeAt(++e.position),Ue(e,!0,t),gn(e,t,Rc,!1,!0),y=e.result),f?tn(e,l,g,b,m,y,i,n,s):h?l.push(tn(e,null,g,b,m,y,i,n,s)):l.push(m),Ue(e,!0,t),v=e.input.charCodeAt(e.position),v===44?(r=!0,v=e.input.charCodeAt(++e.position)):r=!1}te(e,"unexpected end of the stream within a flow collection")}x(Q1,"readFlowCollection");function K1(e,t){var r,i,n=Ld,s=!1,o=!1,l=t,c=0,u=!1,d,h;if(h=e.input.charCodeAt(e.position),h===124)i=!1;else if(h===62)i=!0;else return!1;for(e.kind="scalar",e.result="";h!==0;)if(h=e.input.charCodeAt(++e.position),h===43||h===45)Ld===n?n=h===43?n0:zP:te(e,"repeat of a chomping mode identifier");else if((d=z1(h))>=0)d===0?te(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?te(e,"repeat of an indentation width identifier"):(l=t+d-1,o=!0);else break;if(Ei(h)){do h=e.input.charCodeAt(++e.position);while(Ei(h));if(h===35)do h=e.input.charCodeAt(++e.position);while(!yr(h)&&h!==0)}for(;h!==0;){for(wu(e),e.lineIndent=0,h=e.input.charCodeAt(e.position);(!o||e.lineIndent<l)&&h===32;)e.lineIndent++,h=e.input.charCodeAt(++e.position);if(!o&&e.lineIndent>l&&(l=e.lineIndent),yr(h)){c++;continue}if(e.lineIndent<l){n===n0?e.result+=Qe.repeat(`
`,s?1+c:c):n===Ld&&s&&(e.result+=`
`);break}for(i?Ei(h)?(u=!0,e.result+=Qe.repeat(`
`,s?1+c:c)):u?(u=!1,e.result+=Qe.repeat(`
`,c+1)):c===0?s&&(e.result+=" "):e.result+=Qe.repeat(`
`,c):e.result+=Qe.repeat(`
`,s?1+c:c),s=!0,o=!0,c=0,r=e.position;!yr(h)&&h!==0;)h=e.input.charCodeAt(++e.position);ei(e,r,e.position,!1)}return!0}x(K1,"readBlockScalar");function ap(e,t){var r,i=e.tag,n=e.anchor,s=[],o,l=!1,c;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),c=e.input.charCodeAt(e.position);c!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,te(e,"tab characters must not be used in indentation")),!(c!==45||(o=e.input.charCodeAt(e.position+1),!_t(o))));){if(l=!0,e.position++,Ue(e,!0,-1)&&e.lineIndent<=t){s.push(null),c=e.input.charCodeAt(e.position);continue}if(r=e.line,gn(e,t,O1,!1,!0),s.push(e.result),Ue(e,!0,-1),c=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&c!==0)te(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return l?(e.tag=i,e.anchor=n,e.kind="sequence",e.result=s,!0):!1}x(ap,"readBlockSequence");function J1(e,t,r){var i,n,s,o,l,c,u=e.tag,d=e.anchor,h={},p=Object.create(null),f=null,g=null,m=null,b=!1,y=!1,v;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=h),v=e.input.charCodeAt(e.position);v!==0;){if(!b&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,te(e,"tab characters must not be used in indentation")),i=e.input.charCodeAt(e.position+1),s=e.line,(v===63||v===58)&&_t(i))v===63?(b&&(tn(e,h,p,f,g,null,o,l,c),f=g=m=null),y=!0,b=!0,n=!0):b?(b=!1,n=!0):te(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,v=i;else{if(o=e.line,l=e.lineStart,c=e.position,!gn(e,r,D1,!1,!0))break;if(e.line===s){for(v=e.input.charCodeAt(e.position);Ei(v);)v=e.input.charCodeAt(++e.position);if(v===58)v=e.input.charCodeAt(++e.position),_t(v)||te(e,"a whitespace character is expected after the key-value separator within a block mapping"),b&&(tn(e,h,p,f,g,null,o,l,c),f=g=m=null),y=!0,b=!1,n=!1,f=e.tag,g=e.result;else if(y)te(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=u,e.anchor=d,!0}else if(y)te(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=u,e.anchor=d,!0}if((e.line===s||e.lineIndent>t)&&(b&&(o=e.line,l=e.lineStart,c=e.position),gn(e,t,Lc,!0,n)&&(b?g=e.result:m=e.result),b||(tn(e,h,p,f,g,m,o,l,c),f=g=m=null),Ue(e,!0,-1),v=e.input.charCodeAt(e.position)),(e.line===s||e.lineIndent>t)&&v!==0)te(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return b&&tn(e,h,p,f,g,null,o,l,c),y&&(e.tag=u,e.anchor=d,e.kind="mapping",e.result=h),y}x(J1,"readBlockMapping");function Z1(e){var t,r=!1,i=!1,n,s,o;if(o=e.input.charCodeAt(e.position),o!==33)return!1;if(e.tag!==null&&te(e,"duplication of a tag property"),o=e.input.charCodeAt(++e.position),o===60?(r=!0,o=e.input.charCodeAt(++e.position)):o===33?(i=!0,n="!!",o=e.input.charCodeAt(++e.position)):n="!",t=e.position,r){do o=e.input.charCodeAt(++e.position);while(o!==0&&o!==62);e.position<e.length?(s=e.input.slice(t,e.position),o=e.input.charCodeAt(++e.position)):te(e,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!_t(o);)o===33&&(i?te(e,"tag suffix cannot contain exclamation marks"):(n=e.input.slice(t-1,e.position+1),I1.test(n)||te(e,"named tag handle cannot contain such characters"),i=!0,t=e.position+1)),o=e.input.charCodeAt(++e.position);s=e.input.slice(t,e.position),WP.test(s)&&te(e,"tag suffix cannot contain flow indicator characters")}s&&!$1.test(s)&&te(e,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{te(e,"tag name is malformed: "+s)}return r?e.tag=s:Pi.call(e.tagMap,n)?e.tag=e.tagMap[n]+s:n==="!"?e.tag="!"+s:n==="!!"?e.tag="tag:yaml.org,2002:"+s:te(e,'undeclared tag handle "'+n+'"'),!0}x(Z1,"readTagProperty");function eC(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&te(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!_t(r)&&!en(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&te(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}x(eC,"readAnchorProperty");function tC(e){var t,r,i;if(i=e.input.charCodeAt(e.position),i!==42)return!1;for(i=e.input.charCodeAt(++e.position),t=e.position;i!==0&&!_t(i)&&!en(i);)i=e.input.charCodeAt(++e.position);return e.position===t&&te(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),Pi.call(e.anchorMap,r)||te(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],Ue(e,!0,-1),!0}x(tC,"readAlias");function gn(e,t,r,i,n){var s,o,l,c=1,u=!1,d=!1,h,p,f,g,m,b;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,s=o=l=Lc===r||O1===r,i&&Ue(e,!0,-1)&&(u=!0,e.lineIndent>t?c=1:e.lineIndent===t?c=0:e.lineIndent<t&&(c=-1)),c===1)for(;Z1(e)||eC(e);)Ue(e,!0,-1)?(u=!0,l=s,e.lineIndent>t?c=1:e.lineIndent===t?c=0:e.lineIndent<t&&(c=-1)):l=!1;if(l&&(l=u||n),(c===1||Lc===r)&&(Rc===r||D1===r?m=t:m=t+1,b=e.position-e.lineStart,c===1?l&&(ap(e,b)||J1(e,b,m))||Q1(e,m)?d=!0:(o&&K1(e,m)||Y1(e,m)||X1(e,m)?d=!0:tC(e)?(d=!0,(e.tag!==null||e.anchor!==null)&&te(e,"alias node should not have any properties")):V1(e,m,Rc===r)&&(d=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):c===0&&(d=l&&ap(e,b))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&te(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),h=0,p=e.implicitTypes.length;h<p;h+=1)if(g=e.implicitTypes[h],g.resolve(e.result)){e.result=g.construct(e.result),e.tag=g.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(Pi.call(e.typeMap[e.kind||"fallback"],e.tag))g=e.typeMap[e.kind||"fallback"][e.tag];else for(g=null,f=e.typeMap.multi[e.kind||"fallback"],h=0,p=f.length;h<p;h+=1)if(e.tag.slice(0,f[h].tag.length)===f[h].tag){g=f[h];break}g||te(e,"unknown tag !<"+e.tag+">"),e.result!==null&&g.kind!==e.kind&&te(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+g.kind+'", not "'+e.kind+'"'),g.resolve(e.result,e.tag)?(e.result=g.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):te(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||d}x(gn,"composeNode");function rC(e){var t=e.position,r,i,n,s=!1,o;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(o=e.input.charCodeAt(e.position))!==0&&(Ue(e,!0,-1),o=e.input.charCodeAt(e.position),!(e.lineIndent>0||o!==37));){for(s=!0,o=e.input.charCodeAt(++e.position),r=e.position;o!==0&&!_t(o);)o=e.input.charCodeAt(++e.position);for(i=e.input.slice(r,e.position),n=[],i.length<1&&te(e,"directive name must not be less than one character in length");o!==0;){for(;Ei(o);)o=e.input.charCodeAt(++e.position);if(o===35){do o=e.input.charCodeAt(++e.position);while(o!==0&&!yr(o));break}if(yr(o))break;for(r=e.position;o!==0&&!_t(o);)o=e.input.charCodeAt(++e.position);n.push(e.input.slice(r,e.position))}o!==0&&wu(e),Pi.call(s0,i)?s0[i](e,i,n):Qa(e,'unknown document directive "'+i+'"')}if(Ue(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,Ue(e,!0,-1)):s&&te(e,"directives end mark is expected"),gn(e,e.lineIndent-1,Lc,!1,!0),Ue(e,!0,-1),e.checkLineBreaks&&HP.test(e.input.slice(t,e.position))&&Qa(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&jo(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,Ue(e,!0,-1));return}if(e.position<e.length-1)te(e,"end of the stream or a document separator is expected");else return}x(rC,"readDocument");function sg(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new G1(e,t),i=e.indexOf("\0");for(i!==-1&&(r.position=i,te(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)rC(r);return r.documents}x(sg,"loadDocuments");function iC(e,t,r){t!==null&&typeof t=="object"&&typeof r>"u"&&(r=t,t=null);var i=sg(e,r);if(typeof t!="function")return i;for(var n=0,s=i.length;n<s;n+=1)t(i[n])}x(iC,"loadAll$1");function nC(e,t){var r=sg(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new Ot("expected a single document in the stream, but found more")}}x(nC,"load$1");var GP=iC,VP=nC,YP={loadAll:GP,load:VP},sC=Object.prototype.toString,aC=Object.prototype.hasOwnProperty,ag=65279,XP=9,Ka=10,QP=13,KP=32,JP=33,ZP=34,op=35,eM=37,tM=38,rM=39,iM=42,oC=44,nM=45,Pc=58,sM=61,aM=62,oM=63,lM=64,lC=91,cC=93,cM=96,uC=123,uM=124,dC=125,St={};St[0]="\\0";St[7]="\\a";St[8]="\\b";St[9]="\\t";St[10]="\\n";St[11]="\\v";St[12]="\\f";St[13]="\\r";St[27]="\\e";St[34]='\\"';St[92]="\\\\";St[133]="\\N";St[160]="\\_";St[8232]="\\L";St[8233]="\\P";var dM=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],hM=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function hC(e,t){var r,i,n,s,o,l,c;if(t===null)return{};for(r={},i=Object.keys(t),n=0,s=i.length;n<s;n+=1)o=i[n],l=String(t[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),c=e.compiledTypeMap.fallback[o],c&&aC.call(c.styleAliases,l)&&(l=c.styleAliases[l]),r[o]=l;return r}x(hC,"compileStyleMap");function pC(e){var t,r,i;if(t=e.toString(16).toUpperCase(),e<=255)r="x",i=2;else if(e<=65535)r="u",i=4;else if(e<=4294967295)r="U",i=8;else throw new Ot("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+Qe.repeat("0",i-t.length)+t}x(pC,"encodeHex");var pM=1,Ja=2;function fC(e){this.schema=e.schema||B1,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=Qe.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=hC(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?Ja:pM,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}x(fC,"State");function lp(e,t){for(var r=Qe.repeat(" ",t),i=0,n=-1,s="",o,l=e.length;i<l;)n=e.indexOf(`
`,i),n===-1?(o=e.slice(i),i=l):(o=e.slice(i,n+1),i=n+1),o.length&&o!==`
`&&(s+=r),s+=o;return s}x(lp,"indentString");function Mc(e,t){return`
`+Qe.repeat(" ",e.indent*t)}x(Mc,"generateNextLine");function gC(e,t){var r,i,n;for(r=0,i=e.implicitTypes.length;r<i;r+=1)if(n=e.implicitTypes[r],n.resolve(t))return!0;return!1}x(gC,"testImplicitResolving");function Za(e){return e===KP||e===XP}x(Za,"isWhitespace");function vs(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==ag||65536<=e&&e<=1114111}x(vs,"isPrintable");function cp(e){return vs(e)&&e!==ag&&e!==QP&&e!==Ka}x(cp,"isNsCharOrWhitespace");function up(e,t,r){var i=cp(e),n=i&&!Za(e);return(r?i:i&&e!==oC&&e!==lC&&e!==cC&&e!==uC&&e!==dC)&&e!==op&&!(t===Pc&&!n)||cp(t)&&!Za(t)&&e===op||t===Pc&&n}x(up,"isPlainSafe");function mC(e){return vs(e)&&e!==ag&&!Za(e)&&e!==nM&&e!==oM&&e!==Pc&&e!==oC&&e!==lC&&e!==cC&&e!==uC&&e!==dC&&e!==op&&e!==tM&&e!==iM&&e!==JP&&e!==uM&&e!==sM&&e!==aM&&e!==rM&&e!==ZP&&e!==eM&&e!==lM&&e!==cM}x(mC,"isPlainSafeFirst");function xC(e){return!Za(e)&&e!==Pc}x(xC,"isPlainSafeLast");function Kn(e,t){var r=e.charCodeAt(t),i;return r>=55296&&r<=56319&&t+1<e.length&&(i=e.charCodeAt(t+1),i>=56320&&i<=57343)?(r-55296)*1024+i-56320+65536:r}x(Kn,"codePointAt");function og(e){var t=/^\n* /;return t.test(e)}x(og,"needIndentIndicator");var yC=1,dp=2,vC=3,bC=4,On=5;function SC(e,t,r,i,n,s,o,l){var c,u=0,d=null,h=!1,p=!1,f=i!==-1,g=-1,m=mC(Kn(e,0))&&xC(Kn(e,e.length-1));if(t||o)for(c=0;c<e.length;u>=65536?c+=2:c++){if(u=Kn(e,c),!vs(u))return On;m=m&&up(u,d,l),d=u}else{for(c=0;c<e.length;u>=65536?c+=2:c++){if(u=Kn(e,c),u===Ka)h=!0,f&&(p=p||c-g-1>i&&e[g+1]!==" ",g=c);else if(!vs(u))return On;m=m&&up(u,d,l),d=u}p=p||f&&c-g-1>i&&e[g+1]!==" "}return!h&&!p?m&&!o&&!n(e)?yC:s===Ja?On:dp:r>9&&og(e)?On:o?s===Ja?On:dp:p?bC:vC}x(SC,"chooseScalarStyle");function CC(e,t,r,i,n){e.dump=function(){if(t.length===0)return e.quotingType===Ja?'""':"''";if(!e.noCompatMode&&(dM.indexOf(t)!==-1||hM.test(t)))return e.quotingType===Ja?'"'+t+'"':"'"+t+"'";var s=e.indent*Math.max(1,r),o=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-s),l=i||e.flowLevel>-1&&r>=e.flowLevel;function c(u){return gC(e,u)}switch(x(c,"testAmbiguity"),SC(t,l,e.indent,o,c,e.quotingType,e.forceQuotes&&!i,n)){case yC:return t;case dp:return"'"+t.replace(/'/g,"''")+"'";case vC:return"|"+hp(t,e.indent)+pp(lp(t,s));case bC:return">"+hp(t,e.indent)+pp(lp(wC(t,o),s));case On:return'"'+kC(t)+'"';default:throw new Ot("impossible error: invalid scalar style")}}()}x(CC,"writeScalar");function hp(e,t){var r=og(e)?String(t):"",i=e[e.length-1]===`
`,n=i&&(e[e.length-2]===`
`||e===`
`),s=n?"+":i?"":"-";return r+s+`
`}x(hp,"blockHeader");function pp(e){return e[e.length-1]===`
`?e.slice(0,-1):e}x(pp,"dropEndingNewline");function wC(e,t){for(var r=/(\n+)([^\n]*)/g,i=function(){var u=e.indexOf(`
`);return u=u!==-1?u:e.length,r.lastIndex=u,fp(e.slice(0,u),t)}(),n=e[0]===`
`||e[0]===" ",s,o;o=r.exec(e);){var l=o[1],c=o[2];s=c[0]===" ",i+=l+(!n&&!s&&c!==""?`
`:"")+fp(c,t),n=s}return i}x(wC,"foldString");function fp(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,i,n=0,s,o=0,l=0,c="";i=r.exec(e);)l=i.index,l-n>t&&(s=o>n?o:l,c+=`
`+e.slice(n,s),n=s+1),o=l;return c+=`
`,e.length-n>t&&o>n?c+=e.slice(n,o)+`
`+e.slice(o+1):c+=e.slice(n),c.slice(1)}x(fp,"foldLine");function kC(e){for(var t="",r=0,i,n=0;n<e.length;r>=65536?n+=2:n++)r=Kn(e,n),i=St[r],!i&&vs(r)?(t+=e[n],r>=65536&&(t+=e[n+1])):t+=i||pC(r);return t}x(kC,"escapeString");function jC(e,t,r){var i="",n=e.tag,s,o,l;for(s=0,o=r.length;s<o;s+=1)l=r[s],e.replacer&&(l=e.replacer.call(r,String(s),l)),(Br(e,t,l,!1,!1)||typeof l>"u"&&Br(e,t,null,!1,!1))&&(i!==""&&(i+=","+(e.condenseFlow?"":" ")),i+=e.dump);e.tag=n,e.dump="["+i+"]"}x(jC,"writeFlowSequence");function gp(e,t,r,i){var n="",s=e.tag,o,l,c;for(o=0,l=r.length;o<l;o+=1)c=r[o],e.replacer&&(c=e.replacer.call(r,String(o),c)),(Br(e,t+1,c,!0,!0,!1,!0)||typeof c>"u"&&Br(e,t+1,null,!0,!0,!1,!0))&&((!i||n!=="")&&(n+=Mc(e,t)),e.dump&&Ka===e.dump.charCodeAt(0)?n+="-":n+="- ",n+=e.dump);e.tag=s,e.dump=n||"[]"}x(gp,"writeBlockSequence");function _C(e,t,r){var i="",n=e.tag,s=Object.keys(r),o,l,c,u,d;for(o=0,l=s.length;o<l;o+=1)d="",i!==""&&(d+=", "),e.condenseFlow&&(d+='"'),c=s[o],u=r[c],e.replacer&&(u=e.replacer.call(r,c,u)),Br(e,t,c,!1,!1)&&(e.dump.length>1024&&(d+="? "),d+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),Br(e,t,u,!1,!1)&&(d+=e.dump,i+=d));e.tag=n,e.dump="{"+i+"}"}x(_C,"writeFlowMapping");function NC(e,t,r,i){var n="",s=e.tag,o=Object.keys(r),l,c,u,d,h,p;if(e.sortKeys===!0)o.sort();else if(typeof e.sortKeys=="function")o.sort(e.sortKeys);else if(e.sortKeys)throw new Ot("sortKeys must be a boolean or a function");for(l=0,c=o.length;l<c;l+=1)p="",(!i||n!=="")&&(p+=Mc(e,t)),u=o[l],d=r[u],e.replacer&&(d=e.replacer.call(r,u,d)),Br(e,t+1,u,!0,!0,!0)&&(h=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,h&&(e.dump&&Ka===e.dump.charCodeAt(0)?p+="?":p+="? "),p+=e.dump,h&&(p+=Mc(e,t)),Br(e,t+1,d,!0,h)&&(e.dump&&Ka===e.dump.charCodeAt(0)?p+=":":p+=": ",p+=e.dump,n+=p));e.tag=s,e.dump=n||"{}"}x(NC,"writeBlockMapping");function mp(e,t,r){var i,n,s,o,l,c;for(n=r?e.explicitTypes:e.implicitTypes,s=0,o=n.length;s<o;s+=1)if(l=n[s],(l.instanceOf||l.predicate)&&(!l.instanceOf||typeof t=="object"&&t instanceof l.instanceOf)&&(!l.predicate||l.predicate(t))){if(r?l.multi&&l.representName?e.tag=l.representName(t):e.tag=l.tag:e.tag="?",l.represent){if(c=e.styleMap[l.tag]||l.defaultStyle,sC.call(l.represent)==="[object Function]")i=l.represent(t,c);else if(aC.call(l.represent,c))i=l.represent[c](t,c);else throw new Ot("!<"+l.tag+'> tag resolver accepts not "'+c+'" style');e.dump=i}return!0}return!1}x(mp,"detectType");function Br(e,t,r,i,n,s,o){e.tag=null,e.dump=r,mp(e,r,!1)||mp(e,r,!0);var l=sC.call(e.dump),c=i,u;i&&(i=e.flowLevel<0||e.flowLevel>t);var d=l==="[object Object]"||l==="[object Array]",h,p;if(d&&(h=e.duplicates.indexOf(r),p=h!==-1),(e.tag!==null&&e.tag!=="?"||p||e.indent!==2&&t>0)&&(n=!1),p&&e.usedDuplicates[h])e.dump="*ref_"+h;else{if(d&&p&&!e.usedDuplicates[h]&&(e.usedDuplicates[h]=!0),l==="[object Object]")i&&Object.keys(e.dump).length!==0?(NC(e,t,e.dump,n),p&&(e.dump="&ref_"+h+e.dump)):(_C(e,t,e.dump),p&&(e.dump="&ref_"+h+" "+e.dump));else if(l==="[object Array]")i&&e.dump.length!==0?(e.noArrayIndent&&!o&&t>0?gp(e,t-1,e.dump,n):gp(e,t,e.dump,n),p&&(e.dump="&ref_"+h+e.dump)):(jC(e,t,e.dump),p&&(e.dump="&ref_"+h+" "+e.dump));else if(l==="[object String]")e.tag!=="?"&&CC(e,e.dump,t,s,c);else{if(l==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new Ot("unacceptable kind of an object to dump "+l)}e.tag!==null&&e.tag!=="?"&&(u=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?u="!"+u:u.slice(0,18)==="tag:yaml.org,2002:"?u="!!"+u.slice(18):u="!<"+u+">",e.dump=u+" "+e.dump)}return!0}x(Br,"writeNode");function TC(e,t){var r=[],i=[],n,s;for(Bc(e,r,i),n=0,s=i.length;n<s;n+=1)t.duplicates.push(r[i[n]]);t.usedDuplicates=new Array(s)}x(TC,"getDuplicateReferences");function Bc(e,t,r){var i,n,s;if(e!==null&&typeof e=="object")if(n=t.indexOf(e),n!==-1)r.indexOf(n)===-1&&r.push(n);else if(t.push(e),Array.isArray(e))for(n=0,s=e.length;n<s;n+=1)Bc(e[n],t,r);else for(i=Object.keys(e),n=0,s=i.length;n<s;n+=1)Bc(e[i[n]],t,r)}x(Bc,"inspectNode");function fM(e,t){t=t||{};var r=new fC(t);r.noRefs||TC(e,r);var i=e;return r.replacer&&(i=r.replacer.call({"":i},"",i)),Br(r,0,i,!0,!0)?r.dump+`
`:""}x(fM,"dump$1");function gM(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}x(gM,"renamed");var mM=y1,xM=YP.load;/*! Bundled license information:

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)
*/var gt={aggregation:17.25,extension:17.25,composition:17.25,dependency:6,lollipop:13.5,arrow_point:4},a0={arrow_point:9,arrow_cross:12.5,arrow_circle:12.5};function oa(e,t){if(e===void 0||t===void 0)return{angle:0,deltaX:0,deltaY:0};e=Le(e),t=Le(t);const[r,i]=[e.x,e.y],[n,s]=[t.x,t.y],o=n-r,l=s-i;return{angle:Math.atan(l/o),deltaX:o,deltaY:l}}x(oa,"calculateDeltaAndAngle");var Le=x(e=>Array.isArray(e)?{x:e[0],y:e[1]}:e,"pointTransformer"),yM=x(e=>({x:x(function(t,r,i){let n=0;const s=Le(i[0]).x<Le(i[i.length-1]).x?"left":"right";if(r===0&&Object.hasOwn(gt,e.arrowTypeStart)){const{angle:f,deltaX:g}=oa(i[0],i[1]);n=gt[e.arrowTypeStart]*Math.cos(f)*(g>=0?1:-1)}else if(r===i.length-1&&Object.hasOwn(gt,e.arrowTypeEnd)){const{angle:f,deltaX:g}=oa(i[i.length-1],i[i.length-2]);n=gt[e.arrowTypeEnd]*Math.cos(f)*(g>=0?1:-1)}const o=Math.abs(Le(t).x-Le(i[i.length-1]).x),l=Math.abs(Le(t).y-Le(i[i.length-1]).y),c=Math.abs(Le(t).x-Le(i[0]).x),u=Math.abs(Le(t).y-Le(i[0]).y),d=gt[e.arrowTypeStart],h=gt[e.arrowTypeEnd],p=1;if(o<h&&o>0&&l<h){let f=h+p-o;f*=s==="right"?-1:1,n-=f}if(c<d&&c>0&&u<d){let f=d+p-c;f*=s==="right"?-1:1,n+=f}return Le(t).x+n},"x"),y:x(function(t,r,i){let n=0;const s=Le(i[0]).y<Le(i[i.length-1]).y?"down":"up";if(r===0&&Object.hasOwn(gt,e.arrowTypeStart)){const{angle:f,deltaY:g}=oa(i[0],i[1]);n=gt[e.arrowTypeStart]*Math.abs(Math.sin(f))*(g>=0?1:-1)}else if(r===i.length-1&&Object.hasOwn(gt,e.arrowTypeEnd)){const{angle:f,deltaY:g}=oa(i[i.length-1],i[i.length-2]);n=gt[e.arrowTypeEnd]*Math.abs(Math.sin(f))*(g>=0?1:-1)}const o=Math.abs(Le(t).y-Le(i[i.length-1]).y),l=Math.abs(Le(t).x-Le(i[i.length-1]).x),c=Math.abs(Le(t).y-Le(i[0]).y),u=Math.abs(Le(t).x-Le(i[0]).x),d=gt[e.arrowTypeStart],h=gt[e.arrowTypeEnd],p=1;if(o<h&&o>0&&l<h){let f=h+p-o;f*=s==="up"?-1:1,n-=f}if(c<d&&c>0&&u<d){let f=d+p-c;f*=s==="up"?-1:1,n+=f}return Le(t).y+n},"y")}),"getLineFunctionsWithOffset"),lg=x(({flowchart:e})=>{var n,s;const t=((n=e==null?void 0:e.subGraphTitleMargin)==null?void 0:n.top)??0,r=((s=e==null?void 0:e.subGraphTitleMargin)==null?void 0:s.bottom)??0,i=t+r;return{subGraphTitleTopMargin:t,subGraphTitleBottomMargin:r,subGraphTitleTotalMargin:i}},"getSubGraphTitleMargins"),vM=x(e=>{const{handDrawnSeed:t}=ve();return{fill:e,hachureAngle:120,hachureGap:4,fillWeight:2,roughness:.7,stroke:e,seed:t}},"solidStateFill"),Ts=x(e=>{const t=bM([...e.cssCompiledStyles||[],...e.cssStyles||[],...e.labelStyle||[]]);return{stylesMap:t,stylesArray:[...t]}},"compileStyles"),bM=x(e=>{const t=new Map;return e.forEach(r=>{const[i,n]=r.split(":");t.set(i.trim(),n==null?void 0:n.trim())}),t},"styles2Map"),EC=x(e=>e==="color"||e==="font-size"||e==="font-family"||e==="font-weight"||e==="font-style"||e==="text-decoration"||e==="text-align"||e==="text-transform"||e==="line-height"||e==="letter-spacing"||e==="word-spacing"||e==="text-shadow"||e==="text-overflow"||e==="white-space"||e==="word-wrap"||e==="word-break"||e==="overflow-wrap"||e==="hyphens","isLabelStyle"),J=x(e=>{const{stylesArray:t}=Ts(e),r=[],i=[],n=[],s=[];return t.forEach(o=>{const l=o[0];EC(l)?r.push(o.join(":")+" !important"):(i.push(o.join(":")+" !important"),l.includes("stroke")&&n.push(o.join(":")+" !important"),l==="fill"&&s.push(o.join(":")+" !important"))}),{labelStyles:r.join(";"),nodeStyles:i.join(";"),stylesArray:t,borderStyles:n,backgroundStyles:s}},"styles2String"),K=x((e,t)=>{var c;const{themeVariables:r,handDrawnSeed:i}=ve(),{nodeBorder:n,mainBkg:s}=r,{stylesMap:o}=Ts(e);return Object.assign({roughness:.7,fill:o.get("fill")||s,fillStyle:"hachure",fillWeight:4,hachureGap:5.2,stroke:o.get("stroke")||n,seed:i,strokeWidth:((c=o.get("stroke-width"))==null?void 0:c.replace("px",""))||1.3,fillLineDash:[0,0],strokeLineDash:SM(o.get("stroke-dasharray"))},t)},"userNodeOverrides"),SM=x(e=>{if(!e)return[0,0];const t=e.trim().split(/\s+/).map(Number);if(t.length===1){const n=isNaN(t[0])?0:t[0];return[n,n]}const r=isNaN(t[0])?0:t[0],i=isNaN(t[1])?0:t[1];return[r,i]},"getStrokeDashArray"),cg={},tt={};Object.defineProperty(tt,"__esModule",{value:!0});tt.BLANK_URL=tt.relativeFirstCharacters=tt.whitespaceEscapeCharsRegex=tt.urlSchemeRegex=tt.ctrlCharactersRegex=tt.htmlCtrlEntityRegex=tt.htmlEntitiesRegex=tt.invalidProtocolRegex=void 0;tt.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im;tt.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g;tt.htmlCtrlEntityRegex=/&(newline|tab);/gi;tt.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim;tt.urlSchemeRegex=/^.+(:|&colon;)/gim;tt.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g;tt.relativeFirstCharacters=[".","/"];tt.BLANK_URL="about:blank";Object.defineProperty(cg,"__esModule",{value:!0});var AC=cg.sanitizeUrl=void 0,ft=tt;function CM(e){return ft.relativeFirstCharacters.indexOf(e[0])>-1}function wM(e){var t=e.replace(ft.ctrlCharactersRegex,"");return t.replace(ft.htmlEntitiesRegex,function(r,i){return String.fromCharCode(i)})}function kM(e){return URL.canParse(e)}function o0(e){try{return decodeURIComponent(e)}catch{return e}}function jM(e){if(!e)return ft.BLANK_URL;var t,r=o0(e.trim());do r=wM(r).replace(ft.htmlCtrlEntityRegex,"").replace(ft.ctrlCharactersRegex,"").replace(ft.whitespaceEscapeCharsRegex,"").trim(),r=o0(r),t=r.match(ft.ctrlCharactersRegex)||r.match(ft.htmlEntitiesRegex)||r.match(ft.htmlCtrlEntityRegex)||r.match(ft.whitespaceEscapeCharsRegex);while(t&&t.length>0);var i=r;if(!i)return ft.BLANK_URL;if(CM(i))return i;var n=i.trimStart(),s=n.match(ft.urlSchemeRegex);if(!s)return i;var o=s[0].toLowerCase().trim();if(ft.invalidProtocolRegex.test(o))return ft.BLANK_URL;var l=n.replace(/\\/g,"/");if(o==="mailto:"||o.includes("://"))return l;if(o==="http:"||o==="https:"){if(!kM(l))return ft.BLANK_URL;var c=new URL(l);return c.protocol=c.protocol.toLowerCase(),c.hostname=c.hostname.toLowerCase(),c.toString()}return l}AC=cg.sanitizeUrl=jM;var _M=typeof global=="object"&&global&&global.Object===Object&&global;const RC=_M;var NM=typeof self=="object"&&self&&self.Object===Object&&self,TM=RC||NM||Function("return this")();const Or=TM;var EM=Or.Symbol;const Dc=EM;var LC=Object.prototype,AM=LC.hasOwnProperty,RM=LC.toString,Xs=Dc?Dc.toStringTag:void 0;function LM(e){var t=AM.call(e,Xs),r=e[Xs];try{e[Xs]=void 0;var i=!0}catch{}var n=RM.call(e);return i&&(t?e[Xs]=r:delete e[Xs]),n}var PM=Object.prototype,MM=PM.toString;function BM(e){return MM.call(e)}var DM="[object Null]",OM="[object Undefined]",l0=Dc?Dc.toStringTag:void 0;function Es(e){return e==null?e===void 0?OM:DM:l0&&l0 in Object(e)?LM(e):BM(e)}function wn(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var IM="[object AsyncFunction]",$M="[object Function]",FM="[object GeneratorFunction]",UM="[object Proxy]";function ug(e){if(!wn(e))return!1;var t=Es(e);return t==$M||t==FM||t==IM||t==UM}var zM=Or["__core-js_shared__"];const Pd=zM;var c0=function(){var e=/[^.]+$/.exec(Pd&&Pd.keys&&Pd.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function qM(e){return!!c0&&c0 in e}var HM=Function.prototype,WM=HM.toString;function kn(e){if(e!=null){try{return WM.call(e)}catch{}try{return e+""}catch{}}return""}var GM=/[\\^$.*+?()[\]{}|]/g,VM=/^\[object .+?Constructor\]$/,YM=Function.prototype,XM=Object.prototype,QM=YM.toString,KM=XM.hasOwnProperty,JM=RegExp("^"+QM.call(KM).replace(GM,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ZM(e){if(!wn(e)||qM(e))return!1;var t=ug(e)?JM:VM;return t.test(kn(e))}function eB(e,t){return e==null?void 0:e[t]}function jn(e,t){var r=eB(e,t);return ZM(r)?r:void 0}var tB=jn(Object,"create");const eo=tB;function rB(){this.__data__=eo?eo(null):{},this.size=0}function iB(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var nB="__lodash_hash_undefined__",sB=Object.prototype,aB=sB.hasOwnProperty;function oB(e){var t=this.__data__;if(eo){var r=t[e];return r===nB?void 0:r}return aB.call(t,e)?t[e]:void 0}var lB=Object.prototype,cB=lB.hasOwnProperty;function uB(e){var t=this.__data__;return eo?t[e]!==void 0:cB.call(t,e)}var dB="__lodash_hash_undefined__";function hB(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=eo&&t===void 0?dB:t,this}function mn(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}mn.prototype.clear=rB;mn.prototype.delete=iB;mn.prototype.get=oB;mn.prototype.has=uB;mn.prototype.set=hB;function pB(){this.__data__=[],this.size=0}function ju(e,t){return e===t||e!==e&&t!==t}function _u(e,t){for(var r=e.length;r--;)if(ju(e[r][0],t))return r;return-1}var fB=Array.prototype,gB=fB.splice;function mB(e){var t=this.__data__,r=_u(t,e);if(r<0)return!1;var i=t.length-1;return r==i?t.pop():gB.call(t,r,1),--this.size,!0}function xB(e){var t=this.__data__,r=_u(t,e);return r<0?void 0:t[r][1]}function yB(e){return _u(this.__data__,e)>-1}function vB(e,t){var r=this.__data__,i=_u(r,e);return i<0?(++this.size,r.push([e,t])):r[i][1]=t,this}function li(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}li.prototype.clear=pB;li.prototype.delete=mB;li.prototype.get=xB;li.prototype.has=yB;li.prototype.set=vB;var bB=jn(Or,"Map");const to=bB;function SB(){this.size=0,this.__data__={hash:new mn,map:new(to||li),string:new mn}}function CB(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Nu(e,t){var r=e.__data__;return CB(t)?r[typeof t=="string"?"string":"hash"]:r.map}function wB(e){var t=Nu(this,e).delete(e);return this.size-=t?1:0,t}function kB(e){return Nu(this,e).get(e)}function jB(e){return Nu(this,e).has(e)}function _B(e,t){var r=Nu(this,e),i=r.size;return r.set(e,t),this.size+=r.size==i?0:1,this}function $i(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}$i.prototype.clear=SB;$i.prototype.delete=wB;$i.prototype.get=kB;$i.prototype.has=jB;$i.prototype.set=_B;var NB="Expected a function";function _o(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(NB);var r=function(){var i=arguments,n=t?t.apply(this,i):i[0],s=r.cache;if(s.has(n))return s.get(n);var o=e.apply(this,i);return r.cache=s.set(n,o)||s,o};return r.cache=new(_o.Cache||$i),r}_o.Cache=$i;function TB(){this.__data__=new li,this.size=0}function EB(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function AB(e){return this.__data__.get(e)}function RB(e){return this.__data__.has(e)}var LB=200;function PB(e,t){var r=this.__data__;if(r instanceof li){var i=r.__data__;if(!to||i.length<LB-1)return i.push([e,t]),this.size=++r.size,this;r=this.__data__=new $i(i)}return r.set(e,t),this.size=r.size,this}function As(e){var t=this.__data__=new li(e);this.size=t.size}As.prototype.clear=TB;As.prototype.delete=EB;As.prototype.get=AB;As.prototype.has=RB;As.prototype.set=PB;var MB=function(){try{var e=jn(Object,"defineProperty");return e({},"",{}),e}catch{}}();const Oc=MB;function dg(e,t,r){t=="__proto__"&&Oc?Oc(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function xp(e,t,r){(r!==void 0&&!ju(e[t],r)||r===void 0&&!(t in e))&&dg(e,t,r)}function BB(e){return function(t,r,i){for(var n=-1,s=Object(t),o=i(t),l=o.length;l--;){var c=o[e?l:++n];if(r(s[c],c,s)===!1)break}return t}}var DB=BB();const OB=DB;var PC=typeof exports=="object"&&exports&&!exports.nodeType&&exports,u0=PC&&typeof module=="object"&&module&&!module.nodeType&&module,IB=u0&&u0.exports===PC,d0=IB?Or.Buffer:void 0,h0=d0?d0.allocUnsafe:void 0;function $B(e,t){if(t)return e.slice();var r=e.length,i=h0?h0(r):new e.constructor(r);return e.copy(i),i}var FB=Or.Uint8Array;const p0=FB;function UB(e){var t=new e.constructor(e.byteLength);return new p0(t).set(new p0(e)),t}function zB(e,t){var r=t?UB(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function qB(e,t){var r=-1,i=e.length;for(t||(t=Array(i));++r<i;)t[r]=e[r];return t}var f0=Object.create,HB=function(){function e(){}return function(t){if(!wn(t))return{};if(f0)return f0(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();const WB=HB;function MC(e,t){return function(r){return e(t(r))}}var GB=MC(Object.getPrototypeOf,Object);const BC=GB;var VB=Object.prototype;function Tu(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||VB;return e===r}function YB(e){return typeof e.constructor=="function"&&!Tu(e)?WB(BC(e)):{}}function No(e){return e!=null&&typeof e=="object"}var XB="[object Arguments]";function g0(e){return No(e)&&Es(e)==XB}var DC=Object.prototype,QB=DC.hasOwnProperty,KB=DC.propertyIsEnumerable,JB=g0(function(){return arguments}())?g0:function(e){return No(e)&&QB.call(e,"callee")&&!KB.call(e,"callee")};const Ic=JB;var ZB=Array.isArray;const $c=ZB;var eD=9007199254740991;function OC(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=eD}function Eu(e){return e!=null&&OC(e.length)&&!ug(e)}function tD(e){return No(e)&&Eu(e)}function rD(){return!1}var IC=typeof exports=="object"&&exports&&!exports.nodeType&&exports,m0=IC&&typeof module=="object"&&module&&!module.nodeType&&module,iD=m0&&m0.exports===IC,x0=iD?Or.Buffer:void 0,nD=x0?x0.isBuffer:void 0,sD=nD||rD;const hg=sD;var aD="[object Object]",oD=Function.prototype,lD=Object.prototype,$C=oD.toString,cD=lD.hasOwnProperty,uD=$C.call(Object);function dD(e){if(!No(e)||Es(e)!=aD)return!1;var t=BC(e);if(t===null)return!0;var r=cD.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&$C.call(r)==uD}var hD="[object Arguments]",pD="[object Array]",fD="[object Boolean]",gD="[object Date]",mD="[object Error]",xD="[object Function]",yD="[object Map]",vD="[object Number]",bD="[object Object]",SD="[object RegExp]",CD="[object Set]",wD="[object String]",kD="[object WeakMap]",jD="[object ArrayBuffer]",_D="[object DataView]",ND="[object Float32Array]",TD="[object Float64Array]",ED="[object Int8Array]",AD="[object Int16Array]",RD="[object Int32Array]",LD="[object Uint8Array]",PD="[object Uint8ClampedArray]",MD="[object Uint16Array]",BD="[object Uint32Array]",Ee={};Ee[ND]=Ee[TD]=Ee[ED]=Ee[AD]=Ee[RD]=Ee[LD]=Ee[PD]=Ee[MD]=Ee[BD]=!0;Ee[hD]=Ee[pD]=Ee[jD]=Ee[fD]=Ee[_D]=Ee[gD]=Ee[mD]=Ee[xD]=Ee[yD]=Ee[vD]=Ee[bD]=Ee[SD]=Ee[CD]=Ee[wD]=Ee[kD]=!1;function DD(e){return No(e)&&OC(e.length)&&!!Ee[Es(e)]}function OD(e){return function(t){return e(t)}}var FC=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ja=FC&&typeof module=="object"&&module&&!module.nodeType&&module,ID=ja&&ja.exports===FC,Md=ID&&RC.process,$D=function(){try{var e=ja&&ja.require&&ja.require("util").types;return e||Md&&Md.binding&&Md.binding("util")}catch{}}();const y0=$D;var v0=y0&&y0.isTypedArray,FD=v0?OD(v0):DD;const pg=FD;function yp(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var UD=Object.prototype,zD=UD.hasOwnProperty;function qD(e,t,r){var i=e[t];(!(zD.call(e,t)&&ju(i,r))||r===void 0&&!(t in e))&&dg(e,t,r)}function HD(e,t,r,i){var n=!r;r||(r={});for(var s=-1,o=t.length;++s<o;){var l=t[s],c=i?i(r[l],e[l],l,r,e):void 0;c===void 0&&(c=e[l]),n?dg(r,l,c):qD(r,l,c)}return r}function WD(e,t){for(var r=-1,i=Array(e);++r<e;)i[r]=t(r);return i}var GD=9007199254740991,VD=/^(?:0|[1-9]\d*)$/;function UC(e,t){var r=typeof e;return t=t??GD,!!t&&(r=="number"||r!="symbol"&&VD.test(e))&&e>-1&&e%1==0&&e<t}var YD=Object.prototype,XD=YD.hasOwnProperty;function QD(e,t){var r=$c(e),i=!r&&Ic(e),n=!r&&!i&&hg(e),s=!r&&!i&&!n&&pg(e),o=r||i||n||s,l=o?WD(e.length,String):[],c=l.length;for(var u in e)(t||XD.call(e,u))&&!(o&&(u=="length"||n&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||UC(u,c)))&&l.push(u);return l}function KD(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var JD=Object.prototype,ZD=JD.hasOwnProperty;function eO(e){if(!wn(e))return KD(e);var t=Tu(e),r=[];for(var i in e)i=="constructor"&&(t||!ZD.call(e,i))||r.push(i);return r}function zC(e){return Eu(e)?QD(e,!0):eO(e)}function tO(e){return HD(e,zC(e))}function rO(e,t,r,i,n,s,o){var l=yp(e,r),c=yp(t,r),u=o.get(c);if(u){xp(e,r,u);return}var d=s?s(l,c,r+"",e,t,o):void 0,h=d===void 0;if(h){var p=$c(c),f=!p&&hg(c),g=!p&&!f&&pg(c);d=c,p||f||g?$c(l)?d=l:tD(l)?d=qB(l):f?(h=!1,d=$B(c,!0)):g?(h=!1,d=zB(c,!0)):d=[]:dD(c)||Ic(c)?(d=l,Ic(l)?d=tO(l):(!wn(l)||ug(l))&&(d=YB(c))):h=!1}h&&(o.set(c,d),n(d,c,i,s,o),o.delete(c)),xp(e,r,d)}function qC(e,t,r,i,n){e!==t&&OB(t,function(s,o){if(n||(n=new As),wn(s))rO(e,t,o,r,qC,i,n);else{var l=i?i(yp(e,o),s,o+"",e,t,n):void 0;l===void 0&&(l=s),xp(e,o,l)}},zC)}function HC(e){return e}function iO(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var b0=Math.max;function nO(e,t,r){return t=b0(t===void 0?e.length-1:t,0),function(){for(var i=arguments,n=-1,s=b0(i.length-t,0),o=Array(s);++n<s;)o[n]=i[t+n];n=-1;for(var l=Array(t+1);++n<t;)l[n]=i[n];return l[t]=r(o),iO(e,this,l)}}function sO(e){return function(){return e}}var aO=Oc?function(e,t){return Oc(e,"toString",{configurable:!0,enumerable:!1,value:sO(t),writable:!0})}:HC;const oO=aO;var lO=800,cO=16,uO=Date.now;function dO(e){var t=0,r=0;return function(){var i=uO(),n=cO-(i-r);if(r=i,n>0){if(++t>=lO)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var hO=dO(oO);const pO=hO;function fO(e,t){return pO(nO(e,t,HC),e+"")}function gO(e,t,r){if(!wn(r))return!1;var i=typeof t;return(i=="number"?Eu(r)&&UC(t,r.length):i=="string"&&t in r)?ju(r[t],e):!1}function mO(e){return fO(function(t,r){var i=-1,n=r.length,s=n>1?r[n-1]:void 0,o=n>2?r[2]:void 0;for(s=e.length>3&&typeof s=="function"?(n--,s):void 0,o&&gO(r[0],r[1],o)&&(s=n<3?void 0:s,n=1),t=Object(t);++i<n;){var l=r[i];l&&e(t,l,i,s)}return t})}var xO=mO(function(e,t,r){qC(e,t,r)});const yO=xO;var vO="​",bO={curveBasis:Bl,curveBasisClosed:rP,curveBasisOpen:iP,curveBumpX:NS,curveBumpY:TS,curveBundle:nP,curveCardinalClosed:sP,curveCardinalOpen:aP,curveCardinal:LS,curveCatmullRomClosed:oP,curveCatmullRomOpen:lP,curveCatmullRom:MS,curveLinear:_c,curveLinearClosed:cP,curveMonotoneX:FS,curveMonotoneY:US,curveNatural:qS,curveStep:HS,curveStepAfter:GS,curveStepBefore:WS},SO=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,CO=x(function(e,t){const r=WC(e,/(?:init\b)|(?:initialize\b)/);let i={};if(Array.isArray(r)){const o=r.map(l=>l.args);gc(o),i=Xe(i,[...o])}else i=r.args;if(!i)return;let n=Df(e,t);const s="config";return i[s]!==void 0&&(n==="flowchart-v2"&&(n="flowchart"),i[n]=i[s],delete i[s]),i},"detectInit"),WC=x(function(e,t=null){var r,i;try{const n=new RegExp(`[%]{2}(?![{]${SO.source})(?=[}][%]{2}).*
`,"ig");e=e.trim().replace(n,"").replace(/'/gm,'"'),I.debug(`Detecting diagram directive${t!==null?" type:"+t:""} based on the text:${e}`);let s;const o=[];for(;(s=wa.exec(e))!==null;)if(s.index===wa.lastIndex&&wa.lastIndex++,s&&!t||t&&((r=s[1])!=null&&r.match(t))||t&&((i=s[2])!=null&&i.match(t))){const l=s[1]?s[1]:s[2],c=s[3]?s[3].trim():s[4]?JSON.parse(s[4].trim()):null;o.push({type:l,args:c})}return o.length===0?{type:e,args:null}:o.length===1?o[0]:o}catch(n){return I.error(`ERROR: ${n.message} - Unable to parse directive type: '${t}' based on the text: '${e}'`),{type:void 0,args:null}}},"detectDirective"),wO=x(function(e){return e.replace(wa,"")},"removeDirectives"),kO=x(function(e,t){for(const[r,i]of t.entries())if(i.match(e))return r;return-1},"isSubstringInArray");function fg(e,t){if(!e)return t;const r=`curve${e.charAt(0).toUpperCase()+e.slice(1)}`;return bO[r]??t}x(fg,"interpolateToCurve");function GC(e,t){const r=e.trim();if(r)return t.securityLevel!=="loose"?AC(r):r}x(GC,"formatUrl");var jO=x((e,...t)=>{const r=e.split("."),i=r.length-1,n=r[i];let s=window;for(let o=0;o<i;o++)if(s=s[r[o]],!s){I.error(`Function name: ${e} not found in window`);return}s[n](...t)},"runFunc");function gg(e,t){return!e||!t?0:Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}x(gg,"distance");function VC(e){let t,r=0;e.forEach(n=>{r+=gg(n,t),t=n});const i=r/2;return mg(e,i)}x(VC,"traverseEdge");function YC(e){return e.length===1?e[0]:VC(e)}x(YC,"calcLabelPosition");var S0=x((e,t=2)=>{const r=Math.pow(10,t);return Math.round(e*r)/r},"roundNumber"),mg=x((e,t)=>{let r,i=t;for(const n of e){if(r){const s=gg(n,r);if(s===0)return r;if(s<i)i-=s;else{const o=i/s;if(o<=0)return r;if(o>=1)return{x:n.x,y:n.y};if(o>0&&o<1)return{x:S0((1-o)*r.x+o*n.x,5),y:S0((1-o)*r.y+o*n.y,5)}}}r=n}throw new Error("Could not find a suitable point for the given distance")},"calculatePoint"),_O=x((e,t,r)=>{I.info(`our points ${JSON.stringify(t)}`),t[0]!==r&&(t=t.reverse());const n=mg(t,25),s=e?10:5,o=Math.atan2(t[0].y-n.y,t[0].x-n.x),l={x:0,y:0};return l.x=Math.sin(o)*s+(t[0].x+n.x)/2,l.y=-Math.cos(o)*s+(t[0].y+n.y)/2,l},"calcCardinalityPosition");function XC(e,t,r){const i=structuredClone(r);I.info("our points",i),t!=="start_left"&&t!=="start_right"&&i.reverse();const n=25+e,s=mg(i,n),o=10+e*.5,l=Math.atan2(i[0].y-s.y,i[0].x-s.x),c={x:0,y:0};return t==="start_left"?(c.x=Math.sin(l+Math.PI)*o+(i[0].x+s.x)/2,c.y=-Math.cos(l+Math.PI)*o+(i[0].y+s.y)/2):t==="end_right"?(c.x=Math.sin(l-Math.PI)*o+(i[0].x+s.x)/2-5,c.y=-Math.cos(l-Math.PI)*o+(i[0].y+s.y)/2-5):t==="end_left"?(c.x=Math.sin(l)*o+(i[0].x+s.x)/2-5,c.y=-Math.cos(l)*o+(i[0].y+s.y)/2-5):(c.x=Math.sin(l)*o+(i[0].x+s.x)/2,c.y=-Math.cos(l)*o+(i[0].y+s.y)/2),c}x(XC,"calcTerminalLabelPosition");function QC(e){let t="",r="";for(const i of e)i!==void 0&&(i.startsWith("color:")||i.startsWith("text-align:")?r=r+i+";":t=t+i+";");return{style:t,labelStyle:r}}x(QC,"getStylesFromArray");var C0=0,NO=x(()=>(C0++,"id-"+Math.random().toString(36).substr(2,12)+"-"+C0),"generateId");function KC(e){let t="";const r="0123456789abcdef",i=r.length;for(let n=0;n<e;n++)t+=r.charAt(Math.floor(Math.random()*i));return t}x(KC,"makeRandomHex");var TO=x(e=>KC(e.length),"random"),EO=x(function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},"getTextObj"),AO=x(function(e,t){const r=t.text.replace(Ns.lineBreakRegex," "),[,i]=Au(t.fontSize),n=e.append("text");n.attr("x",t.x),n.attr("y",t.y),n.style("text-anchor",t.anchor),n.style("font-family",t.fontFamily),n.style("font-size",i),n.style("font-weight",t.fontWeight),n.attr("fill",t.fill),t.class!==void 0&&n.attr("class",t.class);const s=n.append("tspan");return s.attr("x",t.x+t.textMargin*2),s.attr("fill",t.fill),s.text(r),n},"drawSimpleText"),RO=_o((e,t,r)=>{if(!e||(r=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},r),Ns.lineBreakRegex.test(e)))return e;const i=e.split(" ").filter(Boolean),n=[];let s="";return i.forEach((o,l)=>{const c=ai(`${o} `,r),u=ai(s,r);if(c>t){const{hyphenatedStrings:p,remainingWord:f}=LO(o,t,"-",r);n.push(s,...p),s=f}else u+c>=t?(n.push(s),s=o):s=[s,o].filter(Boolean).join(" ");l+1===i.length&&n.push(s)}),n.filter(o=>o!=="").join(r.joinWith)},(e,t,r)=>`${e}${t}${r.fontSize}${r.fontWeight}${r.fontFamily}${r.joinWith}`),LO=_o((e,t,r="-",i)=>{i=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},i);const n=[...e],s=[];let o="";return n.forEach((l,c)=>{const u=`${o}${l}`;if(ai(u,i)>=t){const h=c+1,p=n.length===h,f=`${u}${r}`;s.push(p?u:f),o=""}else o=u}),{hyphenatedStrings:s,remainingWord:o}},(e,t,r="-",i)=>`${e}${t}${r}${i.fontSize}${i.fontWeight}${i.fontFamily}`);function JC(e,t){return xg(e,t).height}x(JC,"calculateTextHeight");function ai(e,t){return xg(e,t).width}x(ai,"calculateTextWidth");var xg=_o((e,t)=>{const{fontSize:r=12,fontFamily:i="Arial",fontWeight:n=400}=t;if(!e)return{width:0,height:0};const[,s]=Au(r),o=["sans-serif",i],l=e.split(Ns.lineBreakRegex),c=[],u=xe("body");if(!u.remove)return{width:0,height:0,lineHeight:0};const d=u.append("svg");for(const p of o){let f=0;const g={width:0,height:0,lineHeight:0};for(const m of l){const b=EO();b.text=m||vO;const y=AO(d,b).style("font-size",s).style("font-weight",n).style("font-family",p),v=(y._groups||y)[0][0].getBBox();if(v.width===0&&v.height===0)throw new Error("svg element not in render tree");g.width=Math.round(Math.max(g.width,v.width)),f=Math.round(v.height),g.height+=f,g.lineHeight=Math.round(Math.max(g.lineHeight,f))}c.push(g)}d.remove();const h=isNaN(c[1].height)||isNaN(c[1].width)||isNaN(c[1].lineHeight)||c[0].height>c[1].height&&c[0].width>c[1].width&&c[0].lineHeight>c[1].lineHeight?0:1;return c[h]},(e,t)=>`${e}${t.fontSize}${t.fontWeight}${t.fontFamily}`),po,PO=(po=class{constructor(t=!1,r){this.count=0,this.count=r?r.length:0,this.next=t?()=>this.count++:()=>Date.now()}},x(po,"InitIDGenerator"),po),ol,MO=x(function(e){return ol=ol||document.createElement("div"),e=escape(e).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),ol.innerHTML=e,unescape(ol.textContent)},"entityDecode");function yg(e){return"str"in e}x(yg,"isDetailedError");var BO=x((e,t,r,i)=>{var s;if(!i)return;const n=(s=e.node())==null?void 0:s.getBBox();n&&e.append("text").text(i).attr("text-anchor","middle").attr("x",n.x+n.width/2).attr("y",-r).attr("class",t)},"insertTitle"),Au=x(e=>{if(typeof e=="number")return[e,e+"px"];const t=parseInt(e??"",10);return Number.isNaN(t)?[void 0,void 0]:e===String(t)?[t,e+"px"]:[t,e]},"parseFontSize");function vg(e,t){return yO({},e,t)}x(vg,"cleanAndMerge");var gr={assignWithDepth:Xe,wrapLabel:RO,calculateTextHeight:JC,calculateTextWidth:ai,calculateTextDimensions:xg,cleanAndMerge:vg,detectInit:CO,detectDirective:WC,isSubstringInArray:kO,interpolateToCurve:fg,calcLabelPosition:YC,calcCardinalityPosition:_O,calcTerminalLabelPosition:XC,formatUrl:GC,getStylesFromArray:QC,generateId:NO,random:TO,runFunc:jO,entityDecode:MO,insertTitle:BO,isLabelCoordinateInPath:ZC,parseFontSize:Au,InitIDGenerator:PO},DO=x(function(e){let t=e;return t=t.replace(/style.*:\S*#.*;/g,function(r){return r.substring(0,r.length-1)}),t=t.replace(/classDef.*:\S*#.*;/g,function(r){return r.substring(0,r.length-1)}),t=t.replace(/#\w+;/g,function(r){const i=r.substring(1,r.length-1);return/^\+?\d+$/.test(i)?"ﬂ°°"+i+"¶ß":"ﬂ°"+i+"¶ß"}),t},"encodeEntities"),_n=x(function(e){return e.replace(/ﬂ°°/g,"&#").replace(/ﬂ°/g,"&").replace(/¶ß/g,";")},"decodeEntities"),Z6=x((e,t,{counter:r=0,prefix:i,suffix:n},s)=>s||`${i?`${i}_`:""}${e}_${t}_${r}${n?`_${n}`:""}`,"getEdgeId");function vt(e){return e??null}x(vt,"handleUndefinedAttr");function ZC(e,t){const r=Math.round(e.x),i=Math.round(e.y),n=t.replace(/(\d+\.\d+)/g,s=>Math.round(parseFloat(s)).toString());return n.includes(r.toString())||n.includes(i.toString())}x(ZC,"isLabelCoordinateInPath");const OO=Object.freeze({left:0,top:0,width:16,height:16}),Fc=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),e2=Object.freeze({...OO,...Fc}),IO=Object.freeze({...e2,body:"",hidden:!1}),$O=Object.freeze({width:null,height:null}),FO=Object.freeze({...$O,...Fc}),UO=(e,t,r,i="")=>{const n=e.split(":");if(e.slice(0,1)==="@"){if(n.length<2||n.length>3)return null;i=n.shift().slice(1)}if(n.length>3||!n.length)return null;if(n.length>1){const l=n.pop(),c=n.pop(),u={provider:n.length>0?n[0]:i,prefix:c,name:l};return t&&!Bd(u)?null:u}const s=n[0],o=s.split("-");if(o.length>1){const l={provider:i,prefix:o.shift(),name:o.join("-")};return t&&!Bd(l)?null:l}if(r&&i===""){const l={provider:i,prefix:"",name:s};return t&&!Bd(l,r)?null:l}return null},Bd=(e,t)=>e?!!((t&&e.prefix===""||e.prefix)&&e.name):!1;function zO(e,t){const r={};!e.hFlip!=!t.hFlip&&(r.hFlip=!0),!e.vFlip!=!t.vFlip&&(r.vFlip=!0);const i=((e.rotate||0)+(t.rotate||0))%4;return i&&(r.rotate=i),r}function w0(e,t){const r=zO(e,t);for(const i in IO)i in Fc?i in e&&!(i in r)&&(r[i]=Fc[i]):i in t?r[i]=t[i]:i in e&&(r[i]=e[i]);return r}function qO(e,t){const r=e.icons,i=e.aliases||Object.create(null),n=Object.create(null);function s(o){if(r[o])return n[o]=[];if(!(o in n)){n[o]=null;const l=i[o]&&i[o].parent,c=l&&s(l);c&&(n[o]=[l].concat(c))}return n[o]}return(t||Object.keys(r).concat(Object.keys(i))).forEach(s),n}function k0(e,t,r){const i=e.icons,n=e.aliases||Object.create(null);let s={};function o(l){s=w0(i[l]||n[l],s)}return o(t),r.forEach(o),w0(e,s)}function HO(e,t){if(e.icons[t])return k0(e,t,[]);const r=qO(e,[t])[t];return r?k0(e,t,r):null}const WO=/(-?[0-9.]*[0-9]+[0-9.]*)/g,GO=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function j0(e,t,r){if(t===1)return e;if(r=r||100,typeof e=="number")return Math.ceil(e*t*r)/r;if(typeof e!="string")return e;const i=e.split(WO);if(i===null||!i.length)return e;const n=[];let s=i.shift(),o=GO.test(s);for(;;){if(o){const l=parseFloat(s);isNaN(l)?n.push(s):n.push(Math.ceil(l*t*r)/r)}else n.push(s);if(s=i.shift(),s===void 0)return n.join("");o=!o}}function VO(e,t="defs"){let r="";const i=e.indexOf("<"+t);for(;i>=0;){const n=e.indexOf(">",i),s=e.indexOf("</"+t);if(n===-1||s===-1)break;const o=e.indexOf(">",s);if(o===-1)break;r+=e.slice(n+1,s).trim(),e=e.slice(0,i).trim()+e.slice(o+1)}return{defs:r,content:e}}function YO(e,t){return e?"<defs>"+e+"</defs>"+t:t}function XO(e,t,r){const i=VO(e);return YO(i.defs,t+i.content+r)}const QO=e=>e==="unset"||e==="undefined"||e==="none";function KO(e,t){const r={...e2,...e},i={...FO,...t},n={left:r.left,top:r.top,width:r.width,height:r.height};let s=r.body;[r,i].forEach(m=>{const b=[],y=m.hFlip,v=m.vFlip;let S=m.rotate;y?v?S+=2:(b.push("translate("+(n.width+n.left).toString()+" "+(0-n.top).toString()+")"),b.push("scale(-1 1)"),n.top=n.left=0):v&&(b.push("translate("+(0-n.left).toString()+" "+(n.height+n.top).toString()+")"),b.push("scale(1 -1)"),n.top=n.left=0);let w;switch(S<0&&(S-=Math.floor(S/4)*4),S=S%4,S){case 1:w=n.height/2+n.top,b.unshift("rotate(90 "+w.toString()+" "+w.toString()+")");break;case 2:b.unshift("rotate(180 "+(n.width/2+n.left).toString()+" "+(n.height/2+n.top).toString()+")");break;case 3:w=n.width/2+n.left,b.unshift("rotate(-90 "+w.toString()+" "+w.toString()+")");break}S%2===1&&(n.left!==n.top&&(w=n.left,n.left=n.top,n.top=w),n.width!==n.height&&(w=n.width,n.width=n.height,n.height=w)),b.length&&(s=XO(s,'<g transform="'+b.join(" ")+'">',"</g>"))});const o=i.width,l=i.height,c=n.width,u=n.height;let d,h;o===null?(h=l===null?"1em":l==="auto"?u:l,d=j0(h,c/u)):(d=o==="auto"?c:o,h=l===null?j0(d,u/c):l==="auto"?u:l);const p={},f=(m,b)=>{QO(b)||(p[m]=b.toString())};f("width",d),f("height",h);const g=[n.left,n.top,c,u];return p.viewBox=g.join(" "),{attributes:p,viewBox:g,body:s}}const JO=/\sid="(\S+)"/g,ZO="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let e4=0;function t4(e,t=ZO){const r=[];let i;for(;i=JO.exec(e);)r.push(i[1]);if(!r.length)return e;const n="suffix"+(Math.random()*16777216|Date.now()).toString(16);return r.forEach(s=>{const o=typeof t=="function"?t(s):t+(e4++).toString(),l=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");e=e.replace(new RegExp('([#;"])('+l+')([")]|\\.[a-z])',"g"),"$1"+o+n+"$3")}),e=e.replace(new RegExp(n,"g"),""),e}function r4(e,t){let r=e.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const i in t)r+=" "+i+'="'+t[i]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+r+">"+e+"</svg>"}function bg(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Nn=bg();function t2(e){Nn=e}var _a={exec:()=>null};function Ce(e,t=""){let r=typeof e=="string"?e:e.source,i={replace:(n,s)=>{let o=typeof s=="string"?s:s.source;return o=o.replace(Nt.caret,"$1"),r=r.replace(n,o),i},getRegex:()=>new RegExp(r,t)};return i}var Nt={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},i4=/^(?:[ \t]*(?:\n|$))+/,n4=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,s4=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,To=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,a4=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Sg=/(?:[*+-]|\d{1,9}[.)])/,r2=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,i2=Ce(r2).replace(/bull/g,Sg).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),o4=Ce(r2).replace(/bull/g,Sg).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),Cg=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,l4=/^[^\n]+/,wg=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,c4=Ce(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",wg).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),u4=Ce(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Sg).getRegex(),Ru="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",kg=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,d4=Ce("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",kg).replace("tag",Ru).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),n2=Ce(Cg).replace("hr",To).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ru).getRegex(),h4=Ce(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",n2).getRegex(),jg={blockquote:h4,code:n4,def:c4,fences:s4,heading:a4,hr:To,html:d4,lheading:i2,list:u4,newline:i4,paragraph:n2,table:_a,text:l4},_0=Ce("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",To).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ru).getRegex(),p4={...jg,lheading:o4,table:_0,paragraph:Ce(Cg).replace("hr",To).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",_0).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ru).getRegex()},f4={...jg,html:Ce(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",kg).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:_a,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Ce(Cg).replace("hr",To).replace("heading",` *#{1,6} *[^
]`).replace("lheading",i2).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},g4=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,m4=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,s2=/^( {2,}|\\)\n(?!\s*$)/,x4=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Lu=/[\p{P}\p{S}]/u,_g=/[\s\p{P}\p{S}]/u,a2=/[^\s\p{P}\p{S}]/u,y4=Ce(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,_g).getRegex(),o2=/(?!~)[\p{P}\p{S}]/u,v4=/(?!~)[\s\p{P}\p{S}]/u,b4=/(?:[^\s\p{P}\p{S}]|~)/u,S4=/\[[^\[\]]*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)|`[^`]*?`|<(?! )[^<>]*?>/g,l2=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,C4=Ce(l2,"u").replace(/punct/g,Lu).getRegex(),w4=Ce(l2,"u").replace(/punct/g,o2).getRegex(),c2="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",k4=Ce(c2,"gu").replace(/notPunctSpace/g,a2).replace(/punctSpace/g,_g).replace(/punct/g,Lu).getRegex(),j4=Ce(c2,"gu").replace(/notPunctSpace/g,b4).replace(/punctSpace/g,v4).replace(/punct/g,o2).getRegex(),_4=Ce("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,a2).replace(/punctSpace/g,_g).replace(/punct/g,Lu).getRegex(),N4=Ce(/\\(punct)/,"gu").replace(/punct/g,Lu).getRegex(),T4=Ce(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),E4=Ce(kg).replace("(?:-->|$)","-->").getRegex(),A4=Ce("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",E4).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Uc=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`[^`]*`|[^\[\]\\`])*?/,R4=Ce(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",Uc).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),u2=Ce(/^!?\[(label)\]\[(ref)\]/).replace("label",Uc).replace("ref",wg).getRegex(),d2=Ce(/^!?\[(ref)\](?:\[\])?/).replace("ref",wg).getRegex(),L4=Ce("reflink|nolink(?!\\()","g").replace("reflink",u2).replace("nolink",d2).getRegex(),Ng={_backpedal:_a,anyPunctuation:N4,autolink:T4,blockSkip:S4,br:s2,code:m4,del:_a,emStrongLDelim:C4,emStrongRDelimAst:k4,emStrongRDelimUnd:_4,escape:g4,link:R4,nolink:d2,punctuation:y4,reflink:u2,reflinkSearch:L4,tag:A4,text:x4,url:_a},P4={...Ng,link:Ce(/^!?\[(label)\]\((.*?)\)/).replace("label",Uc).getRegex(),reflink:Ce(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Uc).getRegex()},vp={...Ng,emStrongRDelimAst:j4,emStrongLDelim:w4,url:Ce(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},M4={...vp,br:Ce(s2).replace("{2,}","*").getRegex(),text:Ce(vp.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},ll={normal:jg,gfm:p4,pedantic:f4},Qs={normal:Ng,gfm:vp,breaks:M4,pedantic:P4},B4={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},N0=e=>B4[e];function _r(e,t){if(t){if(Nt.escapeTest.test(e))return e.replace(Nt.escapeReplace,N0)}else if(Nt.escapeTestNoEncode.test(e))return e.replace(Nt.escapeReplaceNoEncode,N0);return e}function T0(e){try{e=encodeURI(e).replace(Nt.percentDecode,"%")}catch{return null}return e}function E0(e,t){var s;let r=e.replace(Nt.findPipe,(o,l,c)=>{let u=!1,d=l;for(;--d>=0&&c[d]==="\\";)u=!u;return u?"|":" |"}),i=r.split(Nt.splitPipe),n=0;if(i[0].trim()||i.shift(),i.length>0&&!((s=i.at(-1))!=null&&s.trim())&&i.pop(),t)if(i.length>t)i.splice(t);else for(;i.length<t;)i.push("");for(;n<i.length;n++)i[n]=i[n].trim().replace(Nt.slashPipe,"|");return i}function Ks(e,t,r){let i=e.length;if(i===0)return"";let n=0;for(;n<i;){let s=e.charAt(i-n-1);if(s===t&&!r)n++;else if(s!==t&&r)n++;else break}return e.slice(0,i-n)}function D4(e,t){if(e.indexOf(t[1])===-1)return-1;let r=0;for(let i=0;i<e.length;i++)if(e[i]==="\\")i++;else if(e[i]===t[0])r++;else if(e[i]===t[1]&&(r--,r<0))return i;return r>0?-2:-1}function A0(e,t,r,i,n){let s=t.href,o=t.title||null,l=e[1].replace(n.other.outputLinkReplace,"$1");i.state.inLink=!0;let c={type:e[0].charAt(0)==="!"?"image":"link",raw:r,href:s,title:o,text:l,tokens:i.inlineTokens(l)};return i.state.inLink=!1,c}function O4(e,t,r){let i=e.match(r.other.indentCodeCompensation);if(i===null)return t;let n=i[1];return t.split(`
`).map(s=>{let o=s.match(r.other.beginningSpace);if(o===null)return s;let[l]=o;return l.length>=n.length?s.slice(n.length):s}).join(`
`)}var zc=class{constructor(t){ke(this,"options");ke(this,"rules");ke(this,"lexer");this.options=t||Nn}space(t){let r=this.rules.block.newline.exec(t);if(r&&r[0].length>0)return{type:"space",raw:r[0]}}code(t){let r=this.rules.block.code.exec(t);if(r){let i=r[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:r[0],codeBlockStyle:"indented",text:this.options.pedantic?i:Ks(i,`
`)}}}fences(t){let r=this.rules.block.fences.exec(t);if(r){let i=r[0],n=O4(i,r[3]||"",this.rules);return{type:"code",raw:i,lang:r[2]?r[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):r[2],text:n}}}heading(t){let r=this.rules.block.heading.exec(t);if(r){let i=r[2].trim();if(this.rules.other.endingHash.test(i)){let n=Ks(i,"#");(this.options.pedantic||!n||this.rules.other.endingSpaceChar.test(n))&&(i=n.trim())}return{type:"heading",raw:r[0],depth:r[1].length,text:i,tokens:this.lexer.inline(i)}}}hr(t){let r=this.rules.block.hr.exec(t);if(r)return{type:"hr",raw:Ks(r[0],`
`)}}blockquote(t){let r=this.rules.block.blockquote.exec(t);if(r){let i=Ks(r[0],`
`).split(`
`),n="",s="",o=[];for(;i.length>0;){let l=!1,c=[],u;for(u=0;u<i.length;u++)if(this.rules.other.blockquoteStart.test(i[u]))c.push(i[u]),l=!0;else if(!l)c.push(i[u]);else break;i=i.slice(u);let d=c.join(`
`),h=d.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");n=n?`${n}
${d}`:d,s=s?`${s}
${h}`:h;let p=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(h,o,!0),this.lexer.state.top=p,i.length===0)break;let f=o.at(-1);if((f==null?void 0:f.type)==="code")break;if((f==null?void 0:f.type)==="blockquote"){let g=f,m=g.raw+`
`+i.join(`
`),b=this.blockquote(m);o[o.length-1]=b,n=n.substring(0,n.length-g.raw.length)+b.raw,s=s.substring(0,s.length-g.text.length)+b.text;break}else if((f==null?void 0:f.type)==="list"){let g=f,m=g.raw+`
`+i.join(`
`),b=this.list(m);o[o.length-1]=b,n=n.substring(0,n.length-f.raw.length)+b.raw,s=s.substring(0,s.length-g.raw.length)+b.raw,i=m.substring(o.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:n,tokens:o,text:s}}}list(t){let r=this.rules.block.list.exec(t);if(r){let i=r[1].trim(),n=i.length>1,s={type:"list",raw:"",ordered:n,start:n?+i.slice(0,-1):"",loose:!1,items:[]};i=n?`\\d{1,9}\\${i.slice(-1)}`:`\\${i}`,this.options.pedantic&&(i=n?i:"[*+-]");let o=this.rules.other.listItemRegex(i),l=!1;for(;t;){let u=!1,d="",h="";if(!(r=o.exec(t))||this.rules.block.hr.test(t))break;d=r[0],t=t.substring(d.length);let p=r[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,v=>" ".repeat(3*v.length)),f=t.split(`
`,1)[0],g=!p.trim(),m=0;if(this.options.pedantic?(m=2,h=p.trimStart()):g?m=r[1].length+1:(m=r[2].search(this.rules.other.nonSpaceChar),m=m>4?1:m,h=p.slice(m),m+=r[1].length),g&&this.rules.other.blankLine.test(f)&&(d+=f+`
`,t=t.substring(f.length+1),u=!0),!u){let v=this.rules.other.nextBulletRegex(m),S=this.rules.other.hrRegex(m),w=this.rules.other.fencesBeginRegex(m),k=this.rules.other.headingBeginRegex(m),C=this.rules.other.htmlBeginRegex(m);for(;t;){let j=t.split(`
`,1)[0],E;if(f=j,this.options.pedantic?(f=f.replace(this.rules.other.listReplaceNesting,"  "),E=f):E=f.replace(this.rules.other.tabCharGlobal,"    "),w.test(f)||k.test(f)||C.test(f)||v.test(f)||S.test(f))break;if(E.search(this.rules.other.nonSpaceChar)>=m||!f.trim())h+=`
`+E.slice(m);else{if(g||p.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||w.test(p)||k.test(p)||S.test(p))break;h+=`
`+f}!g&&!f.trim()&&(g=!0),d+=j+`
`,t=t.substring(j.length+1),p=E.slice(m)}}s.loose||(l?s.loose=!0:this.rules.other.doubleBlankLine.test(d)&&(l=!0));let b=null,y;this.options.gfm&&(b=this.rules.other.listIsTask.exec(h),b&&(y=b[0]!=="[ ] ",h=h.replace(this.rules.other.listReplaceTask,""))),s.items.push({type:"list_item",raw:d,task:!!b,checked:y,loose:!1,text:h,tokens:[]}),s.raw+=d}let c=s.items.at(-1);if(c)c.raw=c.raw.trimEnd(),c.text=c.text.trimEnd();else return;s.raw=s.raw.trimEnd();for(let u=0;u<s.items.length;u++)if(this.lexer.state.top=!1,s.items[u].tokens=this.lexer.blockTokens(s.items[u].text,[]),!s.loose){let d=s.items[u].tokens.filter(p=>p.type==="space"),h=d.length>0&&d.some(p=>this.rules.other.anyLine.test(p.raw));s.loose=h}if(s.loose)for(let u=0;u<s.items.length;u++)s.items[u].loose=!0;return s}}html(t){let r=this.rules.block.html.exec(t);if(r)return{type:"html",block:!0,raw:r[0],pre:r[1]==="pre"||r[1]==="script"||r[1]==="style",text:r[0]}}def(t){let r=this.rules.block.def.exec(t);if(r){let i=r[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),n=r[2]?r[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=r[3]?r[3].substring(1,r[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):r[3];return{type:"def",tag:i,raw:r[0],href:n,title:s}}}table(t){var l;let r=this.rules.block.table.exec(t);if(!r||!this.rules.other.tableDelimiter.test(r[2]))return;let i=E0(r[1]),n=r[2].replace(this.rules.other.tableAlignChars,"").split("|"),s=(l=r[3])!=null&&l.trim()?r[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],o={type:"table",raw:r[0],header:[],align:[],rows:[]};if(i.length===n.length){for(let c of n)this.rules.other.tableAlignRight.test(c)?o.align.push("right"):this.rules.other.tableAlignCenter.test(c)?o.align.push("center"):this.rules.other.tableAlignLeft.test(c)?o.align.push("left"):o.align.push(null);for(let c=0;c<i.length;c++)o.header.push({text:i[c],tokens:this.lexer.inline(i[c]),header:!0,align:o.align[c]});for(let c of s)o.rows.push(E0(c,o.header.length).map((u,d)=>({text:u,tokens:this.lexer.inline(u),header:!1,align:o.align[d]})));return o}}lheading(t){let r=this.rules.block.lheading.exec(t);if(r)return{type:"heading",raw:r[0],depth:r[2].charAt(0)==="="?1:2,text:r[1],tokens:this.lexer.inline(r[1])}}paragraph(t){let r=this.rules.block.paragraph.exec(t);if(r){let i=r[1].charAt(r[1].length-1)===`
`?r[1].slice(0,-1):r[1];return{type:"paragraph",raw:r[0],text:i,tokens:this.lexer.inline(i)}}}text(t){let r=this.rules.block.text.exec(t);if(r)return{type:"text",raw:r[0],text:r[0],tokens:this.lexer.inline(r[0])}}escape(t){let r=this.rules.inline.escape.exec(t);if(r)return{type:"escape",raw:r[0],text:r[1]}}tag(t){let r=this.rules.inline.tag.exec(t);if(r)return!this.lexer.state.inLink&&this.rules.other.startATag.test(r[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(r[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(r[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(r[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:r[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:r[0]}}link(t){let r=this.rules.inline.link.exec(t);if(r){let i=r[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(i)){if(!this.rules.other.endAngleBracket.test(i))return;let o=Ks(i.slice(0,-1),"\\");if((i.length-o.length)%2===0)return}else{let o=D4(r[2],"()");if(o===-2)return;if(o>-1){let l=(r[0].indexOf("!")===0?5:4)+r[1].length+o;r[2]=r[2].substring(0,o),r[0]=r[0].substring(0,l).trim(),r[3]=""}}let n=r[2],s="";if(this.options.pedantic){let o=this.rules.other.pedanticHrefTitle.exec(n);o&&(n=o[1],s=o[3])}else s=r[3]?r[3].slice(1,-1):"";return n=n.trim(),this.rules.other.startAngleBracket.test(n)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(i)?n=n.slice(1):n=n.slice(1,-1)),A0(r,{href:n&&n.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},r[0],this.lexer,this.rules)}}reflink(t,r){let i;if((i=this.rules.inline.reflink.exec(t))||(i=this.rules.inline.nolink.exec(t))){let n=(i[2]||i[1]).replace(this.rules.other.multipleSpaceGlobal," "),s=r[n.toLowerCase()];if(!s){let o=i[0].charAt(0);return{type:"text",raw:o,text:o}}return A0(i,s,i[0],this.lexer,this.rules)}}emStrong(t,r,i=""){let n=this.rules.inline.emStrongLDelim.exec(t);if(!(!n||n[3]&&i.match(this.rules.other.unicodeAlphaNumeric))&&(!(n[1]||n[2])||!i||this.rules.inline.punctuation.exec(i))){let s=[...n[0]].length-1,o,l,c=s,u=0,d=n[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(d.lastIndex=0,r=r.slice(-1*t.length+s);(n=d.exec(r))!=null;){if(o=n[1]||n[2]||n[3]||n[4]||n[5]||n[6],!o)continue;if(l=[...o].length,n[3]||n[4]){c+=l;continue}else if((n[5]||n[6])&&s%3&&!((s+l)%3)){u+=l;continue}if(c-=l,c>0)continue;l=Math.min(l,l+c+u);let h=[...n[0]][0].length,p=t.slice(0,s+n.index+h+l);if(Math.min(s,l)%2){let g=p.slice(1,-1);return{type:"em",raw:p,text:g,tokens:this.lexer.inlineTokens(g)}}let f=p.slice(2,-2);return{type:"strong",raw:p,text:f,tokens:this.lexer.inlineTokens(f)}}}}codespan(t){let r=this.rules.inline.code.exec(t);if(r){let i=r[2].replace(this.rules.other.newLineCharGlobal," "),n=this.rules.other.nonSpaceChar.test(i),s=this.rules.other.startingSpaceChar.test(i)&&this.rules.other.endingSpaceChar.test(i);return n&&s&&(i=i.substring(1,i.length-1)),{type:"codespan",raw:r[0],text:i}}}br(t){let r=this.rules.inline.br.exec(t);if(r)return{type:"br",raw:r[0]}}del(t){let r=this.rules.inline.del.exec(t);if(r)return{type:"del",raw:r[0],text:r[2],tokens:this.lexer.inlineTokens(r[2])}}autolink(t){let r=this.rules.inline.autolink.exec(t);if(r){let i,n;return r[2]==="@"?(i=r[1],n="mailto:"+i):(i=r[1],n=i),{type:"link",raw:r[0],text:i,href:n,tokens:[{type:"text",raw:i,text:i}]}}}url(t){var i;let r;if(r=this.rules.inline.url.exec(t)){let n,s;if(r[2]==="@")n=r[0],s="mailto:"+n;else{let o;do o=r[0],r[0]=((i=this.rules.inline._backpedal.exec(r[0]))==null?void 0:i[0])??"";while(o!==r[0]);n=r[0],r[1]==="www."?s="http://"+r[0]:s=r[0]}return{type:"link",raw:r[0],text:n,href:s,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(t){let r=this.rules.inline.text.exec(t);if(r){let i=this.lexer.state.inRawBlock;return{type:"text",raw:r[0],text:r[0],escaped:i}}}},Qr=class bp{constructor(t){ke(this,"tokens");ke(this,"options");ke(this,"state");ke(this,"tokenizer");ke(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=t||Nn,this.options.tokenizer=this.options.tokenizer||new zc,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let r={other:Nt,block:ll.normal,inline:Qs.normal};this.options.pedantic?(r.block=ll.pedantic,r.inline=Qs.pedantic):this.options.gfm&&(r.block=ll.gfm,this.options.breaks?r.inline=Qs.breaks:r.inline=Qs.gfm),this.tokenizer.rules=r}static get rules(){return{block:ll,inline:Qs}}static lex(t,r){return new bp(r).lex(t)}static lexInline(t,r){return new bp(r).inlineTokens(t)}lex(t){t=t.replace(Nt.carriageReturn,`
`),this.blockTokens(t,this.tokens);for(let r=0;r<this.inlineQueue.length;r++){let i=this.inlineQueue[r];this.inlineTokens(i.src,i.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,r=[],i=!1){var n,s,o;for(this.options.pedantic&&(t=t.replace(Nt.tabCharGlobal,"    ").replace(Nt.spaceLine,""));t;){let l;if((s=(n=this.options.extensions)==null?void 0:n.block)!=null&&s.some(u=>(l=u.call({lexer:this},t,r))?(t=t.substring(l.raw.length),r.push(l),!0):!1))continue;if(l=this.tokenizer.space(t)){t=t.substring(l.raw.length);let u=r.at(-1);l.raw.length===1&&u!==void 0?u.raw+=`
`:r.push(l);continue}if(l=this.tokenizer.code(t)){t=t.substring(l.raw.length);let u=r.at(-1);(u==null?void 0:u.type)==="paragraph"||(u==null?void 0:u.type)==="text"?(u.raw+=(u.raw.endsWith(`
`)?"":`
`)+l.raw,u.text+=`
`+l.text,this.inlineQueue.at(-1).src=u.text):r.push(l);continue}if(l=this.tokenizer.fences(t)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.heading(t)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.hr(t)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.blockquote(t)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.list(t)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.html(t)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.def(t)){t=t.substring(l.raw.length);let u=r.at(-1);(u==null?void 0:u.type)==="paragraph"||(u==null?void 0:u.type)==="text"?(u.raw+=(u.raw.endsWith(`
`)?"":`
`)+l.raw,u.text+=`
`+l.raw,this.inlineQueue.at(-1).src=u.text):this.tokens.links[l.tag]||(this.tokens.links[l.tag]={href:l.href,title:l.title},r.push(l));continue}if(l=this.tokenizer.table(t)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.lheading(t)){t=t.substring(l.raw.length),r.push(l);continue}let c=t;if((o=this.options.extensions)!=null&&o.startBlock){let u=1/0,d=t.slice(1),h;this.options.extensions.startBlock.forEach(p=>{h=p.call({lexer:this},d),typeof h=="number"&&h>=0&&(u=Math.min(u,h))}),u<1/0&&u>=0&&(c=t.substring(0,u+1))}if(this.state.top&&(l=this.tokenizer.paragraph(c))){let u=r.at(-1);i&&(u==null?void 0:u.type)==="paragraph"?(u.raw+=(u.raw.endsWith(`
`)?"":`
`)+l.raw,u.text+=`
`+l.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=u.text):r.push(l),i=c.length!==t.length,t=t.substring(l.raw.length);continue}if(l=this.tokenizer.text(t)){t=t.substring(l.raw.length);let u=r.at(-1);(u==null?void 0:u.type)==="text"?(u.raw+=(u.raw.endsWith(`
`)?"":`
`)+l.raw,u.text+=`
`+l.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=u.text):r.push(l);continue}if(t){let u="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return this.state.top=!0,r}inline(t,r=[]){return this.inlineQueue.push({src:t,tokens:r}),r}inlineTokens(t,r=[]){var l,c,u,d,h;let i=t,n=null;if(this.tokens.links){let p=Object.keys(this.tokens.links);if(p.length>0)for(;(n=this.tokenizer.rules.inline.reflinkSearch.exec(i))!=null;)p.includes(n[0].slice(n[0].lastIndexOf("[")+1,-1))&&(i=i.slice(0,n.index)+"["+"a".repeat(n[0].length-2)+"]"+i.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(n=this.tokenizer.rules.inline.anyPunctuation.exec(i))!=null;)i=i.slice(0,n.index)+"++"+i.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(n=this.tokenizer.rules.inline.blockSkip.exec(i))!=null;)i=i.slice(0,n.index)+"["+"a".repeat(n[0].length-2)+"]"+i.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);i=((c=(l=this.options.hooks)==null?void 0:l.emStrongMask)==null?void 0:c.call({lexer:this},i))??i;let s=!1,o="";for(;t;){s||(o=""),s=!1;let p;if((d=(u=this.options.extensions)==null?void 0:u.inline)!=null&&d.some(g=>(p=g.call({lexer:this},t,r))?(t=t.substring(p.raw.length),r.push(p),!0):!1))continue;if(p=this.tokenizer.escape(t)){t=t.substring(p.raw.length),r.push(p);continue}if(p=this.tokenizer.tag(t)){t=t.substring(p.raw.length),r.push(p);continue}if(p=this.tokenizer.link(t)){t=t.substring(p.raw.length),r.push(p);continue}if(p=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(p.raw.length);let g=r.at(-1);p.type==="text"&&(g==null?void 0:g.type)==="text"?(g.raw+=p.raw,g.text+=p.text):r.push(p);continue}if(p=this.tokenizer.emStrong(t,i,o)){t=t.substring(p.raw.length),r.push(p);continue}if(p=this.tokenizer.codespan(t)){t=t.substring(p.raw.length),r.push(p);continue}if(p=this.tokenizer.br(t)){t=t.substring(p.raw.length),r.push(p);continue}if(p=this.tokenizer.del(t)){t=t.substring(p.raw.length),r.push(p);continue}if(p=this.tokenizer.autolink(t)){t=t.substring(p.raw.length),r.push(p);continue}if(!this.state.inLink&&(p=this.tokenizer.url(t))){t=t.substring(p.raw.length),r.push(p);continue}let f=t;if((h=this.options.extensions)!=null&&h.startInline){let g=1/0,m=t.slice(1),b;this.options.extensions.startInline.forEach(y=>{b=y.call({lexer:this},m),typeof b=="number"&&b>=0&&(g=Math.min(g,b))}),g<1/0&&g>=0&&(f=t.substring(0,g+1))}if(p=this.tokenizer.inlineText(f)){t=t.substring(p.raw.length),p.raw.slice(-1)!=="_"&&(o=p.raw.slice(-1)),s=!0;let g=r.at(-1);(g==null?void 0:g.type)==="text"?(g.raw+=p.raw,g.text+=p.text):r.push(p);continue}if(t){let g="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(g);break}else throw new Error(g)}}return r}},qc=class{constructor(t){ke(this,"options");ke(this,"parser");this.options=t||Nn}space(t){return""}code({text:t,lang:r,escaped:i}){var o;let n=(o=(r||"").match(Nt.notSpaceStart))==null?void 0:o[0],s=t.replace(Nt.endingNewline,"")+`
`;return n?'<pre><code class="language-'+_r(n)+'">'+(i?s:_r(s,!0))+`</code></pre>
`:"<pre><code>"+(i?s:_r(s,!0))+`</code></pre>
`}blockquote({tokens:t}){return`<blockquote>
${this.parser.parse(t)}</blockquote>
`}html({text:t}){return t}def(t){return""}heading({tokens:t,depth:r}){return`<h${r}>${this.parser.parseInline(t)}</h${r}>
`}hr(t){return`<hr>
`}list(t){let r=t.ordered,i=t.start,n="";for(let l=0;l<t.items.length;l++){let c=t.items[l];n+=this.listitem(c)}let s=r?"ol":"ul",o=r&&i!==1?' start="'+i+'"':"";return"<"+s+o+`>
`+n+"</"+s+`>
`}listitem(t){var i;let r="";if(t.task){let n=this.checkbox({checked:!!t.checked});t.loose?((i=t.tokens[0])==null?void 0:i.type)==="paragraph"?(t.tokens[0].text=n+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&t.tokens[0].tokens[0].type==="text"&&(t.tokens[0].tokens[0].text=n+" "+_r(t.tokens[0].tokens[0].text),t.tokens[0].tokens[0].escaped=!0)):t.tokens.unshift({type:"text",raw:n+" ",text:n+" ",escaped:!0}):r+=n+" "}return r+=this.parser.parse(t.tokens,!!t.loose),`<li>${r}</li>
`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>
`}table(t){let r="",i="";for(let s=0;s<t.header.length;s++)i+=this.tablecell(t.header[s]);r+=this.tablerow({text:i});let n="";for(let s=0;s<t.rows.length;s++){let o=t.rows[s];i="";for(let l=0;l<o.length;l++)i+=this.tablecell(o[l]);n+=this.tablerow({text:i})}return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+r+`</thead>
`+n+`</table>
`}tablerow({text:t}){return`<tr>
${t}</tr>
`}tablecell(t){let r=this.parser.parseInline(t.tokens),i=t.header?"th":"td";return(t.align?`<${i} align="${t.align}">`:`<${i}>`)+r+`</${i}>
`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${_r(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:r,tokens:i}){let n=this.parser.parseInline(i),s=T0(t);if(s===null)return n;t=s;let o='<a href="'+t+'"';return r&&(o+=' title="'+_r(r)+'"'),o+=">"+n+"</a>",o}image({href:t,title:r,text:i,tokens:n}){n&&(i=this.parser.parseInline(n,this.parser.textRenderer));let s=T0(t);if(s===null)return _r(i);t=s;let o=`<img src="${t}" alt="${i}"`;return r&&(o+=` title="${_r(r)}"`),o+=">",o}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:_r(t.text)}},Tg=class{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}},Kr=class Sp{constructor(t){ke(this,"options");ke(this,"renderer");ke(this,"textRenderer");this.options=t||Nn,this.options.renderer=this.options.renderer||new qc,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Tg}static parse(t,r){return new Sp(r).parse(t)}static parseInline(t,r){return new Sp(r).parseInline(t)}parse(t,r=!0){var n,s;let i="";for(let o=0;o<t.length;o++){let l=t[o];if((s=(n=this.options.extensions)==null?void 0:n.renderers)!=null&&s[l.type]){let u=l,d=this.options.extensions.renderers[u.type].call({parser:this},u);if(d!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(u.type)){i+=d||"";continue}}let c=l;switch(c.type){case"space":{i+=this.renderer.space(c);continue}case"hr":{i+=this.renderer.hr(c);continue}case"heading":{i+=this.renderer.heading(c);continue}case"code":{i+=this.renderer.code(c);continue}case"table":{i+=this.renderer.table(c);continue}case"blockquote":{i+=this.renderer.blockquote(c);continue}case"list":{i+=this.renderer.list(c);continue}case"html":{i+=this.renderer.html(c);continue}case"def":{i+=this.renderer.def(c);continue}case"paragraph":{i+=this.renderer.paragraph(c);continue}case"text":{let u=c,d=this.renderer.text(u);for(;o+1<t.length&&t[o+1].type==="text";)u=t[++o],d+=`
`+this.renderer.text(u);r?i+=this.renderer.paragraph({type:"paragraph",raw:d,text:d,tokens:[{type:"text",raw:d,text:d,escaped:!0}]}):i+=d;continue}default:{let u='Token with "'+c.type+'" type was not found.';if(this.options.silent)return console.error(u),"";throw new Error(u)}}}return i}parseInline(t,r=this.renderer){var n,s;let i="";for(let o=0;o<t.length;o++){let l=t[o];if((s=(n=this.options.extensions)==null?void 0:n.renderers)!=null&&s[l.type]){let u=this.options.extensions.renderers[l.type].call({parser:this},l);if(u!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(l.type)){i+=u||"";continue}}let c=l;switch(c.type){case"escape":{i+=r.text(c);break}case"html":{i+=r.html(c);break}case"link":{i+=r.link(c);break}case"image":{i+=r.image(c);break}case"strong":{i+=r.strong(c);break}case"em":{i+=r.em(c);break}case"codespan":{i+=r.codespan(c);break}case"br":{i+=r.br(c);break}case"del":{i+=r.del(c);break}case"text":{i+=r.text(c);break}default:{let u='Token with "'+c.type+'" type was not found.';if(this.options.silent)return console.error(u),"";throw new Error(u)}}}return i}},fl,la=(fl=class{constructor(t){ke(this,"options");ke(this,"block");this.options=t||Nn}preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}emStrongMask(t){return t}provideLexer(){return this.block?Qr.lex:Qr.lexInline}provideParser(){return this.block?Kr.parse:Kr.parseInline}},ke(fl,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens","emStrongMask"])),ke(fl,"passThroughHooksRespectAsync",new Set(["preprocess","postprocess","processAllTokens"])),fl),I4=class{constructor(...t){ke(this,"defaults",bg());ke(this,"options",this.setOptions);ke(this,"parse",this.parseMarkdown(!0));ke(this,"parseInline",this.parseMarkdown(!1));ke(this,"Parser",Kr);ke(this,"Renderer",qc);ke(this,"TextRenderer",Tg);ke(this,"Lexer",Qr);ke(this,"Tokenizer",zc);ke(this,"Hooks",la);this.use(...t)}walkTokens(t,r){var n,s;let i=[];for(let o of t)switch(i=i.concat(r.call(this,o)),o.type){case"table":{let l=o;for(let c of l.header)i=i.concat(this.walkTokens(c.tokens,r));for(let c of l.rows)for(let u of c)i=i.concat(this.walkTokens(u.tokens,r));break}case"list":{let l=o;i=i.concat(this.walkTokens(l.items,r));break}default:{let l=o;(s=(n=this.defaults.extensions)==null?void 0:n.childTokens)!=null&&s[l.type]?this.defaults.extensions.childTokens[l.type].forEach(c=>{let u=l[c].flat(1/0);i=i.concat(this.walkTokens(u,r))}):l.tokens&&(i=i.concat(this.walkTokens(l.tokens,r)))}}return i}use(...t){let r=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(i=>{let n={...i};if(n.async=this.defaults.async||n.async||!1,i.extensions&&(i.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){let o=r.renderers[s.name];o?r.renderers[s.name]=function(...l){let c=s.renderer.apply(this,l);return c===!1&&(c=o.apply(this,l)),c}:r.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let o=r[s.level];o?o.unshift(s.tokenizer):r[s.level]=[s.tokenizer],s.start&&(s.level==="block"?r.startBlock?r.startBlock.push(s.start):r.startBlock=[s.start]:s.level==="inline"&&(r.startInline?r.startInline.push(s.start):r.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(r.childTokens[s.name]=s.childTokens)}),n.extensions=r),i.renderer){let s=this.defaults.renderer||new qc(this.defaults);for(let o in i.renderer){if(!(o in s))throw new Error(`renderer '${o}' does not exist`);if(["options","parser"].includes(o))continue;let l=o,c=i.renderer[l],u=s[l];s[l]=(...d)=>{let h=c.apply(s,d);return h===!1&&(h=u.apply(s,d)),h||""}}n.renderer=s}if(i.tokenizer){let s=this.defaults.tokenizer||new zc(this.defaults);for(let o in i.tokenizer){if(!(o in s))throw new Error(`tokenizer '${o}' does not exist`);if(["options","rules","lexer"].includes(o))continue;let l=o,c=i.tokenizer[l],u=s[l];s[l]=(...d)=>{let h=c.apply(s,d);return h===!1&&(h=u.apply(s,d)),h}}n.tokenizer=s}if(i.hooks){let s=this.defaults.hooks||new la;for(let o in i.hooks){if(!(o in s))throw new Error(`hook '${o}' does not exist`);if(["options","block"].includes(o))continue;let l=o,c=i.hooks[l],u=s[l];la.passThroughHooks.has(o)?s[l]=d=>{if(this.defaults.async&&la.passThroughHooksRespectAsync.has(o))return Promise.resolve(c.call(s,d)).then(p=>u.call(s,p));let h=c.call(s,d);return u.call(s,h)}:s[l]=(...d)=>{let h=c.apply(s,d);return h===!1&&(h=u.apply(s,d)),h}}n.hooks=s}if(i.walkTokens){let s=this.defaults.walkTokens,o=i.walkTokens;n.walkTokens=function(l){let c=[];return c.push(o.call(this,l)),s&&(c=c.concat(s.call(this,l))),c}}this.defaults={...this.defaults,...n}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,r){return Qr.lex(t,r??this.defaults)}parser(t,r){return Kr.parse(t,r??this.defaults)}parseMarkdown(t){return(r,i)=>{let n={...i},s={...this.defaults,...n},o=this.onError(!!s.silent,!!s.async);if(this.defaults.async===!0&&n.async===!1)return o(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof r>"u"||r===null)return o(new Error("marked(): input parameter is undefined or null"));if(typeof r!="string")return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));s.hooks&&(s.hooks.options=s,s.hooks.block=t);let l=s.hooks?s.hooks.provideLexer():t?Qr.lex:Qr.lexInline,c=s.hooks?s.hooks.provideParser():t?Kr.parse:Kr.parseInline;if(s.async)return Promise.resolve(s.hooks?s.hooks.preprocess(r):r).then(u=>l(u,s)).then(u=>s.hooks?s.hooks.processAllTokens(u):u).then(u=>s.walkTokens?Promise.all(this.walkTokens(u,s.walkTokens)).then(()=>u):u).then(u=>c(u,s)).then(u=>s.hooks?s.hooks.postprocess(u):u).catch(o);try{s.hooks&&(r=s.hooks.preprocess(r));let u=l(r,s);s.hooks&&(u=s.hooks.processAllTokens(u)),s.walkTokens&&this.walkTokens(u,s.walkTokens);let d=c(u,s);return s.hooks&&(d=s.hooks.postprocess(d)),d}catch(u){return o(u)}}}onError(t,r){return i=>{if(i.message+=`
Please report this to https://github.com/markedjs/marked.`,t){let n="<p>An error occurred:</p><pre>"+_r(i.message+"",!0)+"</pre>";return r?Promise.resolve(n):n}if(r)return Promise.reject(i);throw i}}},xn=new I4;function be(e,t){return xn.parse(e,t)}be.options=be.setOptions=function(e){return xn.setOptions(e),be.defaults=xn.defaults,t2(be.defaults),be};be.getDefaults=bg;be.defaults=Nn;be.use=function(...e){return xn.use(...e),be.defaults=xn.defaults,t2(be.defaults),be};be.walkTokens=function(e,t){return xn.walkTokens(e,t)};be.parseInline=xn.parseInline;be.Parser=Kr;be.parser=Kr.parse;be.Renderer=qc;be.TextRenderer=Tg;be.Lexer=Qr;be.lexer=Qr.lex;be.Tokenizer=zc;be.Hooks=la;be.parse=be;be.options;be.setOptions;be.use;be.walkTokens;be.parseInline;Kr.parse;Qr.lex;function h2(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var i=Array.from(typeof e=="string"?[e]:e);i[i.length-1]=i[i.length-1].replace(/\r?\n([\t ]*)$/,"");var n=i.reduce(function(l,c){var u=c.match(/\n([\t ]+|(?!\s).)/g);return u?l.concat(u.map(function(d){var h,p;return(p=(h=d.match(/[\t ]/g))===null||h===void 0?void 0:h.length)!==null&&p!==void 0?p:0})):l},[]);if(n.length){var s=new RegExp(`
[	 ]{`+Math.min.apply(Math,n)+"}","g");i=i.map(function(l){return l.replace(s,`
`)})}i[0]=i[0].replace(/^\r?\n/,"");var o=i[0];return t.forEach(function(l,c){var u=o.match(/(?:^|\n)( *)$/),d=u?u[1]:"",h=l;typeof l=="string"&&l.includes(`
`)&&(h=String(l).split(`
`).map(function(p,f){return f===0?p:""+d+p}).join(`
`)),o+=h+i[c+1]}),o}var $4={body:'<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/><text transform="translate(21.16 64.67)" style="fill: #fff; font-family: ArialMT, Arial; font-size: 67.75px;"><tspan x="0" y="0">?</tspan></text></g>',height:80,width:80},Cp=new Map,p2=new Map,F4=x(e=>{for(const t of e){if(!t.name)throw new Error('Invalid icon loader. Must have a "name" property with non-empty string value.');if(I.debug("Registering icon pack:",t.name),"loader"in t)p2.set(t.name,t.loader);else if("icons"in t)Cp.set(t.name,t.icons);else throw I.error("Invalid icon loader:",t),new Error('Invalid icon loader. Must have either "icons" or "loader" property.')}},"registerIconPacks"),f2=x(async(e,t)=>{const r=UO(e,!0,t!==void 0);if(!r)throw new Error(`Invalid icon name: ${e}`);const i=r.prefix||t;if(!i)throw new Error(`Icon name must contain a prefix: ${e}`);let n=Cp.get(i);if(!n){const o=p2.get(i);if(!o)throw new Error(`Icon set not found: ${r.prefix}`);try{n={...await o(),prefix:i},Cp.set(i,n)}catch(l){throw I.error(l),new Error(`Failed to load icon set: ${r.prefix}`)}}const s=HO(n,r.name);if(!s)throw new Error(`Icon not found: ${e}`);return s},"getRegisteredIconData"),U4=x(async e=>{try{return await f2(e),!0}catch{return!1}},"isIconAvailable"),Eo=x(async(e,t,r)=>{let i;try{i=await f2(e,t==null?void 0:t.fallbackPrefix)}catch(o){I.error(o),i=$4}const n=KO(i,t),s=r4(t4(n.body),{...n.attributes,...r});return ar(s,xt())},"getIconSVG");function g2(e,{markdownAutoWrap:t}){const i=e.replace(/<br\/>/g,`
`).replace(/\n{2,}/g,`
`),n=h2(i);return t===!1?n.replace(/ /g,"&nbsp;"):n}x(g2,"preprocessMarkdown");function m2(e,t={}){const r=g2(e,t),i=be.lexer(r),n=[[]];let s=0;function o(l,c="normal"){l.type==="text"?l.text.split(`
`).forEach((d,h)=>{h!==0&&(s++,n.push([])),d.split(" ").forEach(p=>{p=p.replace(/&#39;/g,"'"),p&&n[s].push({content:p,type:c})})}):l.type==="strong"||l.type==="em"?l.tokens.forEach(u=>{o(u,l.type)}):l.type==="html"&&n[s].push({content:l.text,type:"normal"})}return x(o,"processNode"),i.forEach(l=>{var c;l.type==="paragraph"?(c=l.tokens)==null||c.forEach(u=>{o(u)}):l.type==="html"?n[s].push({content:l.text,type:"normal"}):n[s].push({content:l.raw,type:"normal"})}),n}x(m2,"markdownToLines");function x2(e,{markdownAutoWrap:t}={}){const r=be.lexer(e);function i(n){var s,o,l;return n.type==="text"?t===!1?n.text.replace(/\n */g,"<br/>").replace(/ /g,"&nbsp;"):n.text.replace(/\n */g,"<br/>"):n.type==="strong"?`<strong>${(s=n.tokens)==null?void 0:s.map(i).join("")}</strong>`:n.type==="em"?`<em>${(o=n.tokens)==null?void 0:o.map(i).join("")}</em>`:n.type==="paragraph"?`<p>${(l=n.tokens)==null?void 0:l.map(i).join("")}</p>`:n.type==="space"?"":n.type==="html"?`${n.text}`:n.type==="escape"?n.text:(I.warn(`Unsupported markdown: ${n.type}`),n.raw)}return x(i,"output"),r.map(i).join("")}x(x2,"markdownToHTML");function y2(e){return Intl.Segmenter?[...new Intl.Segmenter().segment(e)].map(t=>t.segment):[...e]}x(y2,"splitTextToChars");function v2(e,t){const r=y2(t.content);return Eg(e,[],r,t.type)}x(v2,"splitWordToFitWidth");function Eg(e,t,r,i){if(r.length===0)return[{content:t.join(""),type:i},{content:"",type:i}];const[n,...s]=r,o=[...t,n];return e([{content:o.join(""),type:i}])?Eg(e,o,s,i):(t.length===0&&n&&(t.push(n),r.shift()),[{content:t.join(""),type:i},{content:r.join(""),type:i}])}x(Eg,"splitWordToFitWidthRecursion");function b2(e,t){if(e.some(({content:r})=>r.includes(`
`)))throw new Error("splitLineToFitWidth does not support newlines in the line");return Hc(e,t)}x(b2,"splitLineToFitWidth");function Hc(e,t,r=[],i=[]){if(e.length===0)return i.length>0&&r.push(i),r.length>0?r:[];let n="";e[0].content===" "&&(n=" ",e.shift());const s=e.shift()??{content:" ",type:"normal"},o=[...i];if(n!==""&&o.push({content:n,type:"normal"}),o.push(s),t(o))return Hc(e,t,r,o);if(i.length>0)r.push(i),e.unshift(s);else if(s.content){const[l,c]=v2(t,s);r.push([l]),c.content&&e.unshift(c)}return Hc(e,t,r)}x(Hc,"splitLineToFitWidthRecursion");function wp(e,t){t&&e.attr("style",t)}x(wp,"applyStyle");async function S2(e,t,r,i,n=!1,s=xt()){const o=e.append("foreignObject");o.attr("width",`${10*r}px`),o.attr("height",`${10*r}px`);const l=o.append("xhtml:div"),c=gs(t.label)?await Of(t.label.replace(Ns.lineBreakRegex,`
`),s):ar(t.label,s),u=t.isNode?"nodeLabel":"edgeLabel",d=l.append("span");d.html(c),wp(d,t.labelStyle),d.attr("class",`${u} ${i}`),wp(l,t.labelStyle),l.style("display","table-cell"),l.style("white-space","nowrap"),l.style("line-height","1.5"),l.style("max-width",r+"px"),l.style("text-align","center"),l.attr("xmlns","http://www.w3.org/1999/xhtml"),n&&l.attr("class","labelBkg");let h=l.node().getBoundingClientRect();return h.width===r&&(l.style("display","table"),l.style("white-space","break-spaces"),l.style("width",r+"px"),h=l.node().getBoundingClientRect()),o.node()}x(S2,"addHtmlSpan");function Pu(e,t,r){return e.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",t*r-.1+"em").attr("dy",r+"em")}x(Pu,"createTspan");function C2(e,t,r){const i=e.append("text"),n=Pu(i,1,t);Mu(n,r);const s=n.node().getComputedTextLength();return i.remove(),s}x(C2,"computeWidthOfText");function z4(e,t,r){var o;const i=e.append("text"),n=Pu(i,1,t);Mu(n,[{content:r,type:"normal"}]);const s=(o=n.node())==null?void 0:o.getBoundingClientRect();return s&&i.remove(),s}x(z4,"computeDimensionOfText");function w2(e,t,r,i=!1){const s=t.append("g"),o=s.insert("rect").attr("class","background").attr("style","stroke: none"),l=s.append("text").attr("y","-10.1");let c=0;for(const u of r){const d=x(p=>C2(s,1.1,p)<=e,"checkWidth"),h=d(u)?[u]:b2(u,d);for(const p of h){const f=Pu(l,c,1.1);Mu(f,p),c++}}if(i){const u=l.node().getBBox(),d=2;return o.attr("x",u.x-d).attr("y",u.y-d).attr("width",u.width+2*d).attr("height",u.height+2*d),s.node()}else return l.node()}x(w2,"createFormattedText");function Mu(e,t){e.text(""),t.forEach((r,i)=>{const n=e.append("tspan").attr("font-style",r.type==="em"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",r.type==="strong"?"bold":"normal");i===0?n.text(r.content):n.text(" "+r.content)})}x(Mu,"updateTextContentAndStyles");async function k2(e,t={}){const r=[];e.replace(/(fa[bklrs]?):fa-([\w-]+)/g,(n,s,o)=>(r.push((async()=>{const l=`${s}:${o}`;return await U4(l)?await Eo(l,void 0,{class:"label-icon"}):`<i class='${ar(n,t).replace(":"," ")}'></i>`})()),n));const i=await Promise.all(r);return e.replace(/(fa[bklrs]?):fa-([\w-]+)/g,()=>i.shift()??"")}x(k2,"replaceIconSubstring");var Fi=x(async(e,t="",{style:r="",isTitle:i=!1,classes:n="",useHtmlLabels:s=!0,isNode:o=!0,width:l=200,addSvgBackground:c=!1}={},u)=>{if(I.debug("XYZ createText",t,r,i,n,s,o,"addSvgBackground: ",c),s){const d=x2(t,u),h=await k2(_n(d),u),p=t.replace(/\\\\/g,"\\"),f={isNode:o,label:gs(t)?p:h,labelStyle:r.replace("fill:","color:")};return await S2(e,f,l,n,c,u)}else{const d=t.replace(/<br\s*\/?>/g,"<br/>"),h=m2(d.replace("<br>","<br/>"),u),p=w2(l,e,h,t?c:!1);if(o){/stroke:/.exec(r)&&(r=r.replace("stroke:","lineColor:"));const f=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");xe(p).attr("style",f)}else{const f=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/background:/g,"fill:");xe(p).select("rect").attr("style",f.replace(/background:/g,"fill:"));const g=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");xe(p).select("text").attr("style",g)}return p}},"createText");function Dd(e,t,r){if(e&&e.length){const[i,n]=t,s=Math.PI/180*r,o=Math.cos(s),l=Math.sin(s);for(const c of e){const[u,d]=c;c[0]=(u-i)*o-(d-n)*l+i,c[1]=(u-i)*l+(d-n)*o+n}}}function q4(e,t){return e[0]===t[0]&&e[1]===t[1]}function H4(e,t,r,i=1){const n=r,s=Math.max(t,.1),o=e[0]&&e[0][0]&&typeof e[0][0]=="number"?[e]:e,l=[0,0];if(n)for(const u of o)Dd(u,l,n);const c=function(u,d,h){const p=[];for(const v of u){const S=[...v];q4(S[0],S[S.length-1])||S.push([S[0][0],S[0][1]]),S.length>2&&p.push(S)}const f=[];d=Math.max(d,.1);const g=[];for(const v of p)for(let S=0;S<v.length-1;S++){const w=v[S],k=v[S+1];if(w[1]!==k[1]){const C=Math.min(w[1],k[1]);g.push({ymin:C,ymax:Math.max(w[1],k[1]),x:C===w[1]?w[0]:k[0],islope:(k[0]-w[0])/(k[1]-w[1])})}}if(g.sort((v,S)=>v.ymin<S.ymin?-1:v.ymin>S.ymin?1:v.x<S.x?-1:v.x>S.x?1:v.ymax===S.ymax?0:(v.ymax-S.ymax)/Math.abs(v.ymax-S.ymax)),!g.length)return f;let m=[],b=g[0].ymin,y=0;for(;m.length||g.length;){if(g.length){let v=-1;for(let S=0;S<g.length&&!(g[S].ymin>b);S++)v=S;g.splice(0,v+1).forEach(S=>{m.push({s:b,edge:S})})}if(m=m.filter(v=>!(v.edge.ymax<=b)),m.sort((v,S)=>v.edge.x===S.edge.x?0:(v.edge.x-S.edge.x)/Math.abs(v.edge.x-S.edge.x)),(h!==1||y%d==0)&&m.length>1)for(let v=0;v<m.length;v+=2){const S=v+1;if(S>=m.length)break;const w=m[v].edge,k=m[S].edge;f.push([[Math.round(w.x),b],[Math.round(k.x),b]])}b+=h,m.forEach(v=>{v.edge.x=v.edge.x+h*v.edge.islope}),y++}return f}(o,s,i);if(n){for(const u of o)Dd(u,l,-n);(function(u,d,h){const p=[];u.forEach(f=>p.push(...f)),Dd(p,d,h)})(c,l,-n)}return c}function Ao(e,t){var r;const i=t.hachureAngle+90;let n=t.hachureGap;n<0&&(n=4*t.strokeWidth),n=Math.round(Math.max(n,.1));let s=1;return t.roughness>=1&&(((r=t.randomizer)===null||r===void 0?void 0:r.next())||Math.random())>.7&&(s=n),H4(e,n,i,s||1)}class Ag{constructor(t){this.helper=t}fillPolygons(t,r){return this._fillPolygons(t,r)}_fillPolygons(t,r){const i=Ao(t,r);return{type:"fillSketch",ops:this.renderLines(i,r)}}renderLines(t,r){const i=[];for(const n of t)i.push(...this.helper.doubleLineOps(n[0][0],n[0][1],n[1][0],n[1][1],r));return i}}function Bu(e){const t=e[0],r=e[1];return Math.sqrt(Math.pow(t[0]-r[0],2)+Math.pow(t[1]-r[1],2))}class W4 extends Ag{fillPolygons(t,r){let i=r.hachureGap;i<0&&(i=4*r.strokeWidth),i=Math.max(i,.1);const n=Ao(t,Object.assign({},r,{hachureGap:i})),s=Math.PI/180*r.hachureAngle,o=[],l=.5*i*Math.cos(s),c=.5*i*Math.sin(s);for(const[u,d]of n)Bu([u,d])&&o.push([[u[0]-l,u[1]+c],[...d]],[[u[0]+l,u[1]-c],[...d]]);return{type:"fillSketch",ops:this.renderLines(o,r)}}}class G4 extends Ag{fillPolygons(t,r){const i=this._fillPolygons(t,r),n=Object.assign({},r,{hachureAngle:r.hachureAngle+90}),s=this._fillPolygons(t,n);return i.ops=i.ops.concat(s.ops),i}}class V4{constructor(t){this.helper=t}fillPolygons(t,r){const i=Ao(t,r=Object.assign({},r,{hachureAngle:0}));return this.dotsOnLines(i,r)}dotsOnLines(t,r){const i=[];let n=r.hachureGap;n<0&&(n=4*r.strokeWidth),n=Math.max(n,.1);let s=r.fillWeight;s<0&&(s=r.strokeWidth/2);const o=n/4;for(const l of t){const c=Bu(l),u=c/n,d=Math.ceil(u)-1,h=c-d*n,p=(l[0][0]+l[1][0])/2-n/4,f=Math.min(l[0][1],l[1][1]);for(let g=0;g<d;g++){const m=f+h+g*n,b=p-o+2*Math.random()*o,y=m-o+2*Math.random()*o,v=this.helper.ellipse(b,y,s,s,r);i.push(...v.ops)}}return{type:"fillSketch",ops:i}}}class Y4{constructor(t){this.helper=t}fillPolygons(t,r){const i=Ao(t,r);return{type:"fillSketch",ops:this.dashedLine(i,r)}}dashedLine(t,r){const i=r.dashOffset<0?r.hachureGap<0?4*r.strokeWidth:r.hachureGap:r.dashOffset,n=r.dashGap<0?r.hachureGap<0?4*r.strokeWidth:r.hachureGap:r.dashGap,s=[];return t.forEach(o=>{const l=Bu(o),c=Math.floor(l/(i+n)),u=(l+n-c*(i+n))/2;let d=o[0],h=o[1];d[0]>h[0]&&(d=o[1],h=o[0]);const p=Math.atan((h[1]-d[1])/(h[0]-d[0]));for(let f=0;f<c;f++){const g=f*(i+n),m=g+i,b=[d[0]+g*Math.cos(p)+u*Math.cos(p),d[1]+g*Math.sin(p)+u*Math.sin(p)],y=[d[0]+m*Math.cos(p)+u*Math.cos(p),d[1]+m*Math.sin(p)+u*Math.sin(p)];s.push(...this.helper.doubleLineOps(b[0],b[1],y[0],y[1],r))}}),s}}class X4{constructor(t){this.helper=t}fillPolygons(t,r){const i=r.hachureGap<0?4*r.strokeWidth:r.hachureGap,n=r.zigzagOffset<0?i:r.zigzagOffset,s=Ao(t,r=Object.assign({},r,{hachureGap:i+n}));return{type:"fillSketch",ops:this.zigzagLines(s,n,r)}}zigzagLines(t,r,i){const n=[];return t.forEach(s=>{const o=Bu(s),l=Math.round(o/(2*r));let c=s[0],u=s[1];c[0]>u[0]&&(c=s[1],u=s[0]);const d=Math.atan((u[1]-c[1])/(u[0]-c[0]));for(let h=0;h<l;h++){const p=2*h*r,f=2*(h+1)*r,g=Math.sqrt(2*Math.pow(r,2)),m=[c[0]+p*Math.cos(d),c[1]+p*Math.sin(d)],b=[c[0]+f*Math.cos(d),c[1]+f*Math.sin(d)],y=[m[0]+g*Math.cos(d+Math.PI/4),m[1]+g*Math.sin(d+Math.PI/4)];n.push(...this.helper.doubleLineOps(m[0],m[1],y[0],y[1],i),...this.helper.doubleLineOps(y[0],y[1],b[0],b[1],i))}}),n}}const Mt={};class Q4{constructor(t){this.seed=t}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const K4=0,Od=1,R0=2,cl={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function Id(e,t){return e.type===t}function Rg(e){const t=[],r=function(o){const l=new Array;for(;o!=="";)if(o.match(/^([ \t\r\n,]+)/))o=o.substr(RegExp.$1.length);else if(o.match(/^([aAcChHlLmMqQsStTvVzZ])/))l[l.length]={type:K4,text:RegExp.$1},o=o.substr(RegExp.$1.length);else{if(!o.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];l[l.length]={type:Od,text:`${parseFloat(RegExp.$1)}`},o=o.substr(RegExp.$1.length)}return l[l.length]={type:R0,text:""},l}(e);let i="BOD",n=0,s=r[n];for(;!Id(s,R0);){let o=0;const l=[];if(i==="BOD"){if(s.text!=="M"&&s.text!=="m")return Rg("M0,0"+e);n++,o=cl[s.text],i=s.text}else Id(s,Od)?o=cl[i]:(n++,o=cl[s.text],i=s.text);if(!(n+o<r.length))throw new Error("Path data ended short");for(let c=n;c<n+o;c++){const u=r[c];if(!Id(u,Od))throw new Error("Param not a number: "+i+","+u.text);l[l.length]=+u.text}if(typeof cl[i]!="number")throw new Error("Bad segment: "+i);{const c={key:i,data:l};t.push(c),n+=o,s=r[n],i==="M"&&(i="L"),i==="m"&&(i="l")}}return t}function j2(e){let t=0,r=0,i=0,n=0;const s=[];for(const{key:o,data:l}of e)switch(o){case"M":s.push({key:"M",data:[...l]}),[t,r]=l,[i,n]=l;break;case"m":t+=l[0],r+=l[1],s.push({key:"M",data:[t,r]}),i=t,n=r;break;case"L":s.push({key:"L",data:[...l]}),[t,r]=l;break;case"l":t+=l[0],r+=l[1],s.push({key:"L",data:[t,r]});break;case"C":s.push({key:"C",data:[...l]}),t=l[4],r=l[5];break;case"c":{const c=l.map((u,d)=>d%2?u+r:u+t);s.push({key:"C",data:c}),t=c[4],r=c[5];break}case"Q":s.push({key:"Q",data:[...l]}),t=l[2],r=l[3];break;case"q":{const c=l.map((u,d)=>d%2?u+r:u+t);s.push({key:"Q",data:c}),t=c[2],r=c[3];break}case"A":s.push({key:"A",data:[...l]}),t=l[5],r=l[6];break;case"a":t+=l[5],r+=l[6],s.push({key:"A",data:[l[0],l[1],l[2],l[3],l[4],t,r]});break;case"H":s.push({key:"H",data:[...l]}),t=l[0];break;case"h":t+=l[0],s.push({key:"H",data:[t]});break;case"V":s.push({key:"V",data:[...l]}),r=l[0];break;case"v":r+=l[0],s.push({key:"V",data:[r]});break;case"S":s.push({key:"S",data:[...l]}),t=l[2],r=l[3];break;case"s":{const c=l.map((u,d)=>d%2?u+r:u+t);s.push({key:"S",data:c}),t=c[2],r=c[3];break}case"T":s.push({key:"T",data:[...l]}),t=l[0],r=l[1];break;case"t":t+=l[0],r+=l[1],s.push({key:"T",data:[t,r]});break;case"Z":case"z":s.push({key:"Z",data:[]}),t=i,r=n}return s}function _2(e){const t=[];let r="",i=0,n=0,s=0,o=0,l=0,c=0;for(const{key:u,data:d}of e){switch(u){case"M":t.push({key:"M",data:[...d]}),[i,n]=d,[s,o]=d;break;case"C":t.push({key:"C",data:[...d]}),i=d[4],n=d[5],l=d[2],c=d[3];break;case"L":t.push({key:"L",data:[...d]}),[i,n]=d;break;case"H":i=d[0],t.push({key:"L",data:[i,n]});break;case"V":n=d[0],t.push({key:"L",data:[i,n]});break;case"S":{let h=0,p=0;r==="C"||r==="S"?(h=i+(i-l),p=n+(n-c)):(h=i,p=n),t.push({key:"C",data:[h,p,...d]}),l=d[0],c=d[1],i=d[2],n=d[3];break}case"T":{const[h,p]=d;let f=0,g=0;r==="Q"||r==="T"?(f=i+(i-l),g=n+(n-c)):(f=i,g=n);const m=i+2*(f-i)/3,b=n+2*(g-n)/3,y=h+2*(f-h)/3,v=p+2*(g-p)/3;t.push({key:"C",data:[m,b,y,v,h,p]}),l=f,c=g,i=h,n=p;break}case"Q":{const[h,p,f,g]=d,m=i+2*(h-i)/3,b=n+2*(p-n)/3,y=f+2*(h-f)/3,v=g+2*(p-g)/3;t.push({key:"C",data:[m,b,y,v,f,g]}),l=h,c=p,i=f,n=g;break}case"A":{const h=Math.abs(d[0]),p=Math.abs(d[1]),f=d[2],g=d[3],m=d[4],b=d[5],y=d[6];h===0||p===0?(t.push({key:"C",data:[i,n,b,y,b,y]}),i=b,n=y):(i!==b||n!==y)&&(N2(i,n,b,y,h,p,f,g,m).forEach(function(v){t.push({key:"C",data:v})}),i=b,n=y);break}case"Z":t.push({key:"Z",data:[]}),i=s,n=o}r=u}return t}function Js(e,t,r){return[e*Math.cos(r)-t*Math.sin(r),e*Math.sin(r)+t*Math.cos(r)]}function N2(e,t,r,i,n,s,o,l,c,u){const d=(h=o,Math.PI*h/180);var h;let p=[],f=0,g=0,m=0,b=0;if(u)[f,g,m,b]=u;else{[e,t]=Js(e,t,-d),[r,i]=Js(r,i,-d);const $=(e-r)/2,P=(t-i)/2;let R=$*$/(n*n)+P*P/(s*s);R>1&&(R=Math.sqrt(R),n*=R,s*=R);const A=n*n,B=s*s,_=A*B-A*P*P-B*$*$,D=A*P*P+B*$*$,F=(l===c?-1:1)*Math.sqrt(Math.abs(_/D));m=F*n*P/s+(e+r)/2,b=F*-s*$/n+(t+i)/2,f=Math.asin(parseFloat(((t-b)/s).toFixed(9))),g=Math.asin(parseFloat(((i-b)/s).toFixed(9))),e<m&&(f=Math.PI-f),r<m&&(g=Math.PI-g),f<0&&(f=2*Math.PI+f),g<0&&(g=2*Math.PI+g),c&&f>g&&(f-=2*Math.PI),!c&&g>f&&(g-=2*Math.PI)}let y=g-f;if(Math.abs(y)>120*Math.PI/180){const $=g,P=r,R=i;g=c&&g>f?f+120*Math.PI/180*1:f+120*Math.PI/180*-1,p=N2(r=m+n*Math.cos(g),i=b+s*Math.sin(g),P,R,n,s,o,0,c,[g,$,m,b])}y=g-f;const v=Math.cos(f),S=Math.sin(f),w=Math.cos(g),k=Math.sin(g),C=Math.tan(y/4),j=4/3*n*C,E=4/3*s*C,O=[e,t],M=[e+j*S,t-E*v],L=[r+j*k,i-E*w],H=[r,i];if(M[0]=2*O[0]-M[0],M[1]=2*O[1]-M[1],u)return[M,L,H].concat(p);{p=[M,L,H].concat(p);const $=[];for(let P=0;P<p.length;P+=3){const R=Js(p[P][0],p[P][1],d),A=Js(p[P+1][0],p[P+1][1],d),B=Js(p[P+2][0],p[P+2][1],d);$.push([R[0],R[1],A[0],A[1],B[0],B[1]])}return $}}const J4={randOffset:function(e,t){return ae(e,t)},randOffsetWithRange:function(e,t,r){return Wc(e,t,r)},ellipse:function(e,t,r,i,n){const s=E2(r,i,n);return kp(e,t,n,s).opset},doubleLineOps:function(e,t,r,i,n){return Mi(e,t,r,i,n,!0)}};function T2(e,t,r,i,n){return{type:"path",ops:Mi(e,t,r,i,n)}}function Il(e,t,r){const i=(e||[]).length;if(i>2){const n=[];for(let s=0;s<i-1;s++)n.push(...Mi(e[s][0],e[s][1],e[s+1][0],e[s+1][1],r));return t&&n.push(...Mi(e[i-1][0],e[i-1][1],e[0][0],e[0][1],r)),{type:"path",ops:n}}return i===2?T2(e[0][0],e[0][1],e[1][0],e[1][1],r):{type:"path",ops:[]}}function Z4(e,t,r,i,n){return function(s,o){return Il(s,!0,o)}([[e,t],[e+r,t],[e+r,t+i],[e,t+i]],n)}function L0(e,t){if(e.length){const r=typeof e[0][0]=="number"?[e]:e,i=ul(r[0],1*(1+.2*t.roughness),t),n=t.disableMultiStroke?[]:ul(r[0],1.5*(1+.22*t.roughness),B0(t));for(let s=1;s<r.length;s++){const o=r[s];if(o.length){const l=ul(o,1*(1+.2*t.roughness),t),c=t.disableMultiStroke?[]:ul(o,1.5*(1+.22*t.roughness),B0(t));for(const u of l)u.op!=="move"&&i.push(u);for(const u of c)u.op!=="move"&&n.push(u)}}return{type:"path",ops:i.concat(n)}}return{type:"path",ops:[]}}function E2(e,t,r){const i=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(e/2,2)+Math.pow(t/2,2))/2)),n=Math.ceil(Math.max(r.curveStepCount,r.curveStepCount/Math.sqrt(200)*i)),s=2*Math.PI/n;let o=Math.abs(e/2),l=Math.abs(t/2);const c=1-r.curveFitting;return o+=ae(o*c,r),l+=ae(l*c,r),{increment:s,rx:o,ry:l}}function kp(e,t,r,i){const[n,s]=D0(i.increment,e,t,i.rx,i.ry,1,i.increment*Wc(.1,Wc(.4,1,r),r),r);let o=Gc(n,null,r);if(!r.disableMultiStroke&&r.roughness!==0){const[l]=D0(i.increment,e,t,i.rx,i.ry,1.5,0,r),c=Gc(l,null,r);o=o.concat(c)}return{estimatedPoints:s,opset:{type:"path",ops:o}}}function P0(e,t,r,i,n,s,o,l,c){const u=e,d=t;let h=Math.abs(r/2),p=Math.abs(i/2);h+=ae(.01*h,c),p+=ae(.01*p,c);let f=n,g=s;for(;f<0;)f+=2*Math.PI,g+=2*Math.PI;g-f>2*Math.PI&&(f=0,g=2*Math.PI);const m=2*Math.PI/c.curveStepCount,b=Math.min(m/2,(g-f)/2),y=O0(b,u,d,h,p,f,g,1,c);if(!c.disableMultiStroke){const v=O0(b,u,d,h,p,f,g,1.5,c);y.push(...v)}return o&&(l?y.push(...Mi(u,d,u+h*Math.cos(f),d+p*Math.sin(f),c),...Mi(u,d,u+h*Math.cos(g),d+p*Math.sin(g),c)):y.push({op:"lineTo",data:[u,d]},{op:"lineTo",data:[u+h*Math.cos(f),d+p*Math.sin(f)]})),{type:"path",ops:y}}function M0(e,t){const r=_2(j2(Rg(e))),i=[];let n=[0,0],s=[0,0];for(const{key:o,data:l}of r)switch(o){case"M":s=[l[0],l[1]],n=[l[0],l[1]];break;case"L":i.push(...Mi(s[0],s[1],l[0],l[1],t)),s=[l[0],l[1]];break;case"C":{const[c,u,d,h,p,f]=l;i.push(...eI(c,u,d,h,p,f,s,t)),s=[p,f];break}case"Z":i.push(...Mi(s[0],s[1],n[0],n[1],t)),s=[n[0],n[1]]}return{type:"path",ops:i}}function $d(e,t){const r=[];for(const i of e)if(i.length){const n=t.maxRandomnessOffset||0,s=i.length;if(s>2){r.push({op:"move",data:[i[0][0]+ae(n,t),i[0][1]+ae(n,t)]});for(let o=1;o<s;o++)r.push({op:"lineTo",data:[i[o][0]+ae(n,t),i[o][1]+ae(n,t)]})}}return{type:"fillPath",ops:r}}function Dn(e,t){return function(r,i){let n=r.fillStyle||"hachure";if(!Mt[n])switch(n){case"zigzag":Mt[n]||(Mt[n]=new W4(i));break;case"cross-hatch":Mt[n]||(Mt[n]=new G4(i));break;case"dots":Mt[n]||(Mt[n]=new V4(i));break;case"dashed":Mt[n]||(Mt[n]=new Y4(i));break;case"zigzag-line":Mt[n]||(Mt[n]=new X4(i));break;default:n="hachure",Mt[n]||(Mt[n]=new Ag(i))}return Mt[n]}(t,J4).fillPolygons(e,t)}function B0(e){const t=Object.assign({},e);return t.randomizer=void 0,e.seed&&(t.seed=e.seed+1),t}function A2(e){return e.randomizer||(e.randomizer=new Q4(e.seed||0)),e.randomizer.next()}function Wc(e,t,r,i=1){return r.roughness*i*(A2(r)*(t-e)+e)}function ae(e,t,r=1){return Wc(-e,e,t,r)}function Mi(e,t,r,i,n,s=!1){const o=s?n.disableMultiStrokeFill:n.disableMultiStroke,l=jp(e,t,r,i,n,!0,!1);if(o)return l;const c=jp(e,t,r,i,n,!0,!0);return l.concat(c)}function jp(e,t,r,i,n,s,o){const l=Math.pow(e-r,2)+Math.pow(t-i,2),c=Math.sqrt(l);let u=1;u=c<200?1:c>500?.4:-.0016668*c+1.233334;let d=n.maxRandomnessOffset||0;d*d*100>l&&(d=c/10);const h=d/2,p=.2+.2*A2(n);let f=n.bowing*n.maxRandomnessOffset*(i-t)/200,g=n.bowing*n.maxRandomnessOffset*(e-r)/200;f=ae(f,n,u),g=ae(g,n,u);const m=[],b=()=>ae(h,n,u),y=()=>ae(d,n,u),v=n.preserveVertices;return s&&(o?m.push({op:"move",data:[e+(v?0:b()),t+(v?0:b())]}):m.push({op:"move",data:[e+(v?0:ae(d,n,u)),t+(v?0:ae(d,n,u))]})),o?m.push({op:"bcurveTo",data:[f+e+(r-e)*p+b(),g+t+(i-t)*p+b(),f+e+2*(r-e)*p+b(),g+t+2*(i-t)*p+b(),r+(v?0:b()),i+(v?0:b())]}):m.push({op:"bcurveTo",data:[f+e+(r-e)*p+y(),g+t+(i-t)*p+y(),f+e+2*(r-e)*p+y(),g+t+2*(i-t)*p+y(),r+(v?0:y()),i+(v?0:y())]}),m}function ul(e,t,r){if(!e.length)return[];const i=[];i.push([e[0][0]+ae(t,r),e[0][1]+ae(t,r)]),i.push([e[0][0]+ae(t,r),e[0][1]+ae(t,r)]);for(let n=1;n<e.length;n++)i.push([e[n][0]+ae(t,r),e[n][1]+ae(t,r)]),n===e.length-1&&i.push([e[n][0]+ae(t,r),e[n][1]+ae(t,r)]);return Gc(i,null,r)}function Gc(e,t,r){const i=e.length,n=[];if(i>3){const s=[],o=1-r.curveTightness;n.push({op:"move",data:[e[1][0],e[1][1]]});for(let l=1;l+2<i;l++){const c=e[l];s[0]=[c[0],c[1]],s[1]=[c[0]+(o*e[l+1][0]-o*e[l-1][0])/6,c[1]+(o*e[l+1][1]-o*e[l-1][1])/6],s[2]=[e[l+1][0]+(o*e[l][0]-o*e[l+2][0])/6,e[l+1][1]+(o*e[l][1]-o*e[l+2][1])/6],s[3]=[e[l+1][0],e[l+1][1]],n.push({op:"bcurveTo",data:[s[1][0],s[1][1],s[2][0],s[2][1],s[3][0],s[3][1]]})}if(t&&t.length===2){const l=r.maxRandomnessOffset;n.push({op:"lineTo",data:[t[0]+ae(l,r),t[1]+ae(l,r)]})}}else i===3?(n.push({op:"move",data:[e[1][0],e[1][1]]}),n.push({op:"bcurveTo",data:[e[1][0],e[1][1],e[2][0],e[2][1],e[2][0],e[2][1]]})):i===2&&n.push(...jp(e[0][0],e[0][1],e[1][0],e[1][1],r,!0,!0));return n}function D0(e,t,r,i,n,s,o,l){const c=[],u=[];if(l.roughness===0){e/=4,u.push([t+i*Math.cos(-e),r+n*Math.sin(-e)]);for(let d=0;d<=2*Math.PI;d+=e){const h=[t+i*Math.cos(d),r+n*Math.sin(d)];c.push(h),u.push(h)}u.push([t+i*Math.cos(0),r+n*Math.sin(0)]),u.push([t+i*Math.cos(e),r+n*Math.sin(e)])}else{const d=ae(.5,l)-Math.PI/2;u.push([ae(s,l)+t+.9*i*Math.cos(d-e),ae(s,l)+r+.9*n*Math.sin(d-e)]);const h=2*Math.PI+d-.01;for(let p=d;p<h;p+=e){const f=[ae(s,l)+t+i*Math.cos(p),ae(s,l)+r+n*Math.sin(p)];c.push(f),u.push(f)}u.push([ae(s,l)+t+i*Math.cos(d+2*Math.PI+.5*o),ae(s,l)+r+n*Math.sin(d+2*Math.PI+.5*o)]),u.push([ae(s,l)+t+.98*i*Math.cos(d+o),ae(s,l)+r+.98*n*Math.sin(d+o)]),u.push([ae(s,l)+t+.9*i*Math.cos(d+.5*o),ae(s,l)+r+.9*n*Math.sin(d+.5*o)])}return[u,c]}function O0(e,t,r,i,n,s,o,l,c){const u=s+ae(.1,c),d=[];d.push([ae(l,c)+t+.9*i*Math.cos(u-e),ae(l,c)+r+.9*n*Math.sin(u-e)]);for(let h=u;h<=o;h+=e)d.push([ae(l,c)+t+i*Math.cos(h),ae(l,c)+r+n*Math.sin(h)]);return d.push([t+i*Math.cos(o),r+n*Math.sin(o)]),d.push([t+i*Math.cos(o),r+n*Math.sin(o)]),Gc(d,null,c)}function eI(e,t,r,i,n,s,o,l){const c=[],u=[l.maxRandomnessOffset||1,(l.maxRandomnessOffset||1)+.3];let d=[0,0];const h=l.disableMultiStroke?1:2,p=l.preserveVertices;for(let f=0;f<h;f++)f===0?c.push({op:"move",data:[o[0],o[1]]}):c.push({op:"move",data:[o[0]+(p?0:ae(u[0],l)),o[1]+(p?0:ae(u[0],l))]}),d=p?[n,s]:[n+ae(u[f],l),s+ae(u[f],l)],c.push({op:"bcurveTo",data:[e+ae(u[f],l),t+ae(u[f],l),r+ae(u[f],l),i+ae(u[f],l),d[0],d[1]]});return c}function Zs(e){return[...e]}function I0(e,t=0){const r=e.length;if(r<3)throw new Error("A curve must have at least three points.");const i=[];if(r===3)i.push(Zs(e[0]),Zs(e[1]),Zs(e[2]),Zs(e[2]));else{const n=[];n.push(e[0],e[0]);for(let l=1;l<e.length;l++)n.push(e[l]),l===e.length-1&&n.push(e[l]);const s=[],o=1-t;i.push(Zs(n[0]));for(let l=1;l+2<n.length;l++){const c=n[l];s[0]=[c[0],c[1]],s[1]=[c[0]+(o*n[l+1][0]-o*n[l-1][0])/6,c[1]+(o*n[l+1][1]-o*n[l-1][1])/6],s[2]=[n[l+1][0]+(o*n[l][0]-o*n[l+2][0])/6,n[l+1][1]+(o*n[l][1]-o*n[l+2][1])/6],s[3]=[n[l+1][0],n[l+1][1]],i.push(s[1],s[2],s[3])}}return i}function $l(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)}function tI(e,t,r){const i=$l(t,r);if(i===0)return $l(e,t);let n=((e[0]-t[0])*(r[0]-t[0])+(e[1]-t[1])*(r[1]-t[1]))/i;return n=Math.max(0,Math.min(1,n)),$l(e,Yi(t,r,n))}function Yi(e,t,r){return[e[0]+(t[0]-e[0])*r,e[1]+(t[1]-e[1])*r]}function _p(e,t,r,i){const n=i||[];if(function(l,c){const u=l[c+0],d=l[c+1],h=l[c+2],p=l[c+3];let f=3*d[0]-2*u[0]-p[0];f*=f;let g=3*d[1]-2*u[1]-p[1];g*=g;let m=3*h[0]-2*p[0]-u[0];m*=m;let b=3*h[1]-2*p[1]-u[1];return b*=b,f<m&&(f=m),g<b&&(g=b),f+g}(e,t)<r){const l=e[t+0];n.length?(s=n[n.length-1],o=l,Math.sqrt($l(s,o))>1&&n.push(l)):n.push(l),n.push(e[t+3])}else{const c=e[t+0],u=e[t+1],d=e[t+2],h=e[t+3],p=Yi(c,u,.5),f=Yi(u,d,.5),g=Yi(d,h,.5),m=Yi(p,f,.5),b=Yi(f,g,.5),y=Yi(m,b,.5);_p([c,p,m,y],0,r,n),_p([y,b,g,h],0,r,n)}var s,o;return n}function rI(e,t){return Vc(e,0,e.length,t)}function Vc(e,t,r,i,n){const s=n||[],o=e[t],l=e[r-1];let c=0,u=1;for(let d=t+1;d<r-1;++d){const h=tI(e[d],o,l);h>c&&(c=h,u=d)}return Math.sqrt(c)>i?(Vc(e,t,u+1,i,s),Vc(e,u,r,i,s)):(s.length||s.push(o),s.push(l)),s}function Fd(e,t=.15,r){const i=[],n=(e.length-1)/3;for(let s=0;s<n;s++)_p(e,3*s,t,i);return r&&r>0?Vc(i,0,i.length,r):i}const qt="none";class Yc{constructor(t){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=t||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(t){return t?Object.assign({},this.defaultOptions,t):this.defaultOptions}_d(t,r,i){return{shape:t,sets:r||[],options:i||this.defaultOptions}}line(t,r,i,n,s){const o=this._o(s);return this._d("line",[T2(t,r,i,n,o)],o)}rectangle(t,r,i,n,s){const o=this._o(s),l=[],c=Z4(t,r,i,n,o);if(o.fill){const u=[[t,r],[t+i,r],[t+i,r+n],[t,r+n]];o.fillStyle==="solid"?l.push($d([u],o)):l.push(Dn([u],o))}return o.stroke!==qt&&l.push(c),this._d("rectangle",l,o)}ellipse(t,r,i,n,s){const o=this._o(s),l=[],c=E2(i,n,o),u=kp(t,r,o,c);if(o.fill)if(o.fillStyle==="solid"){const d=kp(t,r,o,c).opset;d.type="fillPath",l.push(d)}else l.push(Dn([u.estimatedPoints],o));return o.stroke!==qt&&l.push(u.opset),this._d("ellipse",l,o)}circle(t,r,i,n){const s=this.ellipse(t,r,i,i,n);return s.shape="circle",s}linearPath(t,r){const i=this._o(r);return this._d("linearPath",[Il(t,!1,i)],i)}arc(t,r,i,n,s,o,l=!1,c){const u=this._o(c),d=[],h=P0(t,r,i,n,s,o,l,!0,u);if(l&&u.fill)if(u.fillStyle==="solid"){const p=Object.assign({},u);p.disableMultiStroke=!0;const f=P0(t,r,i,n,s,o,!0,!1,p);f.type="fillPath",d.push(f)}else d.push(function(p,f,g,m,b,y,v){const S=p,w=f;let k=Math.abs(g/2),C=Math.abs(m/2);k+=ae(.01*k,v),C+=ae(.01*C,v);let j=b,E=y;for(;j<0;)j+=2*Math.PI,E+=2*Math.PI;E-j>2*Math.PI&&(j=0,E=2*Math.PI);const O=(E-j)/v.curveStepCount,M=[];for(let L=j;L<=E;L+=O)M.push([S+k*Math.cos(L),w+C*Math.sin(L)]);return M.push([S+k*Math.cos(E),w+C*Math.sin(E)]),M.push([S,w]),Dn([M],v)}(t,r,i,n,s,o,u));return u.stroke!==qt&&d.push(h),this._d("arc",d,u)}curve(t,r){const i=this._o(r),n=[],s=L0(t,i);if(i.fill&&i.fill!==qt)if(i.fillStyle==="solid"){const o=L0(t,Object.assign(Object.assign({},i),{disableMultiStroke:!0,roughness:i.roughness?i.roughness+i.fillShapeRoughnessGain:0}));n.push({type:"fillPath",ops:this._mergedShape(o.ops)})}else{const o=[],l=t;if(l.length){const c=typeof l[0][0]=="number"?[l]:l;for(const u of c)u.length<3?o.push(...u):u.length===3?o.push(...Fd(I0([u[0],u[0],u[1],u[2]]),10,(1+i.roughness)/2)):o.push(...Fd(I0(u),10,(1+i.roughness)/2))}o.length&&n.push(Dn([o],i))}return i.stroke!==qt&&n.push(s),this._d("curve",n,i)}polygon(t,r){const i=this._o(r),n=[],s=Il(t,!0,i);return i.fill&&(i.fillStyle==="solid"?n.push($d([t],i)):n.push(Dn([t],i))),i.stroke!==qt&&n.push(s),this._d("polygon",n,i)}path(t,r){const i=this._o(r),n=[];if(!t)return this._d("path",n,i);t=(t||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const s=i.fill&&i.fill!=="transparent"&&i.fill!==qt,o=i.stroke!==qt,l=!!(i.simplification&&i.simplification<1),c=function(d,h,p){const f=_2(j2(Rg(d))),g=[];let m=[],b=[0,0],y=[];const v=()=>{y.length>=4&&m.push(...Fd(y,h)),y=[]},S=()=>{v(),m.length&&(g.push(m),m=[])};for(const{key:k,data:C}of f)switch(k){case"M":S(),b=[C[0],C[1]],m.push(b);break;case"L":v(),m.push([C[0],C[1]]);break;case"C":if(!y.length){const j=m.length?m[m.length-1]:b;y.push([j[0],j[1]])}y.push([C[0],C[1]]),y.push([C[2],C[3]]),y.push([C[4],C[5]]);break;case"Z":v(),m.push([b[0],b[1]])}if(S(),!p)return g;const w=[];for(const k of g){const C=rI(k,p);C.length&&w.push(C)}return w}(t,1,l?4-4*(i.simplification||1):(1+i.roughness)/2),u=M0(t,i);if(s)if(i.fillStyle==="solid")if(c.length===1){const d=M0(t,Object.assign(Object.assign({},i),{disableMultiStroke:!0,roughness:i.roughness?i.roughness+i.fillShapeRoughnessGain:0}));n.push({type:"fillPath",ops:this._mergedShape(d.ops)})}else n.push($d(c,i));else n.push(Dn(c,i));return o&&(l?c.forEach(d=>{n.push(Il(d,!1,i))}):n.push(u)),this._d("path",n,i)}opsToPath(t,r){let i="";for(const n of t.ops){const s=typeof r=="number"&&r>=0?n.data.map(o=>+o.toFixed(r)):n.data;switch(n.op){case"move":i+=`M${s[0]} ${s[1]} `;break;case"bcurveTo":i+=`C${s[0]} ${s[1]}, ${s[2]} ${s[3]}, ${s[4]} ${s[5]} `;break;case"lineTo":i+=`L${s[0]} ${s[1]} `}}return i.trim()}toPaths(t){const r=t.sets||[],i=t.options||this.defaultOptions,n=[];for(const s of r){let o=null;switch(s.type){case"path":o={d:this.opsToPath(s),stroke:i.stroke,strokeWidth:i.strokeWidth,fill:qt};break;case"fillPath":o={d:this.opsToPath(s),stroke:qt,strokeWidth:0,fill:i.fill||qt};break;case"fillSketch":o=this.fillSketch(s,i)}o&&n.push(o)}return n}fillSketch(t,r){let i=r.fillWeight;return i<0&&(i=r.strokeWidth/2),{d:this.opsToPath(t),stroke:r.fill||qt,strokeWidth:i,fill:qt}}_mergedShape(t){return t.filter((r,i)=>i===0||r.op!=="move")}}class iI{constructor(t,r){this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.gen=new Yc(r)}draw(t){const r=t.sets||[],i=t.options||this.getDefaultOptions(),n=this.ctx,s=t.options.fixedDecimalPlaceDigits;for(const o of r)switch(o.type){case"path":n.save(),n.strokeStyle=i.stroke==="none"?"transparent":i.stroke,n.lineWidth=i.strokeWidth,i.strokeLineDash&&n.setLineDash(i.strokeLineDash),i.strokeLineDashOffset&&(n.lineDashOffset=i.strokeLineDashOffset),this._drawToContext(n,o,s),n.restore();break;case"fillPath":{n.save(),n.fillStyle=i.fill||"";const l=t.shape==="curve"||t.shape==="polygon"||t.shape==="path"?"evenodd":"nonzero";this._drawToContext(n,o,s,l),n.restore();break}case"fillSketch":this.fillSketch(n,o,i)}}fillSketch(t,r,i){let n=i.fillWeight;n<0&&(n=i.strokeWidth/2),t.save(),i.fillLineDash&&t.setLineDash(i.fillLineDash),i.fillLineDashOffset&&(t.lineDashOffset=i.fillLineDashOffset),t.strokeStyle=i.fill||"",t.lineWidth=n,this._drawToContext(t,r,i.fixedDecimalPlaceDigits),t.restore()}_drawToContext(t,r,i,n="nonzero"){t.beginPath();for(const s of r.ops){const o=typeof i=="number"&&i>=0?s.data.map(l=>+l.toFixed(i)):s.data;switch(s.op){case"move":t.moveTo(o[0],o[1]);break;case"bcurveTo":t.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5]);break;case"lineTo":t.lineTo(o[0],o[1])}}r.type==="fillPath"?t.fill(n):t.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(t,r,i,n,s){const o=this.gen.line(t,r,i,n,s);return this.draw(o),o}rectangle(t,r,i,n,s){const o=this.gen.rectangle(t,r,i,n,s);return this.draw(o),o}ellipse(t,r,i,n,s){const o=this.gen.ellipse(t,r,i,n,s);return this.draw(o),o}circle(t,r,i,n){const s=this.gen.circle(t,r,i,n);return this.draw(s),s}linearPath(t,r){const i=this.gen.linearPath(t,r);return this.draw(i),i}polygon(t,r){const i=this.gen.polygon(t,r);return this.draw(i),i}arc(t,r,i,n,s,o,l=!1,c){const u=this.gen.arc(t,r,i,n,s,o,l,c);return this.draw(u),u}curve(t,r){const i=this.gen.curve(t,r);return this.draw(i),i}path(t,r){const i=this.gen.path(t,r);return this.draw(i),i}}const dl="http://www.w3.org/2000/svg";class nI{constructor(t,r){this.svg=t,this.gen=new Yc(r)}draw(t){const r=t.sets||[],i=t.options||this.getDefaultOptions(),n=this.svg.ownerDocument||window.document,s=n.createElementNS(dl,"g"),o=t.options.fixedDecimalPlaceDigits;for(const l of r){let c=null;switch(l.type){case"path":c=n.createElementNS(dl,"path"),c.setAttribute("d",this.opsToPath(l,o)),c.setAttribute("stroke",i.stroke),c.setAttribute("stroke-width",i.strokeWidth+""),c.setAttribute("fill","none"),i.strokeLineDash&&c.setAttribute("stroke-dasharray",i.strokeLineDash.join(" ").trim()),i.strokeLineDashOffset&&c.setAttribute("stroke-dashoffset",`${i.strokeLineDashOffset}`);break;case"fillPath":c=n.createElementNS(dl,"path"),c.setAttribute("d",this.opsToPath(l,o)),c.setAttribute("stroke","none"),c.setAttribute("stroke-width","0"),c.setAttribute("fill",i.fill||""),t.shape!=="curve"&&t.shape!=="polygon"||c.setAttribute("fill-rule","evenodd");break;case"fillSketch":c=this.fillSketch(n,l,i)}c&&s.appendChild(c)}return s}fillSketch(t,r,i){let n=i.fillWeight;n<0&&(n=i.strokeWidth/2);const s=t.createElementNS(dl,"path");return s.setAttribute("d",this.opsToPath(r,i.fixedDecimalPlaceDigits)),s.setAttribute("stroke",i.fill||""),s.setAttribute("stroke-width",n+""),s.setAttribute("fill","none"),i.fillLineDash&&s.setAttribute("stroke-dasharray",i.fillLineDash.join(" ").trim()),i.fillLineDashOffset&&s.setAttribute("stroke-dashoffset",`${i.fillLineDashOffset}`),s}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(t,r){return this.gen.opsToPath(t,r)}line(t,r,i,n,s){const o=this.gen.line(t,r,i,n,s);return this.draw(o)}rectangle(t,r,i,n,s){const o=this.gen.rectangle(t,r,i,n,s);return this.draw(o)}ellipse(t,r,i,n,s){const o=this.gen.ellipse(t,r,i,n,s);return this.draw(o)}circle(t,r,i,n){const s=this.gen.circle(t,r,i,n);return this.draw(s)}linearPath(t,r){const i=this.gen.linearPath(t,r);return this.draw(i)}polygon(t,r){const i=this.gen.polygon(t,r);return this.draw(i)}arc(t,r,i,n,s,o,l=!1,c){const u=this.gen.arc(t,r,i,n,s,o,l,c);return this.draw(u)}curve(t,r){const i=this.gen.curve(t,r);return this.draw(i)}path(t,r){const i=this.gen.path(t,r);return this.draw(i)}}var Q={canvas:(e,t)=>new iI(e,t),svg:(e,t)=>new nI(e,t),generator:e=>new Yc(e),newSeed:()=>Yc.newSeed()},oe=x(async(e,t,r)=>{var h,p;let i;const n=t.useHtmlLabels||Je((h=ve())==null?void 0:h.htmlLabels);r?i=r:i="node default";const s=e.insert("g").attr("class",i).attr("id",t.domId||t.id),o=s.insert("g").attr("class","label").attr("style",vt(t.labelStyle));let l;t.label===void 0?l="":l=typeof t.label=="string"?t.label:t.label[0];const c=await Fi(o,ar(_n(l),ve()),{useHtmlLabels:n,width:t.width||((p=ve().flowchart)==null?void 0:p.wrappingWidth),cssClasses:"markdown-node-label",style:t.labelStyle,addSvgBackground:!!t.icon||!!t.img});let u=c.getBBox();const d=((t==null?void 0:t.padding)??0)/2;if(n){const f=c.children[0],g=xe(c),m=f.getElementsByTagName("img");if(m){const b=l.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...m].map(y=>new Promise(v=>{function S(){if(y.style.display="flex",y.style.flexDirection="column",b){const w=ve().fontSize?ve().fontSize:window.getComputedStyle(document.body).fontSize,k=5,[C=zb.fontSize]=Au(w),j=C*k+"px";y.style.minWidth=j,y.style.maxWidth=j}else y.style.width="100%";v(y)}x(S,"setupImage"),setTimeout(()=>{y.complete&&S()}),y.addEventListener("error",S),y.addEventListener("load",S)})))}u=f.getBoundingClientRect(),g.attr("width",u.width),g.attr("height",u.height)}return n?o.attr("transform","translate("+-u.width/2+", "+-u.height/2+")"):o.attr("transform","translate(0, "+-u.height/2+")"),t.centerLabel&&o.attr("transform","translate("+-u.width/2+", "+-u.height/2+")"),o.insert("rect",":first-child"),{shapeSvg:s,bbox:u,halfPadding:d,label:o}},"labelHelper"),Ud=x(async(e,t,r)=>{var c,u,d,h,p,f;const i=r.useHtmlLabels||Je((u=(c=ve())==null?void 0:c.flowchart)==null?void 0:u.htmlLabels),n=e.insert("g").attr("class","label").attr("style",r.labelStyle||""),s=await Fi(n,ar(_n(t),ve()),{useHtmlLabels:i,width:r.width||((h=(d=ve())==null?void 0:d.flowchart)==null?void 0:h.wrappingWidth),style:r.labelStyle,addSvgBackground:!!r.icon||!!r.img});let o=s.getBBox();const l=r.padding/2;if(Je((f=(p=ve())==null?void 0:p.flowchart)==null?void 0:f.htmlLabels)){const g=s.children[0],m=xe(s);o=g.getBoundingClientRect(),m.attr("width",o.width),m.attr("height",o.height)}return i?n.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"):n.attr("transform","translate(0, "+-o.height/2+")"),r.centerLabel&&n.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"),n.insert("rect",":first-child"),{shapeSvg:e,bbox:o,halfPadding:l,label:n}},"insertLabel"),Z=x((e,t)=>{const r=t.node().getBBox();e.width=r.width,e.height=r.height},"updateNodeBounds"),ne=x((e,t)=>(e.look==="handDrawn"?"rough-node":"node")+" "+e.cssClasses+" "+(t||""),"getNodeClasses");function fe(e){const t=e.map((r,i)=>`${i===0?"M":"L"}${r.x},${r.y}`);return t.push("Z"),t.join(" ")}x(fe,"createPathFromPoints");function Bi(e,t,r,i,n,s){const o=[],c=r-e,u=i-t,d=c/s,h=2*Math.PI/d,p=t+u/2;for(let f=0;f<=50;f++){const g=f/50,m=e+g*c,b=p+n*Math.sin(h*(m-e));o.push({x:m,y:b})}return o}x(Bi,"generateFullSineWavePoints");function ro(e,t,r,i,n,s){const o=[],l=n*Math.PI/180,d=(s*Math.PI/180-l)/(i-1);for(let h=0;h<i;h++){const p=l+h*d,f=e+r*Math.cos(p),g=t+r*Math.sin(p);o.push({x:-f,y:-g})}return o}x(ro,"generateCirclePoints");var sI=x((e,t)=>{var r=e.x,i=e.y,n=t.x-r,s=t.y-i,o=e.width/2,l=e.height/2,c,u;return Math.abs(s)*o>Math.abs(n)*l?(s<0&&(l=-l),c=s===0?0:l*n/s,u=l):(n<0&&(o=-o),c=o,u=n===0?0:o*s/n),{x:r+c,y:i+u}},"intersectRect"),Rs=sI;function R2(e,t){t&&e.attr("style",t)}x(R2,"applyStyle");async function L2(e){const t=xe(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),r=t.append("xhtml:div"),i=ve();let n=e.label;e.label&&gs(e.label)&&(n=await Of(e.label.replace(Ns.lineBreakRegex,`
`),i));const o='<span class="'+(e.isNode?"nodeLabel":"edgeLabel")+'" '+(e.labelStyle?'style="'+e.labelStyle+'"':"")+">"+n+"</span>";return r.html(ar(o,i)),R2(r,e.labelStyle),r.style("display","inline-block"),r.style("padding-right","1px"),r.style("white-space","nowrap"),r.attr("xmlns","http://www.w3.org/1999/xhtml"),t.node()}x(L2,"addHtmlLabel");var aI=x(async(e,t,r,i)=>{let n=e||"";if(typeof n=="object"&&(n=n[0]),Je(ve().flowchart.htmlLabels)){n=n.replace(/\\n|\n/g,"<br />"),I.info("vertexText"+n);const s={isNode:i,label:_n(n).replace(/fa[blrs]?:fa-[\w-]+/g,l=>`<i class='${l.replace(":"," ")}'></i>`),labelStyle:t&&t.replace("fill:","color:")};return await L2(s)}else{const s=document.createElementNS("http://www.w3.org/2000/svg","text");s.setAttribute("style",t.replace("color:","fill:"));let o=[];typeof n=="string"?o=n.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(n)?o=n:o=[];for(const l of o){const c=document.createElementNS("http://www.w3.org/2000/svg","tspan");c.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),c.setAttribute("dy","1em"),c.setAttribute("x","0"),r?c.setAttribute("class","title-row"):c.setAttribute("class","row"),c.textContent=l.trim(),s.appendChild(c)}return s}},"createLabel"),rn=aI,Ui=x((e,t,r,i,n)=>["M",e+n,t,"H",e+r-n,"A",n,n,0,0,1,e+r,t+n,"V",t+i-n,"A",n,n,0,0,1,e+r-n,t+i,"H",e+n,"A",n,n,0,0,1,e,t+i-n,"V",t+n,"A",n,n,0,0,1,e+n,t,"Z"].join(" "),"createRoundedRectPathD"),P2=x(async(e,t)=>{I.info("Creating subgraph rect for ",t.id,t);const r=ve(),{themeVariables:i,handDrawnSeed:n}=r,{clusterBkg:s,clusterBorder:o}=i,{labelStyles:l,nodeStyles:c,borderStyles:u,backgroundStyles:d}=J(t),h=e.insert("g").attr("class","cluster "+t.cssClasses).attr("id",t.id).attr("data-look",t.look),p=Je(r.flowchart.htmlLabels),f=h.insert("g").attr("class","cluster-label "),g=await Fi(f,t.label,{style:t.labelStyle,useHtmlLabels:p,isNode:!0});let m=g.getBBox();if(Je(r.flowchart.htmlLabels)){const j=g.children[0],E=xe(g);m=j.getBoundingClientRect(),E.attr("width",m.width),E.attr("height",m.height)}const b=t.width<=m.width+t.padding?m.width+t.padding:t.width;t.width<=m.width+t.padding?t.diff=(b-t.width)/2-t.padding:t.diff=-t.padding;const y=t.height,v=t.x-b/2,S=t.y-y/2;I.trace("Data ",t,JSON.stringify(t));let w;if(t.look==="handDrawn"){const j=Q.svg(h),E=K(t,{roughness:.7,fill:s,stroke:o,fillWeight:3,seed:n}),O=j.path(Ui(v,S,b,y,0),E);w=h.insert(()=>(I.debug("Rough node insert CXC",O),O),":first-child"),w.select("path:nth-child(2)").attr("style",u.join(";")),w.select("path").attr("style",d.join(";").replace("fill","stroke"))}else w=h.insert("rect",":first-child"),w.attr("style",c).attr("rx",t.rx).attr("ry",t.ry).attr("x",v).attr("y",S).attr("width",b).attr("height",y);const{subGraphTitleTopMargin:k}=lg(r);if(f.attr("transform",`translate(${t.x-m.width/2}, ${t.y-t.height/2+k})`),l){const j=f.select("span");j&&j.attr("style",l)}const C=w.node().getBBox();return t.offsetX=0,t.width=C.width,t.height=C.height,t.offsetY=m.height-t.padding/2,t.intersect=function(j){return Rs(t,j)},{cluster:h,labelBBox:m}},"rect"),oI=x((e,t)=>{const r=e.insert("g").attr("class","note-cluster").attr("id",t.id),i=r.insert("rect",":first-child"),n=0*t.padding,s=n/2;i.attr("rx",t.rx).attr("ry",t.ry).attr("x",t.x-t.width/2-s).attr("y",t.y-t.height/2-s).attr("width",t.width+n).attr("height",t.height+n).attr("fill","none");const o=i.node().getBBox();return t.width=o.width,t.height=o.height,t.intersect=function(l){return Rs(t,l)},{cluster:r,labelBBox:{width:0,height:0}}},"noteGroup"),lI=x(async(e,t)=>{const r=ve(),{themeVariables:i,handDrawnSeed:n}=r,{altBackground:s,compositeBackground:o,compositeTitleBackground:l,nodeBorder:c}=i,u=e.insert("g").attr("class",t.cssClasses).attr("id",t.id).attr("data-id",t.id).attr("data-look",t.look),d=u.insert("g",":first-child"),h=u.insert("g").attr("class","cluster-label");let p=u.append("rect");const f=h.node().appendChild(await rn(t.label,t.labelStyle,void 0,!0));let g=f.getBBox();if(Je(r.flowchart.htmlLabels)){const O=f.children[0],M=xe(f);g=O.getBoundingClientRect(),M.attr("width",g.width),M.attr("height",g.height)}const m=0*t.padding,b=m/2,y=(t.width<=g.width+t.padding?g.width+t.padding:t.width)+m;t.width<=g.width+t.padding?t.diff=(y-t.width)/2-t.padding:t.diff=-t.padding;const v=t.height+m,S=t.height+m-g.height-6,w=t.x-y/2,k=t.y-v/2;t.width=y;const C=t.y-t.height/2-b+g.height+2;let j;if(t.look==="handDrawn"){const O=t.cssClasses.includes("statediagram-cluster-alt"),M=Q.svg(u),L=t.rx||t.ry?M.path(Ui(w,k,y,v,10),{roughness:.7,fill:l,fillStyle:"solid",stroke:c,seed:n}):M.rectangle(w,k,y,v,{seed:n});j=u.insert(()=>L,":first-child");const H=M.rectangle(w,C,y,S,{fill:O?s:o,fillStyle:O?"hachure":"solid",stroke:c,seed:n});j=u.insert(()=>L,":first-child"),p=u.insert(()=>H)}else{j=d.insert("rect",":first-child");const O="outer";j.attr("class",O).attr("x",w).attr("y",k).attr("width",y).attr("height",v).attr("data-look",t.look),p.attr("class","inner").attr("x",w).attr("y",C).attr("width",y).attr("height",S)}h.attr("transform",`translate(${t.x-g.width/2}, ${k+1-(Je(r.flowchart.htmlLabels)?0:3)})`);const E=j.node().getBBox();return t.height=E.height,t.offsetX=0,t.offsetY=g.height-t.padding/2,t.labelBBox=g,t.intersect=function(O){return Rs(t,O)},{cluster:u,labelBBox:g}},"roundedWithTitle"),cI=x(async(e,t)=>{I.info("Creating subgraph rect for ",t.id,t);const r=ve(),{themeVariables:i,handDrawnSeed:n}=r,{clusterBkg:s,clusterBorder:o}=i,{labelStyles:l,nodeStyles:c,borderStyles:u,backgroundStyles:d}=J(t),h=e.insert("g").attr("class","cluster "+t.cssClasses).attr("id",t.id).attr("data-look",t.look),p=Je(r.flowchart.htmlLabels),f=h.insert("g").attr("class","cluster-label "),g=await Fi(f,t.label,{style:t.labelStyle,useHtmlLabels:p,isNode:!0,width:t.width});let m=g.getBBox();if(Je(r.flowchart.htmlLabels)){const j=g.children[0],E=xe(g);m=j.getBoundingClientRect(),E.attr("width",m.width),E.attr("height",m.height)}const b=t.width<=m.width+t.padding?m.width+t.padding:t.width;t.width<=m.width+t.padding?t.diff=(b-t.width)/2-t.padding:t.diff=-t.padding;const y=t.height,v=t.x-b/2,S=t.y-y/2;I.trace("Data ",t,JSON.stringify(t));let w;if(t.look==="handDrawn"){const j=Q.svg(h),E=K(t,{roughness:.7,fill:s,stroke:o,fillWeight:4,seed:n}),O=j.path(Ui(v,S,b,y,t.rx),E);w=h.insert(()=>(I.debug("Rough node insert CXC",O),O),":first-child"),w.select("path:nth-child(2)").attr("style",u.join(";")),w.select("path").attr("style",d.join(";").replace("fill","stroke"))}else w=h.insert("rect",":first-child"),w.attr("style",c).attr("rx",t.rx).attr("ry",t.ry).attr("x",v).attr("y",S).attr("width",b).attr("height",y);const{subGraphTitleTopMargin:k}=lg(r);if(f.attr("transform",`translate(${t.x-m.width/2}, ${t.y-t.height/2+k})`),l){const j=f.select("span");j&&j.attr("style",l)}const C=w.node().getBBox();return t.offsetX=0,t.width=C.width,t.height=C.height,t.offsetY=m.height-t.padding/2,t.intersect=function(j){return Rs(t,j)},{cluster:h,labelBBox:m}},"kanbanSection"),uI=x((e,t)=>{const r=ve(),{themeVariables:i,handDrawnSeed:n}=r,{nodeBorder:s}=i,o=e.insert("g").attr("class",t.cssClasses).attr("id",t.id).attr("data-look",t.look),l=o.insert("g",":first-child"),c=0*t.padding,u=t.width+c;t.diff=-t.padding;const d=t.height+c,h=t.x-u/2,p=t.y-d/2;t.width=u;let f;if(t.look==="handDrawn"){const b=Q.svg(o).rectangle(h,p,u,d,{fill:"lightgrey",roughness:.5,strokeLineDash:[5],stroke:s,seed:n});f=o.insert(()=>b,":first-child")}else{f=l.insert("rect",":first-child");const m="divider";f.attr("class",m).attr("x",h).attr("y",p).attr("width",u).attr("height",d).attr("data-look",t.look)}const g=f.node().getBBox();return t.height=g.height,t.offsetX=0,t.offsetY=0,t.intersect=function(m){return Rs(t,m)},{cluster:o,labelBBox:{}}},"divider"),dI=P2,hI={rect:P2,squareRect:dI,roundedWithTitle:lI,noteGroup:oI,divider:uI,kanbanSection:cI},M2=new Map,pI=x(async(e,t)=>{const r=t.shape||"rect",i=await hI[r](e,t);return M2.set(t.id,i),i},"insertCluster"),s8=x(()=>{M2=new Map},"clear");function B2(e,t){return e.intersect(t)}x(B2,"intersectNode");var fI=B2;function D2(e,t,r,i){var n=e.x,s=e.y,o=n-i.x,l=s-i.y,c=Math.sqrt(t*t*l*l+r*r*o*o),u=Math.abs(t*r*o/c);i.x<n&&(u=-u);var d=Math.abs(t*r*l/c);return i.y<s&&(d=-d),{x:n+u,y:s+d}}x(D2,"intersectEllipse");var O2=D2;function I2(e,t,r){return O2(e,t,t,r)}x(I2,"intersectCircle");var gI=I2;function $2(e,t,r,i){{const n=t.y-e.y,s=e.x-t.x,o=t.x*e.y-e.x*t.y,l=n*r.x+s*r.y+o,c=n*i.x+s*i.y+o,u=1e-6;if(l!==0&&c!==0&&Np(l,c))return;const d=i.y-r.y,h=r.x-i.x,p=i.x*r.y-r.x*i.y,f=d*e.x+h*e.y+p,g=d*t.x+h*t.y+p;if(Math.abs(f)<u&&Math.abs(g)<u&&Np(f,g))return;const m=n*h-d*s;if(m===0)return;const b=Math.abs(m/2);let y=s*p-h*o;const v=y<0?(y-b)/m:(y+b)/m;y=d*o-n*p;const S=y<0?(y-b)/m:(y+b)/m;return{x:v,y:S}}}x($2,"intersectLine");function Np(e,t){return e*t>0}x(Np,"sameSign");var mI=$2;function F2(e,t,r){let i=e.x,n=e.y,s=[],o=Number.POSITIVE_INFINITY,l=Number.POSITIVE_INFINITY;typeof t.forEach=="function"?t.forEach(function(d){o=Math.min(o,d.x),l=Math.min(l,d.y)}):(o=Math.min(o,t.x),l=Math.min(l,t.y));let c=i-e.width/2-o,u=n-e.height/2-l;for(let d=0;d<t.length;d++){let h=t[d],p=t[d<t.length-1?d+1:0],f=mI(e,r,{x:c+h.x,y:u+h.y},{x:c+p.x,y:u+p.y});f&&s.push(f)}return s.length?(s.length>1&&s.sort(function(d,h){let p=d.x-r.x,f=d.y-r.y,g=Math.sqrt(p*p+f*f),m=h.x-r.x,b=h.y-r.y,y=Math.sqrt(m*m+b*b);return g<y?-1:g===y?0:1}),s[0]):e}x(F2,"intersectPolygon");var xI=F2,G={node:fI,circle:gI,ellipse:O2,polygon:xI,rect:Rs};function U2(e,t){const{labelStyles:r}=J(t);t.labelStyle=r;const i=ne(t);let n=i;i||(n="anchor");const s=e.insert("g").attr("class",n).attr("id",t.domId||t.id),o=1,{cssStyles:l}=t,c=Q.svg(s),u=K(t,{fill:"black",stroke:"none",fillStyle:"solid"});t.look!=="handDrawn"&&(u.roughness=0);const d=c.circle(0,0,o*2,u),h=s.insert(()=>d,":first-child");return h.attr("class","anchor").attr("style",vt(l)),Z(t,h),t.intersect=function(p){return I.info("Circle intersect",t,o,p),G.circle(t,o,p)},s}x(U2,"anchor");function Tp(e,t,r,i,n,s,o){const c=(e+r)/2,u=(t+i)/2,d=Math.atan2(i-t,r-e),h=(r-e)/2,p=(i-t)/2,f=h/n,g=p/s,m=Math.sqrt(f**2+g**2);if(m>1)throw new Error("The given radii are too small to create an arc between the points.");const b=Math.sqrt(1-m**2),y=c+b*s*Math.sin(d)*(o?-1:1),v=u-b*n*Math.cos(d)*(o?-1:1),S=Math.atan2((t-v)/s,(e-y)/n);let k=Math.atan2((i-v)/s,(r-y)/n)-S;o&&k<0&&(k+=2*Math.PI),!o&&k>0&&(k-=2*Math.PI);const C=[];for(let j=0;j<20;j++){const E=j/19,O=S+E*k,M=y+n*Math.cos(O),L=v+s*Math.sin(O);C.push({x:M,y:L})}return C}x(Tp,"generateArcPoints");async function z2(e,t){const{labelStyles:r,nodeStyles:i}=J(t);t.labelStyle=r;const{shapeSvg:n,bbox:s}=await oe(e,t,ne(t)),o=s.width+t.padding+20,l=s.height+t.padding,c=l/2,u=c/(2.5+l/50),{cssStyles:d}=t,h=[{x:o/2,y:-l/2},{x:-o/2,y:-l/2},...Tp(-o/2,-l/2,-o/2,l/2,u,c,!1),{x:o/2,y:l/2},...Tp(o/2,l/2,o/2,-l/2,u,c,!0)],p=Q.svg(n),f=K(t,{});t.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const g=fe(h),m=p.path(g,f),b=n.insert(()=>m,":first-child");return b.attr("class","basic label-container"),d&&t.look!=="handDrawn"&&b.selectAll("path").attr("style",d),i&&t.look!=="handDrawn"&&b.selectAll("path").attr("style",i),b.attr("transform",`translate(${u/2}, 0)`),Z(t,b),t.intersect=function(y){return G.polygon(t,h,y)},n}x(z2,"bowTieRect");function zi(e,t,r,i){return e.insert("polygon",":first-child").attr("points",i.map(function(n){return n.x+","+n.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-t/2+","+r/2+")")}x(zi,"insertPolygonShape");async function q2(e,t){const{labelStyles:r,nodeStyles:i}=J(t);t.labelStyle=r;const{shapeSvg:n,bbox:s}=await oe(e,t,ne(t)),o=s.height+t.padding,l=12,c=s.width+t.padding+l,u=0,d=c,h=-o,p=0,f=[{x:u+l,y:h},{x:d,y:h},{x:d,y:p},{x:u,y:p},{x:u,y:h+l},{x:u+l,y:h}];let g;const{cssStyles:m}=t;if(t.look==="handDrawn"){const b=Q.svg(n),y=K(t,{}),v=fe(f),S=b.path(v,y);g=n.insert(()=>S,":first-child").attr("transform",`translate(${-c/2}, ${o/2})`),m&&g.attr("style",m)}else g=zi(n,c,o,f);return i&&g.attr("style",i),Z(t,g),t.intersect=function(b){return G.polygon(t,f,b)},n}x(q2,"card");function H2(e,t){const{nodeStyles:r}=J(t);t.label="";const i=e.insert("g").attr("class",ne(t)).attr("id",t.domId??t.id),{cssStyles:n}=t,s=Math.max(28,t.width??0),o=[{x:0,y:s/2},{x:s/2,y:0},{x:0,y:-s/2},{x:-s/2,y:0}],l=Q.svg(i),c=K(t,{});t.look!=="handDrawn"&&(c.roughness=0,c.fillStyle="solid");const u=fe(o),d=l.path(u,c),h=i.insert(()=>d,":first-child");return n&&t.look!=="handDrawn"&&h.selectAll("path").attr("style",n),r&&t.look!=="handDrawn"&&h.selectAll("path").attr("style",r),t.width=28,t.height=28,t.intersect=function(p){return G.polygon(t,o,p)},i}x(H2,"choice");async function Lg(e,t,r){const{labelStyles:i,nodeStyles:n}=J(t);t.labelStyle=i;const{shapeSvg:s,bbox:o,halfPadding:l}=await oe(e,t,ne(t)),c=(r==null?void 0:r.padding)??l,u=o.width/2+c;let d;const{cssStyles:h}=t;if(t.look==="handDrawn"){const p=Q.svg(s),f=K(t,{}),g=p.circle(0,0,u*2,f);d=s.insert(()=>g,":first-child"),d.attr("class","basic label-container").attr("style",vt(h))}else d=s.insert("circle",":first-child").attr("class","basic label-container").attr("style",n).attr("r",u).attr("cx",0).attr("cy",0);return Z(t,d),t.calcIntersect=function(p,f){const g=p.width/2;return G.circle(p,g,f)},t.intersect=function(p){return I.info("Circle intersect",t,u,p),G.circle(t,u,p)},s}x(Lg,"circle");function W2(e){const t=Math.cos(Math.PI/4),r=Math.sin(Math.PI/4),i=e*2,n={x:i/2*t,y:i/2*r},s={x:-(i/2)*t,y:i/2*r},o={x:-(i/2)*t,y:-(i/2)*r},l={x:i/2*t,y:-(i/2)*r};return`M ${s.x},${s.y} L ${l.x},${l.y}
                   M ${n.x},${n.y} L ${o.x},${o.y}`}x(W2,"createLine");function G2(e,t){const{labelStyles:r,nodeStyles:i}=J(t);t.labelStyle=r,t.label="";const n=e.insert("g").attr("class",ne(t)).attr("id",t.domId??t.id),s=Math.max(30,(t==null?void 0:t.width)??0),{cssStyles:o}=t,l=Q.svg(n),c=K(t,{});t.look!=="handDrawn"&&(c.roughness=0,c.fillStyle="solid");const u=l.circle(0,0,s*2,c),d=W2(s),h=l.path(d,c),p=n.insert(()=>u,":first-child");return p.insert(()=>h),o&&t.look!=="handDrawn"&&p.selectAll("path").attr("style",o),i&&t.look!=="handDrawn"&&p.selectAll("path").attr("style",i),Z(t,p),t.intersect=function(f){return I.info("crossedCircle intersect",t,{radius:s,point:f}),G.circle(t,s,f)},n}x(G2,"crossedCircle");function Hr(e,t,r,i=100,n=0,s=180){const o=[],l=n*Math.PI/180,d=(s*Math.PI/180-l)/(i-1);for(let h=0;h<i;h++){const p=l+h*d,f=e+r*Math.cos(p),g=t+r*Math.sin(p);o.push({x:-f,y:-g})}return o}x(Hr,"generateCirclePoints");async function V2(e,t){const{labelStyles:r,nodeStyles:i}=J(t);t.labelStyle=r;const{shapeSvg:n,bbox:s,label:o}=await oe(e,t,ne(t)),l=s.width+(t.padding??0),c=s.height+(t.padding??0),u=Math.max(5,c*.1),{cssStyles:d}=t,h=[...Hr(l/2,-c/2,u,30,-90,0),{x:-l/2-u,y:u},...Hr(l/2+u*2,-u,u,20,-180,-270),...Hr(l/2+u*2,u,u,20,-90,-180),{x:-l/2-u,y:-c/2},...Hr(l/2,c/2,u,20,0,90)],p=[{x:l/2,y:-c/2-u},{x:-l/2,y:-c/2-u},...Hr(l/2,-c/2,u,20,-90,0),{x:-l/2-u,y:-u},...Hr(l/2+l*.1,-u,u,20,-180,-270),...Hr(l/2+l*.1,u,u,20,-90,-180),{x:-l/2-u,y:c/2},...Hr(l/2,c/2,u,20,0,90),{x:-l/2,y:c/2+u},{x:l/2,y:c/2+u}],f=Q.svg(n),g=K(t,{fill:"none"});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const b=fe(h).replace("Z",""),y=f.path(b,g),v=fe(p),S=f.path(v,{...g}),w=n.insert("g",":first-child");return w.insert(()=>S,":first-child").attr("stroke-opacity",0),w.insert(()=>y,":first-child"),w.attr("class","text"),d&&t.look!=="handDrawn"&&w.selectAll("path").attr("style",d),i&&t.look!=="handDrawn"&&w.selectAll("path").attr("style",i),w.attr("transform",`translate(${u}, 0)`),o.attr("transform",`translate(${-l/2+u-(s.x-(s.left??0))},${-c/2+(t.padding??0)/2-(s.y-(s.top??0))})`),Z(t,w),t.intersect=function(k){return G.polygon(t,p,k)},n}x(V2,"curlyBraceLeft");function Wr(e,t,r,i=100,n=0,s=180){const o=[],l=n*Math.PI/180,d=(s*Math.PI/180-l)/(i-1);for(let h=0;h<i;h++){const p=l+h*d,f=e+r*Math.cos(p),g=t+r*Math.sin(p);o.push({x:f,y:g})}return o}x(Wr,"generateCirclePoints");async function Y2(e,t){const{labelStyles:r,nodeStyles:i}=J(t);t.labelStyle=r;const{shapeSvg:n,bbox:s,label:o}=await oe(e,t,ne(t)),l=s.width+(t.padding??0),c=s.height+(t.padding??0),u=Math.max(5,c*.1),{cssStyles:d}=t,h=[...Wr(l/2,-c/2,u,20,-90,0),{x:l/2+u,y:-u},...Wr(l/2+u*2,-u,u,20,-180,-270),...Wr(l/2+u*2,u,u,20,-90,-180),{x:l/2+u,y:c/2},...Wr(l/2,c/2,u,20,0,90)],p=[{x:-l/2,y:-c/2-u},{x:l/2,y:-c/2-u},...Wr(l/2,-c/2,u,20,-90,0),{x:l/2+u,y:-u},...Wr(l/2+u*2,-u,u,20,-180,-270),...Wr(l/2+u*2,u,u,20,-90,-180),{x:l/2+u,y:c/2},...Wr(l/2,c/2,u,20,0,90),{x:l/2,y:c/2+u},{x:-l/2,y:c/2+u}],f=Q.svg(n),g=K(t,{fill:"none"});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const b=fe(h).replace("Z",""),y=f.path(b,g),v=fe(p),S=f.path(v,{...g}),w=n.insert("g",":first-child");return w.insert(()=>S,":first-child").attr("stroke-opacity",0),w.insert(()=>y,":first-child"),w.attr("class","text"),d&&t.look!=="handDrawn"&&w.selectAll("path").attr("style",d),i&&t.look!=="handDrawn"&&w.selectAll("path").attr("style",i),w.attr("transform",`translate(${-u}, 0)`),o.attr("transform",`translate(${-l/2+(t.padding??0)/2-(s.x-(s.left??0))},${-c/2+(t.padding??0)/2-(s.y-(s.top??0))})`),Z(t,w),t.intersect=function(k){return G.polygon(t,p,k)},n}x(Y2,"curlyBraceRight");function st(e,t,r,i=100,n=0,s=180){const o=[],l=n*Math.PI/180,d=(s*Math.PI/180-l)/(i-1);for(let h=0;h<i;h++){const p=l+h*d,f=e+r*Math.cos(p),g=t+r*Math.sin(p);o.push({x:-f,y:-g})}return o}x(st,"generateCirclePoints");async function X2(e,t){const{labelStyles:r,nodeStyles:i}=J(t);t.labelStyle=r;const{shapeSvg:n,bbox:s,label:o}=await oe(e,t,ne(t)),l=s.width+(t.padding??0),c=s.height+(t.padding??0),u=Math.max(5,c*.1),{cssStyles:d}=t,h=[...st(l/2,-c/2,u,30,-90,0),{x:-l/2-u,y:u},...st(l/2+u*2,-u,u,20,-180,-270),...st(l/2+u*2,u,u,20,-90,-180),{x:-l/2-u,y:-c/2},...st(l/2,c/2,u,20,0,90)],p=[...st(-l/2+u+u/2,-c/2,u,20,-90,-180),{x:l/2-u/2,y:u},...st(-l/2-u/2,-u,u,20,0,90),...st(-l/2-u/2,u,u,20,-90,0),{x:l/2-u/2,y:-u},...st(-l/2+u+u/2,c/2,u,30,-180,-270)],f=[{x:l/2,y:-c/2-u},{x:-l/2,y:-c/2-u},...st(l/2,-c/2,u,20,-90,0),{x:-l/2-u,y:-u},...st(l/2+u*2,-u,u,20,-180,-270),...st(l/2+u*2,u,u,20,-90,-180),{x:-l/2-u,y:c/2},...st(l/2,c/2,u,20,0,90),{x:-l/2,y:c/2+u},{x:l/2-u-u/2,y:c/2+u},...st(-l/2+u+u/2,-c/2,u,20,-90,-180),{x:l/2-u/2,y:u},...st(-l/2-u/2,-u,u,20,0,90),...st(-l/2-u/2,u,u,20,-90,0),{x:l/2-u/2,y:-u},...st(-l/2+u+u/2,c/2,u,30,-180,-270)],g=Q.svg(n),m=K(t,{fill:"none"});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const y=fe(h).replace("Z",""),v=g.path(y,m),w=fe(p).replace("Z",""),k=g.path(w,m),C=fe(f),j=g.path(C,{...m}),E=n.insert("g",":first-child");return E.insert(()=>j,":first-child").attr("stroke-opacity",0),E.insert(()=>v,":first-child"),E.insert(()=>k,":first-child"),E.attr("class","text"),d&&t.look!=="handDrawn"&&E.selectAll("path").attr("style",d),i&&t.look!=="handDrawn"&&E.selectAll("path").attr("style",i),E.attr("transform",`translate(${u-u/4}, 0)`),o.attr("transform",`translate(${-l/2+(t.padding??0)/2-(s.x-(s.left??0))},${-c/2+(t.padding??0)/2-(s.y-(s.top??0))})`),Z(t,E),t.intersect=function(O){return G.polygon(t,f,O)},n}x(X2,"curlyBraces");async function Q2(e,t){const{labelStyles:r,nodeStyles:i}=J(t);t.labelStyle=r;const{shapeSvg:n,bbox:s}=await oe(e,t,ne(t)),o=80,l=20,c=Math.max(o,(s.width+(t.padding??0)*2)*1.25,(t==null?void 0:t.width)??0),u=Math.max(l,s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),d=u/2,{cssStyles:h}=t,p=Q.svg(n),f=K(t,{});t.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const g=c,m=u,b=g-d,y=m/4,v=[{x:b,y:0},{x:y,y:0},{x:0,y:m/2},{x:y,y:m},{x:b,y:m},...ro(-b,-m/2,d,50,270,90)],S=fe(v),w=p.path(S,f),k=n.insert(()=>w,":first-child");return k.attr("class","basic label-container"),h&&t.look!=="handDrawn"&&k.selectChildren("path").attr("style",h),i&&t.look!=="handDrawn"&&k.selectChildren("path").attr("style",i),k.attr("transform",`translate(${-c/2}, ${-u/2})`),Z(t,k),t.intersect=function(C){return G.polygon(t,v,C)},n}x(Q2,"curvedTrapezoid");var yI=x((e,t,r,i,n,s)=>[`M${e},${t+s}`,`a${n},${s} 0,0,0 ${r},0`,`a${n},${s} 0,0,0 ${-r},0`,`l0,${i}`,`a${n},${s} 0,0,0 ${r},0`,`l0,${-i}`].join(" "),"createCylinderPathD"),vI=x((e,t,r,i,n,s)=>[`M${e},${t+s}`,`M${e+r},${t+s}`,`a${n},${s} 0,0,0 ${-r},0`,`l0,${i}`,`a${n},${s} 0,0,0 ${r},0`,`l0,${-i}`].join(" "),"createOuterCylinderPathD"),bI=x((e,t,r,i,n,s)=>[`M${e-r/2},${-i/2}`,`a${n},${s} 0,0,0 ${r},0`].join(" "),"createInnerCylinderPathD");async function K2(e,t){const{labelStyles:r,nodeStyles:i}=J(t);t.labelStyle=r;const{shapeSvg:n,bbox:s,label:o}=await oe(e,t,ne(t)),l=Math.max(s.width+t.padding,t.width??0),c=l/2,u=c/(2.5+l/50),d=Math.max(s.height+u+t.padding,t.height??0);let h;const{cssStyles:p}=t;if(t.look==="handDrawn"){const f=Q.svg(n),g=vI(0,0,l,d,c,u),m=bI(0,u,l,d,c,u),b=f.path(g,K(t,{})),y=f.path(m,K(t,{fill:"none"}));h=n.insert(()=>y,":first-child"),h=n.insert(()=>b,":first-child"),h.attr("class","basic label-container"),p&&h.attr("style",p)}else{const f=yI(0,0,l,d,c,u);h=n.insert("path",":first-child").attr("d",f).attr("class","basic label-container").attr("style",vt(p)).attr("style",i)}return h.attr("label-offset-y",u),h.attr("transform",`translate(${-l/2}, ${-(d/2+u)})`),Z(t,h),o.attr("transform",`translate(${-(s.width/2)-(s.x-(s.left??0))}, ${-(s.height/2)+(t.padding??0)/1.5-(s.y-(s.top??0))})`),t.intersect=function(f){const g=G.rect(t,f),m=g.x-(t.x??0);if(c!=0&&(Math.abs(m)<(t.width??0)/2||Math.abs(m)==(t.width??0)/2&&Math.abs(g.y-(t.y??0))>(t.height??0)/2-u)){let b=u*u*(1-m*m/(c*c));b>0&&(b=Math.sqrt(b)),b=u-b,f.y-(t.y??0)>0&&(b=-b),g.y+=b}return g},n}x(K2,"cylinder");async function J2(e,t){const{labelStyles:r,nodeStyles:i}=J(t);t.labelStyle=r;const{shapeSvg:n,bbox:s,label:o}=await oe(e,t,ne(t)),l=s.width+t.padding,c=s.height+t.padding,u=c*.2,d=-l/2,h=-c/2-u/2,{cssStyles:p}=t,f=Q.svg(n),g=K(t,{});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const m=[{x:d,y:h+u},{x:-d,y:h+u},{x:-d,y:-h},{x:d,y:-h},{x:d,y:h},{x:-d,y:h},{x:-d,y:h+u}],b=f.polygon(m.map(v=>[v.x,v.y]),g),y=n.insert(()=>b,":first-child");return y.attr("class","basic label-container"),p&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",p),i&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",i),o.attr("transform",`translate(${d+(t.padding??0)/2-(s.x-(s.left??0))}, ${h+u+(t.padding??0)/2-(s.y-(s.top??0))})`),Z(t,y),t.intersect=function(v){return G.rect(t,v)},n}x(J2,"dividedRectangle");async function Z2(e,t){var p,f;const{labelStyles:r,nodeStyles:i}=J(t);t.labelStyle=r;const{shapeSvg:n,bbox:s,halfPadding:o}=await oe(e,t,ne(t)),l=5,c=s.width/2+o+l,u=s.width/2+o;let d;const{cssStyles:h}=t;if(t.look==="handDrawn"){const g=Q.svg(n),m=K(t,{roughness:.2,strokeWidth:2.5}),b=K(t,{roughness:.2,strokeWidth:1.5}),y=g.circle(0,0,c*2,m),v=g.circle(0,0,u*2,b);d=n.insert("g",":first-child"),d.attr("class",vt(t.cssClasses)).attr("style",vt(h)),(p=d.node())==null||p.appendChild(y),(f=d.node())==null||f.appendChild(v)}else{d=n.insert("g",":first-child");const g=d.insert("circle",":first-child"),m=d.insert("circle");d.attr("class","basic label-container").attr("style",i),g.attr("class","outer-circle").attr("style",i).attr("r",c).attr("cx",0).attr("cy",0),m.attr("class","inner-circle").attr("style",i).attr("r",u).attr("cx",0).attr("cy",0)}return Z(t,d),t.intersect=function(g){return I.info("DoubleCircle intersect",t,c,g),G.circle(t,c,g)},n}x(Z2,"doublecircle");function ew(e,t,{config:{themeVariables:r}}){const{labelStyles:i,nodeStyles:n}=J(t);t.label="",t.labelStyle=i;const s=e.insert("g").attr("class",ne(t)).attr("id",t.domId??t.id),o=7,{cssStyles:l}=t,c=Q.svg(s),{nodeBorder:u}=r,d=K(t,{fillStyle:"solid"});t.look!=="handDrawn"&&(d.roughness=0);const h=c.circle(0,0,o*2,d),p=s.insert(()=>h,":first-child");return p.selectAll("path").attr("style",`fill: ${u} !important;`),l&&l.length>0&&t.look!=="handDrawn"&&p.selectAll("path").attr("style",l),n&&t.look!=="handDrawn"&&p.selectAll("path").attr("style",n),Z(t,p),t.intersect=function(f){return I.info("filledCircle intersect",t,{radius:o,point:f}),G.circle(t,o,f)},s}x(ew,"filledCircle");async function tw(e,t){const{labelStyles:r,nodeStyles:i}=J(t);t.labelStyle=r;const{shapeSvg:n,bbox:s,label:o}=await oe(e,t,ne(t)),l=s.width+(t.padding??0),c=l+s.height,u=l+s.height,d=[{x:0,y:-c},{x:u,y:-c},{x:u/2,y:0}],{cssStyles:h}=t,p=Q.svg(n),f=K(t,{});t.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const g=fe(d),m=p.path(g,f),b=n.insert(()=>m,":first-child").attr("transform",`translate(${-c/2}, ${c/2})`);return h&&t.look!=="handDrawn"&&b.selectChildren("path").attr("style",h),i&&t.look!=="handDrawn"&&b.selectChildren("path").attr("style",i),t.width=l,t.height=c,Z(t,b),o.attr("transform",`translate(${-s.width/2-(s.x-(s.left??0))}, ${-c/2+(t.padding??0)/2+(s.y-(s.top??0))})`),t.intersect=function(y){return I.info("Triangle intersect",t,d,y),G.polygon(t,d,y)},n}x(tw,"flippedTriangle");function rw(e,t,{dir:r,config:{state:i,themeVariables:n}}){const{nodeStyles:s}=J(t);t.label="";const o=e.insert("g").attr("class",ne(t)).attr("id",t.domId??t.id),{cssStyles:l}=t;let c=Math.max(70,(t==null?void 0:t.width)??0),u=Math.max(10,(t==null?void 0:t.height)??0);r==="LR"&&(c=Math.max(10,(t==null?void 0:t.width)??0),u=Math.max(70,(t==null?void 0:t.height)??0));const d=-1*c/2,h=-1*u/2,p=Q.svg(o),f=K(t,{stroke:n.lineColor,fill:n.lineColor});t.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const g=p.rectangle(d,h,c,u,f),m=o.insert(()=>g,":first-child");l&&t.look!=="handDrawn"&&m.selectAll("path").attr("style",l),s&&t.look!=="handDrawn"&&m.selectAll("path").attr("style",s),Z(t,m);const b=(i==null?void 0:i.padding)??0;return t.width&&t.height&&(t.width+=b/2||0,t.height+=b/2||0),t.intersect=function(y){return G.rect(t,y)},o}x(rw,"forkJoin");async function iw(e,t){const{labelStyles:r,nodeStyles:i}=J(t);t.labelStyle=r;const n=80,s=50,{shapeSvg:o,bbox:l}=await oe(e,t,ne(t)),c=Math.max(n,l.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),u=Math.max(s,l.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),d=u/2,{cssStyles:h}=t,p=Q.svg(o),f=K(t,{});t.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const g=[{x:-c/2,y:-u/2},{x:c/2-d,y:-u/2},...ro(-c/2+d,0,d,50,90,270),{x:c/2-d,y:u/2},{x:-c/2,y:u/2}],m=fe(g),b=p.path(m,f),y=o.insert(()=>b,":first-child");return y.attr("class","basic label-container"),h&&t.look!=="handDrawn"&&y.selectChildren("path").attr("style",h),i&&t.look!=="handDrawn"&&y.selectChildren("path").attr("style",i),Z(t,y),t.intersect=function(v){return I.info("Pill intersect",t,{radius:d,point:v}),G.polygon(t,g,v)},o}x(iw,"halfRoundedRectangle");async function nw(e,t){const{labelStyles:r,nodeStyles:i}=J(t);t.labelStyle=r;const{shapeSvg:n,bbox:s}=await oe(e,t,ne(t)),o=s.height+(t.padding??0),l=s.width+(t.padding??0)*2.5,{cssStyles:c}=t,u=Q.svg(n),d=K(t,{});t.look!=="handDrawn"&&(d.roughness=0,d.fillStyle="solid");let h=l/2;const p=h/6;h=h+p;const f=o/2,g=f/2,m=h-g,b=[{x:-m,y:-f},{x:0,y:-f},{x:m,y:-f},{x:h,y:0},{x:m,y:f},{x:0,y:f},{x:-m,y:f},{x:-h,y:0}],y=fe(b),v=u.path(y,d),S=n.insert(()=>v,":first-child");return S.attr("class","basic label-container"),c&&t.look!=="handDrawn"&&S.selectChildren("path").attr("style",c),i&&t.look!=="handDrawn"&&S.selectChildren("path").attr("style",i),t.width=l,t.height=o,Z(t,S),t.intersect=function(w){return G.polygon(t,b,w)},n}x(nw,"hexagon");async function sw(e,t){const{labelStyles:r,nodeStyles:i}=J(t);t.label="",t.labelStyle=r;const{shapeSvg:n}=await oe(e,t,ne(t)),s=Math.max(30,(t==null?void 0:t.width)??0),o=Math.max(30,(t==null?void 0:t.height)??0),{cssStyles:l}=t,c=Q.svg(n),u=K(t,{});t.look!=="handDrawn"&&(u.roughness=0,u.fillStyle="solid");const d=[{x:0,y:0},{x:s,y:0},{x:0,y:o},{x:s,y:o}],h=fe(d),p=c.path(h,u),f=n.insert(()=>p,":first-child");return f.attr("class","basic label-container"),l&&t.look!=="handDrawn"&&f.selectChildren("path").attr("style",l),i&&t.look!=="handDrawn"&&f.selectChildren("path").attr("style",i),f.attr("transform",`translate(${-s/2}, ${-o/2})`),Z(t,f),t.intersect=function(g){return I.info("Pill intersect",t,{points:d}),G.polygon(t,d,g)},n}x(sw,"hourglass");async function aw(e,t,{config:{themeVariables:r,flowchart:i}}){const{labelStyles:n}=J(t);t.labelStyle=n;const s=t.assetHeight??48,o=t.assetWidth??48,l=Math.max(s,o),c=i==null?void 0:i.wrappingWidth;t.width=Math.max(l,c??0);const{shapeSvg:u,bbox:d,label:h}=await oe(e,t,"icon-shape default"),p=t.pos==="t",f=l,g=l,{nodeBorder:m}=r,{stylesMap:b}=Ts(t),y=-g/2,v=-f/2,S=t.label?8:0,w=Q.svg(u),k=K(t,{stroke:"none",fill:"none"});t.look!=="handDrawn"&&(k.roughness=0,k.fillStyle="solid");const C=w.rectangle(y,v,g,f,k),j=Math.max(g,d.width),E=f+d.height+S,O=w.rectangle(-j/2,-E/2,j,E,{...k,fill:"transparent",stroke:"none"}),M=u.insert(()=>C,":first-child"),L=u.insert(()=>O);if(t.icon){const H=u.append("g");H.html(`<g>${await Eo(t.icon,{height:l,width:l,fallbackPrefix:""})}</g>`);const $=H.node().getBBox(),P=$.width,R=$.height,A=$.x,B=$.y;H.attr("transform",`translate(${-P/2-A},${p?d.height/2+S/2-R/2-B:-d.height/2-S/2-R/2-B})`),H.attr("style",`color: ${b.get("stroke")??m};`)}return h.attr("transform",`translate(${-d.width/2-(d.x-(d.left??0))},${p?-E/2:E/2-d.height})`),M.attr("transform",`translate(0,${p?d.height/2+S/2:-d.height/2-S/2})`),Z(t,L),t.intersect=function(H){if(I.info("iconSquare intersect",t,H),!t.label)return G.rect(t,H);const $=t.x??0,P=t.y??0,R=t.height??0;let A=[];return p?A=[{x:$-d.width/2,y:P-R/2},{x:$+d.width/2,y:P-R/2},{x:$+d.width/2,y:P-R/2+d.height+S},{x:$+g/2,y:P-R/2+d.height+S},{x:$+g/2,y:P+R/2},{x:$-g/2,y:P+R/2},{x:$-g/2,y:P-R/2+d.height+S},{x:$-d.width/2,y:P-R/2+d.height+S}]:A=[{x:$-g/2,y:P-R/2},{x:$+g/2,y:P-R/2},{x:$+g/2,y:P-R/2+f},{x:$+d.width/2,y:P-R/2+f},{x:$+d.width/2/2,y:P+R/2},{x:$-d.width/2,y:P+R/2},{x:$-d.width/2,y:P-R/2+f},{x:$-g/2,y:P-R/2+f}],G.polygon(t,A,H)},u}x(aw,"icon");async function ow(e,t,{config:{themeVariables:r,flowchart:i}}){const{labelStyles:n}=J(t);t.labelStyle=n;const s=t.assetHeight??48,o=t.assetWidth??48,l=Math.max(s,o),c=i==null?void 0:i.wrappingWidth;t.width=Math.max(l,c??0);const{shapeSvg:u,bbox:d,label:h}=await oe(e,t,"icon-shape default"),p=20,f=t.label?8:0,g=t.pos==="t",{nodeBorder:m,mainBkg:b}=r,{stylesMap:y}=Ts(t),v=Q.svg(u),S=K(t,{});t.look!=="handDrawn"&&(S.roughness=0,S.fillStyle="solid");const w=y.get("fill");S.stroke=w??b;const k=u.append("g");t.icon&&k.html(`<g>${await Eo(t.icon,{height:l,width:l,fallbackPrefix:""})}</g>`);const C=k.node().getBBox(),j=C.width,E=C.height,O=C.x,M=C.y,L=Math.max(j,E)*Math.SQRT2+p*2,H=v.circle(0,0,L,S),$=Math.max(L,d.width),P=L+d.height+f,R=v.rectangle(-$/2,-P/2,$,P,{...S,fill:"transparent",stroke:"none"}),A=u.insert(()=>H,":first-child"),B=u.insert(()=>R);return k.attr("transform",`translate(${-j/2-O},${g?d.height/2+f/2-E/2-M:-d.height/2-f/2-E/2-M})`),k.attr("style",`color: ${y.get("stroke")??m};`),h.attr("transform",`translate(${-d.width/2-(d.x-(d.left??0))},${g?-P/2:P/2-d.height})`),A.attr("transform",`translate(0,${g?d.height/2+f/2:-d.height/2-f/2})`),Z(t,B),t.intersect=function(_){return I.info("iconSquare intersect",t,_),G.rect(t,_)},u}x(ow,"iconCircle");async function lw(e,t,{config:{themeVariables:r,flowchart:i}}){const{labelStyles:n}=J(t);t.labelStyle=n;const s=t.assetHeight??48,o=t.assetWidth??48,l=Math.max(s,o),c=i==null?void 0:i.wrappingWidth;t.width=Math.max(l,c??0);const{shapeSvg:u,bbox:d,halfPadding:h,label:p}=await oe(e,t,"icon-shape default"),f=t.pos==="t",g=l+h*2,m=l+h*2,{nodeBorder:b,mainBkg:y}=r,{stylesMap:v}=Ts(t),S=-m/2,w=-g/2,k=t.label?8:0,C=Q.svg(u),j=K(t,{});t.look!=="handDrawn"&&(j.roughness=0,j.fillStyle="solid");const E=v.get("fill");j.stroke=E??y;const O=C.path(Ui(S,w,m,g,5),j),M=Math.max(m,d.width),L=g+d.height+k,H=C.rectangle(-M/2,-L/2,M,L,{...j,fill:"transparent",stroke:"none"}),$=u.insert(()=>O,":first-child").attr("class","icon-shape2"),P=u.insert(()=>H);if(t.icon){const R=u.append("g");R.html(`<g>${await Eo(t.icon,{height:l,width:l,fallbackPrefix:""})}</g>`);const A=R.node().getBBox(),B=A.width,_=A.height,D=A.x,F=A.y;R.attr("transform",`translate(${-B/2-D},${f?d.height/2+k/2-_/2-F:-d.height/2-k/2-_/2-F})`),R.attr("style",`color: ${v.get("stroke")??b};`)}return p.attr("transform",`translate(${-d.width/2-(d.x-(d.left??0))},${f?-L/2:L/2-d.height})`),$.attr("transform",`translate(0,${f?d.height/2+k/2:-d.height/2-k/2})`),Z(t,P),t.intersect=function(R){if(I.info("iconSquare intersect",t,R),!t.label)return G.rect(t,R);const A=t.x??0,B=t.y??0,_=t.height??0;let D=[];return f?D=[{x:A-d.width/2,y:B-_/2},{x:A+d.width/2,y:B-_/2},{x:A+d.width/2,y:B-_/2+d.height+k},{x:A+m/2,y:B-_/2+d.height+k},{x:A+m/2,y:B+_/2},{x:A-m/2,y:B+_/2},{x:A-m/2,y:B-_/2+d.height+k},{x:A-d.width/2,y:B-_/2+d.height+k}]:D=[{x:A-m/2,y:B-_/2},{x:A+m/2,y:B-_/2},{x:A+m/2,y:B-_/2+g},{x:A+d.width/2,y:B-_/2+g},{x:A+d.width/2/2,y:B+_/2},{x:A-d.width/2,y:B+_/2},{x:A-d.width/2,y:B-_/2+g},{x:A-m/2,y:B-_/2+g}],G.polygon(t,D,R)},u}x(lw,"iconRounded");async function cw(e,t,{config:{themeVariables:r,flowchart:i}}){const{labelStyles:n}=J(t);t.labelStyle=n;const s=t.assetHeight??48,o=t.assetWidth??48,l=Math.max(s,o),c=i==null?void 0:i.wrappingWidth;t.width=Math.max(l,c??0);const{shapeSvg:u,bbox:d,halfPadding:h,label:p}=await oe(e,t,"icon-shape default"),f=t.pos==="t",g=l+h*2,m=l+h*2,{nodeBorder:b,mainBkg:y}=r,{stylesMap:v}=Ts(t),S=-m/2,w=-g/2,k=t.label?8:0,C=Q.svg(u),j=K(t,{});t.look!=="handDrawn"&&(j.roughness=0,j.fillStyle="solid");const E=v.get("fill");j.stroke=E??y;const O=C.path(Ui(S,w,m,g,.1),j),M=Math.max(m,d.width),L=g+d.height+k,H=C.rectangle(-M/2,-L/2,M,L,{...j,fill:"transparent",stroke:"none"}),$=u.insert(()=>O,":first-child"),P=u.insert(()=>H);if(t.icon){const R=u.append("g");R.html(`<g>${await Eo(t.icon,{height:l,width:l,fallbackPrefix:""})}</g>`);const A=R.node().getBBox(),B=A.width,_=A.height,D=A.x,F=A.y;R.attr("transform",`translate(${-B/2-D},${f?d.height/2+k/2-_/2-F:-d.height/2-k/2-_/2-F})`),R.attr("style",`color: ${v.get("stroke")??b};`)}return p.attr("transform",`translate(${-d.width/2-(d.x-(d.left??0))},${f?-L/2:L/2-d.height})`),$.attr("transform",`translate(0,${f?d.height/2+k/2:-d.height/2-k/2})`),Z(t,P),t.intersect=function(R){if(I.info("iconSquare intersect",t,R),!t.label)return G.rect(t,R);const A=t.x??0,B=t.y??0,_=t.height??0;let D=[];return f?D=[{x:A-d.width/2,y:B-_/2},{x:A+d.width/2,y:B-_/2},{x:A+d.width/2,y:B-_/2+d.height+k},{x:A+m/2,y:B-_/2+d.height+k},{x:A+m/2,y:B+_/2},{x:A-m/2,y:B+_/2},{x:A-m/2,y:B-_/2+d.height+k},{x:A-d.width/2,y:B-_/2+d.height+k}]:D=[{x:A-m/2,y:B-_/2},{x:A+m/2,y:B-_/2},{x:A+m/2,y:B-_/2+g},{x:A+d.width/2,y:B-_/2+g},{x:A+d.width/2/2,y:B+_/2},{x:A-d.width/2,y:B+_/2},{x:A-d.width/2,y:B-_/2+g},{x:A-m/2,y:B-_/2+g}],G.polygon(t,D,R)},u}x(cw,"iconSquare");async function uw(e,t,{config:{flowchart:r}}){const i=new Image;i.src=(t==null?void 0:t.img)??"",await i.decode();const n=Number(i.naturalWidth.toString().replace("px","")),s=Number(i.naturalHeight.toString().replace("px",""));t.imageAspectRatio=n/s;const{labelStyles:o}=J(t);t.labelStyle=o;const l=r==null?void 0:r.wrappingWidth;t.defaultWidth=r==null?void 0:r.wrappingWidth;const c=Math.max(t.label?l??0:0,(t==null?void 0:t.assetWidth)??n),u=t.constraint==="on"&&t!=null&&t.assetHeight?t.assetHeight*t.imageAspectRatio:c,d=t.constraint==="on"?u/t.imageAspectRatio:(t==null?void 0:t.assetHeight)??s;t.width=Math.max(u,l??0);const{shapeSvg:h,bbox:p,label:f}=await oe(e,t,"image-shape default"),g=t.pos==="t",m=-u/2,b=-d/2,y=t.label?8:0,v=Q.svg(h),S=K(t,{});t.look!=="handDrawn"&&(S.roughness=0,S.fillStyle="solid");const w=v.rectangle(m,b,u,d,S),k=Math.max(u,p.width),C=d+p.height+y,j=v.rectangle(-k/2,-C/2,k,C,{...S,fill:"none",stroke:"none"}),E=h.insert(()=>w,":first-child"),O=h.insert(()=>j);if(t.img){const M=h.append("image");M.attr("href",t.img),M.attr("width",u),M.attr("height",d),M.attr("preserveAspectRatio","none"),M.attr("transform",`translate(${-u/2},${g?C/2-d:-C/2})`)}return f.attr("transform",`translate(${-p.width/2-(p.x-(p.left??0))},${g?-d/2-p.height/2-y/2:d/2-p.height/2+y/2})`),E.attr("transform",`translate(0,${g?p.height/2+y/2:-p.height/2-y/2})`),Z(t,O),t.intersect=function(M){if(I.info("iconSquare intersect",t,M),!t.label)return G.rect(t,M);const L=t.x??0,H=t.y??0,$=t.height??0;let P=[];return g?P=[{x:L-p.width/2,y:H-$/2},{x:L+p.width/2,y:H-$/2},{x:L+p.width/2,y:H-$/2+p.height+y},{x:L+u/2,y:H-$/2+p.height+y},{x:L+u/2,y:H+$/2},{x:L-u/2,y:H+$/2},{x:L-u/2,y:H-$/2+p.height+y},{x:L-p.width/2,y:H-$/2+p.height+y}]:P=[{x:L-u/2,y:H-$/2},{x:L+u/2,y:H-$/2},{x:L+u/2,y:H-$/2+d},{x:L+p.width/2,y:H-$/2+d},{x:L+p.width/2/2,y:H+$/2},{x:L-p.width/2,y:H+$/2},{x:L-p.width/2,y:H-$/2+d},{x:L-u/2,y:H-$/2+d}],G.polygon(t,P,M)},h}x(uw,"imageSquare");async function dw(e,t){const{labelStyles:r,nodeStyles:i}=J(t);t.labelStyle=r;const{shapeSvg:n,bbox:s}=await oe(e,t,ne(t)),o=Math.max(s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),l=Math.max(s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),c=[{x:0,y:0},{x:o,y:0},{x:o+3*l/6,y:-l},{x:-3*l/6,y:-l}];let u;const{cssStyles:d}=t;if(t.look==="handDrawn"){const h=Q.svg(n),p=K(t,{}),f=fe(c),g=h.path(f,p);u=n.insert(()=>g,":first-child").attr("transform",`translate(${-o/2}, ${l/2})`),d&&u.attr("style",d)}else u=zi(n,o,l,c);return i&&u.attr("style",i),t.width=o,t.height=l,Z(t,u),t.intersect=function(h){return G.polygon(t,c,h)},n}x(dw,"inv_trapezoid");async function Du(e,t,r){const{labelStyles:i,nodeStyles:n}=J(t);t.labelStyle=i;const{shapeSvg:s,bbox:o}=await oe(e,t,ne(t)),l=Math.max(o.width+r.labelPaddingX*2,(t==null?void 0:t.width)||0),c=Math.max(o.height+r.labelPaddingY*2,(t==null?void 0:t.height)||0),u=-l/2,d=-c/2;let h,{rx:p,ry:f}=t;const{cssStyles:g}=t;if(r!=null&&r.rx&&r.ry&&(p=r.rx,f=r.ry),t.look==="handDrawn"){const m=Q.svg(s),b=K(t,{}),y=p||f?m.path(Ui(u,d,l,c,p||0),b):m.rectangle(u,d,l,c,b);h=s.insert(()=>y,":first-child"),h.attr("class","basic label-container").attr("style",vt(g))}else h=s.insert("rect",":first-child"),h.attr("class","basic label-container").attr("style",n).attr("rx",vt(p)).attr("ry",vt(f)).attr("x",u).attr("y",d).attr("width",l).attr("height",c);return Z(t,h),t.calcIntersect=function(m,b){return G.rect(m,b)},t.intersect=function(m){return G.rect(t,m)},s}x(Du,"drawRect");async function hw(e,t){const{shapeSvg:r,bbox:i,label:n}=await oe(e,t,"label"),s=r.insert("rect",":first-child"),o=.1,l=.1;return s.attr("width",o).attr("height",l),r.attr("class","label edgeLabel"),n.attr("transform",`translate(${-(i.width/2)-(i.x-(i.left??0))}, ${-(i.height/2)-(i.y-(i.top??0))})`),Z(t,s),t.intersect=function(c){return G.rect(t,c)},r}x(hw,"labelRect");async function pw(e,t){const{labelStyles:r,nodeStyles:i}=J(t);t.labelStyle=r;const{shapeSvg:n,bbox:s}=await oe(e,t,ne(t)),o=Math.max(s.width+(t.padding??0),(t==null?void 0:t.width)??0),l=Math.max(s.height+(t.padding??0),(t==null?void 0:t.height)??0),c=[{x:0,y:0},{x:o+3*l/6,y:0},{x:o,y:-l},{x:-(3*l)/6,y:-l}];let u;const{cssStyles:d}=t;if(t.look==="handDrawn"){const h=Q.svg(n),p=K(t,{}),f=fe(c),g=h.path(f,p);u=n.insert(()=>g,":first-child").attr("transform",`translate(${-o/2}, ${l/2})`),d&&u.attr("style",d)}else u=zi(n,o,l,c);return i&&u.attr("style",i),t.width=o,t.height=l,Z(t,u),t.intersect=function(h){return G.polygon(t,c,h)},n}x(pw,"lean_left");async function fw(e,t){const{labelStyles:r,nodeStyles:i}=J(t);t.labelStyle=r;const{shapeSvg:n,bbox:s}=await oe(e,t,ne(t)),o=Math.max(s.width+(t.padding??0),(t==null?void 0:t.width)??0),l=Math.max(s.height+(t.padding??0),(t==null?void 0:t.height)??0),c=[{x:-3*l/6,y:0},{x:o,y:0},{x:o+3*l/6,y:-l},{x:0,y:-l}];let u;const{cssStyles:d}=t;if(t.look==="handDrawn"){const h=Q.svg(n),p=K(t,{}),f=fe(c),g=h.path(f,p);u=n.insert(()=>g,":first-child").attr("transform",`translate(${-o/2}, ${l/2})`),d&&u.attr("style",d)}else u=zi(n,o,l,c);return i&&u.attr("style",i),t.width=o,t.height=l,Z(t,u),t.intersect=function(h){return G.polygon(t,c,h)},n}x(fw,"lean_right");function gw(e,t){const{labelStyles:r,nodeStyles:i}=J(t);t.label="",t.labelStyle=r;const n=e.insert("g").attr("class",ne(t)).attr("id",t.domId??t.id),{cssStyles:s}=t,o=Math.max(35,(t==null?void 0:t.width)??0),l=Math.max(35,(t==null?void 0:t.height)??0),c=7,u=[{x:o,y:0},{x:0,y:l+c/2},{x:o-2*c,y:l+c/2},{x:0,y:2*l},{x:o,y:l-c/2},{x:2*c,y:l-c/2}],d=Q.svg(n),h=K(t,{});t.look!=="handDrawn"&&(h.roughness=0,h.fillStyle="solid");const p=fe(u),f=d.path(p,h),g=n.insert(()=>f,":first-child");return s&&t.look!=="handDrawn"&&g.selectAll("path").attr("style",s),i&&t.look!=="handDrawn"&&g.selectAll("path").attr("style",i),g.attr("transform",`translate(-${o/2},${-l})`),Z(t,g),t.intersect=function(m){return I.info("lightningBolt intersect",t,m),G.polygon(t,u,m)},n}x(gw,"lightningBolt");var SI=x((e,t,r,i,n,s,o)=>[`M${e},${t+s}`,`a${n},${s} 0,0,0 ${r},0`,`a${n},${s} 0,0,0 ${-r},0`,`l0,${i}`,`a${n},${s} 0,0,0 ${r},0`,`l0,${-i}`,`M${e},${t+s+o}`,`a${n},${s} 0,0,0 ${r},0`].join(" "),"createCylinderPathD"),CI=x((e,t,r,i,n,s,o)=>[`M${e},${t+s}`,`M${e+r},${t+s}`,`a${n},${s} 0,0,0 ${-r},0`,`l0,${i}`,`a${n},${s} 0,0,0 ${r},0`,`l0,${-i}`,`M${e},${t+s+o}`,`a${n},${s} 0,0,0 ${r},0`].join(" "),"createOuterCylinderPathD"),wI=x((e,t,r,i,n,s)=>[`M${e-r/2},${-i/2}`,`a${n},${s} 0,0,0 ${r},0`].join(" "),"createInnerCylinderPathD");async function mw(e,t){const{labelStyles:r,nodeStyles:i}=J(t);t.labelStyle=r;const{shapeSvg:n,bbox:s,label:o}=await oe(e,t,ne(t)),l=Math.max(s.width+(t.padding??0),t.width??0),c=l/2,u=c/(2.5+l/50),d=Math.max(s.height+u+(t.padding??0),t.height??0),h=d*.1;let p;const{cssStyles:f}=t;if(t.look==="handDrawn"){const g=Q.svg(n),m=CI(0,0,l,d,c,u,h),b=wI(0,u,l,d,c,u),y=K(t,{}),v=g.path(m,y),S=g.path(b,y);n.insert(()=>S,":first-child").attr("class","line"),p=n.insert(()=>v,":first-child"),p.attr("class","basic label-container"),f&&p.attr("style",f)}else{const g=SI(0,0,l,d,c,u,h);p=n.insert("path",":first-child").attr("d",g).attr("class","basic label-container").attr("style",vt(f)).attr("style",i)}return p.attr("label-offset-y",u),p.attr("transform",`translate(${-l/2}, ${-(d/2+u)})`),Z(t,p),o.attr("transform",`translate(${-(s.width/2)-(s.x-(s.left??0))}, ${-(s.height/2)+u-(s.y-(s.top??0))})`),t.intersect=function(g){const m=G.rect(t,g),b=m.x-(t.x??0);if(c!=0&&(Math.abs(b)<(t.width??0)/2||Math.abs(b)==(t.width??0)/2&&Math.abs(m.y-(t.y??0))>(t.height??0)/2-u)){let y=u*u*(1-b*b/(c*c));y>0&&(y=Math.sqrt(y)),y=u-y,g.y-(t.y??0)>0&&(y=-y),m.y+=y}return m},n}x(mw,"linedCylinder");async function xw(e,t){const{labelStyles:r,nodeStyles:i}=J(t);t.labelStyle=r;const{shapeSvg:n,bbox:s,label:o}=await oe(e,t,ne(t)),l=Math.max(s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),c=Math.max(s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),u=c/4,d=c+u,{cssStyles:h}=t,p=Q.svg(n),f=K(t,{});t.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const g=[{x:-l/2-l/2*.1,y:-d/2},{x:-l/2-l/2*.1,y:d/2},...Bi(-l/2-l/2*.1,d/2,l/2+l/2*.1,d/2,u,.8),{x:l/2+l/2*.1,y:-d/2},{x:-l/2-l/2*.1,y:-d/2},{x:-l/2,y:-d/2},{x:-l/2,y:d/2*1.1},{x:-l/2,y:-d/2}],m=p.polygon(g.map(y=>[y.x,y.y]),f),b=n.insert(()=>m,":first-child");return b.attr("class","basic label-container"),h&&t.look!=="handDrawn"&&b.selectAll("path").attr("style",h),i&&t.look!=="handDrawn"&&b.selectAll("path").attr("style",i),b.attr("transform",`translate(0,${-u/2})`),o.attr("transform",`translate(${-l/2+(t.padding??0)+l/2*.1/2-(s.x-(s.left??0))},${-c/2+(t.padding??0)-u/2-(s.y-(s.top??0))})`),Z(t,b),t.intersect=function(y){return G.polygon(t,g,y)},n}x(xw,"linedWaveEdgedRect");async function yw(e,t){const{labelStyles:r,nodeStyles:i}=J(t);t.labelStyle=r;const{shapeSvg:n,bbox:s,label:o}=await oe(e,t,ne(t)),l=Math.max(s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),c=Math.max(s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),u=5,d=-l/2,h=-c/2,{cssStyles:p}=t,f=Q.svg(n),g=K(t,{}),m=[{x:d-u,y:h+u},{x:d-u,y:h+c+u},{x:d+l-u,y:h+c+u},{x:d+l-u,y:h+c},{x:d+l,y:h+c},{x:d+l,y:h+c-u},{x:d+l+u,y:h+c-u},{x:d+l+u,y:h-u},{x:d+u,y:h-u},{x:d+u,y:h},{x:d,y:h},{x:d,y:h+u}],b=[{x:d,y:h+u},{x:d+l-u,y:h+u},{x:d+l-u,y:h+c},{x:d+l,y:h+c},{x:d+l,y:h},{x:d,y:h}];t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const y=fe(m),v=f.path(y,g),S=fe(b),w=f.path(S,{...g,fill:"none"}),k=n.insert(()=>w,":first-child");return k.insert(()=>v,":first-child"),k.attr("class","basic label-container"),p&&t.look!=="handDrawn"&&k.selectAll("path").attr("style",p),i&&t.look!=="handDrawn"&&k.selectAll("path").attr("style",i),o.attr("transform",`translate(${-(s.width/2)-u-(s.x-(s.left??0))}, ${-(s.height/2)+u-(s.y-(s.top??0))})`),Z(t,k),t.intersect=function(C){return G.polygon(t,m,C)},n}x(yw,"multiRect");async function vw(e,t){const{labelStyles:r,nodeStyles:i}=J(t);t.labelStyle=r;const{shapeSvg:n,bbox:s,label:o}=await oe(e,t,ne(t)),l=Math.max(s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),c=Math.max(s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),u=c/4,d=c+u,h=-l/2,p=-d/2,f=5,{cssStyles:g}=t,m=Bi(h-f,p+d+f,h+l-f,p+d+f,u,.8),b=m==null?void 0:m[m.length-1],y=[{x:h-f,y:p+f},{x:h-f,y:p+d+f},...m,{x:h+l-f,y:b.y-f},{x:h+l,y:b.y-f},{x:h+l,y:b.y-2*f},{x:h+l+f,y:b.y-2*f},{x:h+l+f,y:p-f},{x:h+f,y:p-f},{x:h+f,y:p},{x:h,y:p},{x:h,y:p+f}],v=[{x:h,y:p+f},{x:h+l-f,y:p+f},{x:h+l-f,y:b.y-f},{x:h+l,y:b.y-f},{x:h+l,y:p},{x:h,y:p}],S=Q.svg(n),w=K(t,{});t.look!=="handDrawn"&&(w.roughness=0,w.fillStyle="solid");const k=fe(y),C=S.path(k,w),j=fe(v),E=S.path(j,w),O=n.insert(()=>C,":first-child");return O.insert(()=>E),O.attr("class","basic label-container"),g&&t.look!=="handDrawn"&&O.selectAll("path").attr("style",g),i&&t.look!=="handDrawn"&&O.selectAll("path").attr("style",i),O.attr("transform",`translate(0,${-u/2})`),o.attr("transform",`translate(${-(s.width/2)-f-(s.x-(s.left??0))}, ${-(s.height/2)+f-u/2-(s.y-(s.top??0))})`),Z(t,O),t.intersect=function(M){return G.polygon(t,y,M)},n}x(vw,"multiWaveEdgedRectangle");async function bw(e,t,{config:{themeVariables:r}}){var v;const{labelStyles:i,nodeStyles:n}=J(t);t.labelStyle=i,t.useHtmlLabels||((v=xt().flowchart)==null?void 0:v.htmlLabels)!==!1||(t.centerLabel=!0);const{shapeSvg:o,bbox:l,label:c}=await oe(e,t,ne(t)),u=Math.max(l.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),d=Math.max(l.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),h=-u/2,p=-d/2,{cssStyles:f}=t,g=Q.svg(o),m=K(t,{fill:r.noteBkgColor,stroke:r.noteBorderColor});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const b=g.rectangle(h,p,u,d,m),y=o.insert(()=>b,":first-child");return y.attr("class","basic label-container"),f&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",f),n&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",n),c.attr("transform",`translate(${-l.width/2-(l.x-(l.left??0))}, ${-(l.height/2)-(l.y-(l.top??0))})`),Z(t,y),t.intersect=function(S){return G.rect(t,S)},o}x(bw,"note");var kI=x((e,t,r)=>[`M${e+r/2},${t}`,`L${e+r},${t-r/2}`,`L${e+r/2},${t-r}`,`L${e},${t-r/2}`,"Z"].join(" "),"createDecisionBoxPathD");async function Sw(e,t){const{labelStyles:r,nodeStyles:i}=J(t);t.labelStyle=r;const{shapeSvg:n,bbox:s}=await oe(e,t,ne(t)),o=s.width+t.padding,l=s.height+t.padding,c=o+l,u=.5,d=[{x:c/2,y:0},{x:c,y:-c/2},{x:c/2,y:-c},{x:0,y:-c/2}];let h;const{cssStyles:p}=t;if(t.look==="handDrawn"){const f=Q.svg(n),g=K(t,{}),m=kI(0,0,c),b=f.path(m,g);h=n.insert(()=>b,":first-child").attr("transform",`translate(${-c/2+u}, ${c/2})`),p&&h.attr("style",p)}else h=zi(n,c,c,d),h.attr("transform",`translate(${-c/2+u}, ${c/2})`);return i&&h.attr("style",i),Z(t,h),t.calcIntersect=function(f,g){const m=f.width,b=[{x:m/2,y:0},{x:m,y:-m/2},{x:m/2,y:-m},{x:0,y:-m/2}],y=G.polygon(f,b,g);return{x:y.x-.5,y:y.y-.5}},t.intersect=function(f){return this.calcIntersect(t,f)},n}x(Sw,"question");async function Cw(e,t){const{labelStyles:r,nodeStyles:i}=J(t);t.labelStyle=r;const{shapeSvg:n,bbox:s,label:o}=await oe(e,t,ne(t)),l=Math.max(s.width+(t.padding??0),(t==null?void 0:t.width)??0),c=Math.max(s.height+(t.padding??0),(t==null?void 0:t.height)??0),u=-l/2,d=-c/2,h=d/2,p=[{x:u+h,y:d},{x:u,y:0},{x:u+h,y:-d},{x:-u,y:-d},{x:-u,y:d}],{cssStyles:f}=t,g=Q.svg(n),m=K(t,{});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const b=fe(p),y=g.path(b,m),v=n.insert(()=>y,":first-child");return v.attr("class","basic label-container"),f&&t.look!=="handDrawn"&&v.selectAll("path").attr("style",f),i&&t.look!=="handDrawn"&&v.selectAll("path").attr("style",i),v.attr("transform",`translate(${-h/2},0)`),o.attr("transform",`translate(${-h/2-s.width/2-(s.x-(s.left??0))}, ${-(s.height/2)-(s.y-(s.top??0))})`),Z(t,v),t.intersect=function(S){return G.polygon(t,p,S)},n}x(Cw,"rect_left_inv_arrow");async function ww(e,t){var E,O;const{labelStyles:r,nodeStyles:i}=J(t);t.labelStyle=r;let n;t.cssClasses?n="node "+t.cssClasses:n="node default";const s=e.insert("g").attr("class",n).attr("id",t.domId||t.id),o=s.insert("g"),l=s.insert("g").attr("class","label").attr("style",i),c=t.description,u=t.label,d=l.node().appendChild(await rn(u,t.labelStyle,!0,!0));let h={width:0,height:0};if(Je((O=(E=ve())==null?void 0:E.flowchart)==null?void 0:O.htmlLabels)){const M=d.children[0],L=xe(d);h=M.getBoundingClientRect(),L.attr("width",h.width),L.attr("height",h.height)}I.info("Text 2",c);const p=c||[],f=d.getBBox(),g=l.node().appendChild(await rn(p.join?p.join("<br/>"):p,t.labelStyle,!0,!0)),m=g.children[0],b=xe(g);h=m.getBoundingClientRect(),b.attr("width",h.width),b.attr("height",h.height);const y=(t.padding||0)/2;xe(g).attr("transform","translate( "+(h.width>f.width?0:(f.width-h.width)/2)+", "+(f.height+y+5)+")"),xe(d).attr("transform","translate( "+(h.width<f.width?0:-(f.width-h.width)/2)+", 0)"),h=l.node().getBBox(),l.attr("transform","translate("+-h.width/2+", "+(-h.height/2-y+3)+")");const v=h.width+(t.padding||0),S=h.height+(t.padding||0),w=-h.width/2-y,k=-h.height/2-y;let C,j;if(t.look==="handDrawn"){const M=Q.svg(s),L=K(t,{}),H=M.path(Ui(w,k,v,S,t.rx||0),L),$=M.line(-h.width/2-y,-h.height/2-y+f.height+y,h.width/2+y,-h.height/2-y+f.height+y,L);j=s.insert(()=>(I.debug("Rough node insert CXC",H),$),":first-child"),C=s.insert(()=>(I.debug("Rough node insert CXC",H),H),":first-child")}else C=o.insert("rect",":first-child"),j=o.insert("line"),C.attr("class","outer title-state").attr("style",i).attr("x",-h.width/2-y).attr("y",-h.height/2-y).attr("width",h.width+(t.padding||0)).attr("height",h.height+(t.padding||0)),j.attr("class","divider").attr("x1",-h.width/2-y).attr("x2",h.width/2+y).attr("y1",-h.height/2-y+f.height+y).attr("y2",-h.height/2-y+f.height+y);return Z(t,C),t.intersect=function(M){return G.rect(t,M)},s}x(ww,"rectWithTitle");function ca(e,t,r,i,n,s,o){const c=(e+r)/2,u=(t+i)/2,d=Math.atan2(i-t,r-e),h=(r-e)/2,p=(i-t)/2,f=h/n,g=p/s,m=Math.sqrt(f**2+g**2);if(m>1)throw new Error("The given radii are too small to create an arc between the points.");const b=Math.sqrt(1-m**2),y=c+b*s*Math.sin(d)*(o?-1:1),v=u-b*n*Math.cos(d)*(o?-1:1),S=Math.atan2((t-v)/s,(e-y)/n);let k=Math.atan2((i-v)/s,(r-y)/n)-S;o&&k<0&&(k+=2*Math.PI),!o&&k>0&&(k-=2*Math.PI);const C=[];for(let j=0;j<20;j++){const E=j/19,O=S+E*k,M=y+n*Math.cos(O),L=v+s*Math.sin(O);C.push({x:M,y:L})}return C}x(ca,"generateArcPoints");async function kw(e,t){const{labelStyles:r,nodeStyles:i}=J(t);t.labelStyle=r;const{shapeSvg:n,bbox:s}=await oe(e,t,ne(t)),o=(t==null?void 0:t.padding)??0,l=(t==null?void 0:t.padding)??0,c=(t!=null&&t.width?t==null?void 0:t.width:s.width)+o*2,u=(t!=null&&t.height?t==null?void 0:t.height:s.height)+l*2,d=t.radius||5,h=t.taper||5,{cssStyles:p}=t,f=Q.svg(n),g=K(t,{});t.stroke&&(g.stroke=t.stroke),t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const m=[{x:-c/2+h,y:-u/2},{x:c/2-h,y:-u/2},...ca(c/2-h,-u/2,c/2,-u/2+h,d,d,!0),{x:c/2,y:-u/2+h},{x:c/2,y:u/2-h},...ca(c/2,u/2-h,c/2-h,u/2,d,d,!0),{x:c/2-h,y:u/2},{x:-c/2+h,y:u/2},...ca(-c/2+h,u/2,-c/2,u/2-h,d,d,!0),{x:-c/2,y:u/2-h},{x:-c/2,y:-u/2+h},...ca(-c/2,-u/2+h,-c/2+h,-u/2,d,d,!0)],b=fe(m),y=f.path(b,g),v=n.insert(()=>y,":first-child");return v.attr("class","basic label-container outer-path"),p&&t.look!=="handDrawn"&&v.selectChildren("path").attr("style",p),i&&t.look!=="handDrawn"&&v.selectChildren("path").attr("style",i),Z(t,v),t.intersect=function(S){return G.polygon(t,m,S)},n}x(kw,"roundedRect");async function jw(e,t){const{labelStyles:r,nodeStyles:i}=J(t);t.labelStyle=r;const{shapeSvg:n,bbox:s,label:o}=await oe(e,t,ne(t)),l=(t==null?void 0:t.padding)??0,c=Math.max(s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),u=Math.max(s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),d=-s.width/2-l,h=-s.height/2-l,{cssStyles:p}=t,f=Q.svg(n),g=K(t,{});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const m=[{x:d,y:h},{x:d+c+8,y:h},{x:d+c+8,y:h+u},{x:d-8,y:h+u},{x:d-8,y:h},{x:d,y:h},{x:d,y:h+u}],b=f.polygon(m.map(v=>[v.x,v.y]),g),y=n.insert(()=>b,":first-child");return y.attr("class","basic label-container").attr("style",vt(p)),i&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",i),p&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",i),o.attr("transform",`translate(${-c/2+4+(t.padding??0)-(s.x-(s.left??0))},${-u/2+(t.padding??0)-(s.y-(s.top??0))})`),Z(t,y),t.intersect=function(v){return G.rect(t,v)},n}x(jw,"shadedProcess");async function _w(e,t){const{labelStyles:r,nodeStyles:i}=J(t);t.labelStyle=r;const{shapeSvg:n,bbox:s,label:o}=await oe(e,t,ne(t)),l=Math.max(s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),c=Math.max(s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),u=-l/2,d=-c/2,{cssStyles:h}=t,p=Q.svg(n),f=K(t,{});t.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const g=[{x:u,y:d},{x:u,y:d+c},{x:u+l,y:d+c},{x:u+l,y:d-c/2}],m=fe(g),b=p.path(m,f),y=n.insert(()=>b,":first-child");return y.attr("class","basic label-container"),h&&t.look!=="handDrawn"&&y.selectChildren("path").attr("style",h),i&&t.look!=="handDrawn"&&y.selectChildren("path").attr("style",i),y.attr("transform",`translate(0, ${c/4})`),o.attr("transform",`translate(${-l/2+(t.padding??0)-(s.x-(s.left??0))}, ${-c/4+(t.padding??0)-(s.y-(s.top??0))})`),Z(t,y),t.intersect=function(v){return G.polygon(t,g,v)},n}x(_w,"slopedRect");async function Nw(e,t){const r={rx:0,ry:0,classes:"",labelPaddingX:t.labelPaddingX??((t==null?void 0:t.padding)||0)*2,labelPaddingY:((t==null?void 0:t.padding)||0)*1};return Du(e,t,r)}x(Nw,"squareRect");async function Tw(e,t){const{labelStyles:r,nodeStyles:i}=J(t);t.labelStyle=r;const{shapeSvg:n,bbox:s}=await oe(e,t,ne(t)),o=s.height+t.padding,l=s.width+o/4+t.padding,c=o/2,{cssStyles:u}=t,d=Q.svg(n),h=K(t,{});t.look!=="handDrawn"&&(h.roughness=0,h.fillStyle="solid");const p=[{x:-l/2+c,y:-o/2},{x:l/2-c,y:-o/2},...ro(-l/2+c,0,c,50,90,270),{x:l/2-c,y:o/2},...ro(l/2-c,0,c,50,270,450)],f=fe(p),g=d.path(f,h),m=n.insert(()=>g,":first-child");return m.attr("class","basic label-container outer-path"),u&&t.look!=="handDrawn"&&m.selectChildren("path").attr("style",u),i&&t.look!=="handDrawn"&&m.selectChildren("path").attr("style",i),Z(t,m),t.intersect=function(b){return G.polygon(t,p,b)},n}x(Tw,"stadium");async function Ew(e,t){return Du(e,t,{rx:5,ry:5,classes:"flowchart-node"})}x(Ew,"state");function Aw(e,t,{config:{themeVariables:r}}){const{labelStyles:i,nodeStyles:n}=J(t);t.labelStyle=i;const{cssStyles:s}=t,{lineColor:o,stateBorder:l,nodeBorder:c}=r,u=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),d=Q.svg(u),h=K(t,{});t.look!=="handDrawn"&&(h.roughness=0,h.fillStyle="solid");const p=d.circle(0,0,14,{...h,stroke:o,strokeWidth:2}),f=l??c,g=d.circle(0,0,5,{...h,fill:f,stroke:f,strokeWidth:2,fillStyle:"solid"}),m=u.insert(()=>p,":first-child");return m.insert(()=>g),s&&m.selectAll("path").attr("style",s),n&&m.selectAll("path").attr("style",n),Z(t,m),t.intersect=function(b){return G.circle(t,7,b)},u}x(Aw,"stateEnd");function Rw(e,t,{config:{themeVariables:r}}){const{lineColor:i}=r,n=e.insert("g").attr("class","node default").attr("id",t.domId||t.id);let s;if(t.look==="handDrawn"){const l=Q.svg(n).circle(0,0,14,vM(i));s=n.insert(()=>l),s.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14)}else s=n.insert("circle",":first-child"),s.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14);return Z(t,s),t.intersect=function(o){return G.circle(t,7,o)},n}x(Rw,"stateStart");async function Lw(e,t){const{labelStyles:r,nodeStyles:i}=J(t);t.labelStyle=r;const{shapeSvg:n,bbox:s}=await oe(e,t,ne(t)),o=((t==null?void 0:t.padding)||0)/2,l=s.width+t.padding,c=s.height+t.padding,u=-s.width/2-o,d=-s.height/2-o,h=[{x:0,y:0},{x:l,y:0},{x:l,y:-c},{x:0,y:-c},{x:0,y:0},{x:-8,y:0},{x:l+8,y:0},{x:l+8,y:-c},{x:-8,y:-c},{x:-8,y:0}];if(t.look==="handDrawn"){const p=Q.svg(n),f=K(t,{}),g=p.rectangle(u-8,d,l+16,c,f),m=p.line(u,d,u,d+c,f),b=p.line(u+l,d,u+l,d+c,f);n.insert(()=>m,":first-child"),n.insert(()=>b,":first-child");const y=n.insert(()=>g,":first-child"),{cssStyles:v}=t;y.attr("class","basic label-container").attr("style",vt(v)),Z(t,y)}else{const p=zi(n,l,c,h);i&&p.attr("style",i),Z(t,p)}return t.intersect=function(p){return G.polygon(t,h,p)},n}x(Lw,"subroutine");async function Pw(e,t){const{labelStyles:r,nodeStyles:i}=J(t);t.labelStyle=r;const{shapeSvg:n,bbox:s}=await oe(e,t,ne(t)),o=Math.max(s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),l=Math.max(s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),c=-o/2,u=-l/2,d=.2*l,h=.2*l,{cssStyles:p}=t,f=Q.svg(n),g=K(t,{}),m=[{x:c-d/2,y:u},{x:c+o+d/2,y:u},{x:c+o+d/2,y:u+l},{x:c-d/2,y:u+l}],b=[{x:c+o-d/2,y:u+l},{x:c+o+d/2,y:u+l},{x:c+o+d/2,y:u+l-h}];t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const y=fe(m),v=f.path(y,g),S=fe(b),w=f.path(S,{...g,fillStyle:"solid"}),k=n.insert(()=>w,":first-child");return k.insert(()=>v,":first-child"),k.attr("class","basic label-container"),p&&t.look!=="handDrawn"&&k.selectAll("path").attr("style",p),i&&t.look!=="handDrawn"&&k.selectAll("path").attr("style",i),Z(t,k),t.intersect=function(C){return G.polygon(t,m,C)},n}x(Pw,"taggedRect");async function Mw(e,t){const{labelStyles:r,nodeStyles:i}=J(t);t.labelStyle=r;const{shapeSvg:n,bbox:s,label:o}=await oe(e,t,ne(t)),l=Math.max(s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),c=Math.max(s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),u=c/4,d=.2*l,h=.2*c,p=c+u,{cssStyles:f}=t,g=Q.svg(n),m=K(t,{});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const b=[{x:-l/2-l/2*.1,y:p/2},...Bi(-l/2-l/2*.1,p/2,l/2+l/2*.1,p/2,u,.8),{x:l/2+l/2*.1,y:-p/2},{x:-l/2-l/2*.1,y:-p/2}],y=-l/2+l/2*.1,v=-p/2-h*.4,S=[{x:y+l-d,y:(v+c)*1.4},{x:y+l,y:v+c-h},{x:y+l,y:(v+c)*.9},...Bi(y+l,(v+c)*1.3,y+l-d,(v+c)*1.5,-c*.03,.5)],w=fe(b),k=g.path(w,m),C=fe(S),j=g.path(C,{...m,fillStyle:"solid"}),E=n.insert(()=>j,":first-child");return E.insert(()=>k,":first-child"),E.attr("class","basic label-container"),f&&t.look!=="handDrawn"&&E.selectAll("path").attr("style",f),i&&t.look!=="handDrawn"&&E.selectAll("path").attr("style",i),E.attr("transform",`translate(0,${-u/2})`),o.attr("transform",`translate(${-l/2+(t.padding??0)-(s.x-(s.left??0))},${-c/2+(t.padding??0)-u/2-(s.y-(s.top??0))})`),Z(t,E),t.intersect=function(O){return G.polygon(t,b,O)},n}x(Mw,"taggedWaveEdgedRectangle");async function Bw(e,t){const{labelStyles:r,nodeStyles:i}=J(t);t.labelStyle=r;const{shapeSvg:n,bbox:s}=await oe(e,t,ne(t)),o=Math.max(s.width+t.padding,(t==null?void 0:t.width)||0),l=Math.max(s.height+t.padding,(t==null?void 0:t.height)||0),c=-o/2,u=-l/2,d=n.insert("rect",":first-child");return d.attr("class","text").attr("style",i).attr("rx",0).attr("ry",0).attr("x",c).attr("y",u).attr("width",o).attr("height",l),Z(t,d),t.intersect=function(h){return G.rect(t,h)},n}x(Bw,"text");var jI=x((e,t,r,i,n,s)=>`M${e},${t}
    a${n},${s} 0,0,1 0,${-i}
    l${r},0
    a${n},${s} 0,0,1 0,${i}
    M${r},${-i}
    a${n},${s} 0,0,0 0,${i}
    l${-r},0`,"createCylinderPathD"),_I=x((e,t,r,i,n,s)=>[`M${e},${t}`,`M${e+r},${t}`,`a${n},${s} 0,0,0 0,${-i}`,`l${-r},0`,`a${n},${s} 0,0,0 0,${i}`,`l${r},0`].join(" "),"createOuterCylinderPathD"),NI=x((e,t,r,i,n,s)=>[`M${e+r/2},${-i/2}`,`a${n},${s} 0,0,0 0,${i}`].join(" "),"createInnerCylinderPathD");async function Dw(e,t){const{labelStyles:r,nodeStyles:i}=J(t);t.labelStyle=r;const{shapeSvg:n,bbox:s,label:o,halfPadding:l}=await oe(e,t,ne(t)),c=t.look==="neo"?l*2:l,u=s.height+c,d=u/2,h=d/(2.5+u/50),p=s.width+h+c,{cssStyles:f}=t;let g;if(t.look==="handDrawn"){const m=Q.svg(n),b=_I(0,0,p,u,h,d),y=NI(0,0,p,u,h,d),v=m.path(b,K(t,{})),S=m.path(y,K(t,{fill:"none"}));g=n.insert(()=>S,":first-child"),g=n.insert(()=>v,":first-child"),g.attr("class","basic label-container"),f&&g.attr("style",f)}else{const m=jI(0,0,p,u,h,d);g=n.insert("path",":first-child").attr("d",m).attr("class","basic label-container").attr("style",vt(f)).attr("style",i),g.attr("class","basic label-container"),f&&g.selectAll("path").attr("style",f),i&&g.selectAll("path").attr("style",i)}return g.attr("label-offset-x",h),g.attr("transform",`translate(${-p/2}, ${u/2} )`),o.attr("transform",`translate(${-(s.width/2)-h-(s.x-(s.left??0))}, ${-(s.height/2)-(s.y-(s.top??0))})`),Z(t,g),t.intersect=function(m){const b=G.rect(t,m),y=b.y-(t.y??0);if(d!=0&&(Math.abs(y)<(t.height??0)/2||Math.abs(y)==(t.height??0)/2&&Math.abs(b.x-(t.x??0))>(t.width??0)/2-h)){let v=h*h*(1-y*y/(d*d));v!=0&&(v=Math.sqrt(Math.abs(v))),v=h-v,m.x-(t.x??0)>0&&(v=-v),b.x+=v}return b},n}x(Dw,"tiltedCylinder");async function Ow(e,t){const{labelStyles:r,nodeStyles:i}=J(t);t.labelStyle=r;const{shapeSvg:n,bbox:s}=await oe(e,t,ne(t)),o=s.width+t.padding,l=s.height+t.padding,c=[{x:-3*l/6,y:0},{x:o+3*l/6,y:0},{x:o,y:-l},{x:0,y:-l}];let u;const{cssStyles:d}=t;if(t.look==="handDrawn"){const h=Q.svg(n),p=K(t,{}),f=fe(c),g=h.path(f,p);u=n.insert(()=>g,":first-child").attr("transform",`translate(${-o/2}, ${l/2})`),d&&u.attr("style",d)}else u=zi(n,o,l,c);return i&&u.attr("style",i),t.width=o,t.height=l,Z(t,u),t.intersect=function(h){return G.polygon(t,c,h)},n}x(Ow,"trapezoid");async function Iw(e,t){const{labelStyles:r,nodeStyles:i}=J(t);t.labelStyle=r;const{shapeSvg:n,bbox:s}=await oe(e,t,ne(t)),o=60,l=20,c=Math.max(o,s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),u=Math.max(l,s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),{cssStyles:d}=t,h=Q.svg(n),p=K(t,{});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const f=[{x:-c/2*.8,y:-u/2},{x:c/2*.8,y:-u/2},{x:c/2,y:-u/2*.6},{x:c/2,y:u/2},{x:-c/2,y:u/2},{x:-c/2,y:-u/2*.6}],g=fe(f),m=h.path(g,p),b=n.insert(()=>m,":first-child");return b.attr("class","basic label-container"),d&&t.look!=="handDrawn"&&b.selectChildren("path").attr("style",d),i&&t.look!=="handDrawn"&&b.selectChildren("path").attr("style",i),Z(t,b),t.intersect=function(y){return G.polygon(t,f,y)},n}x(Iw,"trapezoidalPentagon");async function $w(e,t){var v;const{labelStyles:r,nodeStyles:i}=J(t);t.labelStyle=r;const{shapeSvg:n,bbox:s,label:o}=await oe(e,t,ne(t)),l=Je((v=ve().flowchart)==null?void 0:v.htmlLabels),c=s.width+(t.padding??0),u=c+s.height,d=c+s.height,h=[{x:0,y:0},{x:d,y:0},{x:d/2,y:-u}],{cssStyles:p}=t,f=Q.svg(n),g=K(t,{});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const m=fe(h),b=f.path(m,g),y=n.insert(()=>b,":first-child").attr("transform",`translate(${-u/2}, ${u/2})`);return p&&t.look!=="handDrawn"&&y.selectChildren("path").attr("style",p),i&&t.look!=="handDrawn"&&y.selectChildren("path").attr("style",i),t.width=c,t.height=u,Z(t,y),o.attr("transform",`translate(${-s.width/2-(s.x-(s.left??0))}, ${u/2-(s.height+(t.padding??0)/(l?2:1)-(s.y-(s.top??0)))})`),t.intersect=function(S){return I.info("Triangle intersect",t,h,S),G.polygon(t,h,S)},n}x($w,"triangle");async function Fw(e,t){const{labelStyles:r,nodeStyles:i}=J(t);t.labelStyle=r;const{shapeSvg:n,bbox:s,label:o}=await oe(e,t,ne(t)),l=Math.max(s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),c=Math.max(s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),u=c/8,d=c+u,{cssStyles:h}=t,f=70-l,g=f>0?f/2:0,m=Q.svg(n),b=K(t,{});t.look!=="handDrawn"&&(b.roughness=0,b.fillStyle="solid");const y=[{x:-l/2-g,y:d/2},...Bi(-l/2-g,d/2,l/2+g,d/2,u,.8),{x:l/2+g,y:-d/2},{x:-l/2-g,y:-d/2}],v=fe(y),S=m.path(v,b),w=n.insert(()=>S,":first-child");return w.attr("class","basic label-container"),h&&t.look!=="handDrawn"&&w.selectAll("path").attr("style",h),i&&t.look!=="handDrawn"&&w.selectAll("path").attr("style",i),w.attr("transform",`translate(0,${-u/2})`),o.attr("transform",`translate(${-l/2+(t.padding??0)-(s.x-(s.left??0))},${-c/2+(t.padding??0)-u-(s.y-(s.top??0))})`),Z(t,w),t.intersect=function(k){return G.polygon(t,y,k)},n}x(Fw,"waveEdgedRectangle");async function Uw(e,t){const{labelStyles:r,nodeStyles:i}=J(t);t.labelStyle=r;const{shapeSvg:n,bbox:s}=await oe(e,t,ne(t)),o=100,l=50,c=Math.max(s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),u=Math.max(s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),d=c/u;let h=c,p=u;h>p*d?p=h/d:h=p*d,h=Math.max(h,o),p=Math.max(p,l);const f=Math.min(p*.2,p/4),g=p+f*2,{cssStyles:m}=t,b=Q.svg(n),y=K(t,{});t.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const v=[{x:-h/2,y:g/2},...Bi(-h/2,g/2,h/2,g/2,f,1),{x:h/2,y:-g/2},...Bi(h/2,-g/2,-h/2,-g/2,f,-1)],S=fe(v),w=b.path(S,y),k=n.insert(()=>w,":first-child");return k.attr("class","basic label-container"),m&&t.look!=="handDrawn"&&k.selectAll("path").attr("style",m),i&&t.look!=="handDrawn"&&k.selectAll("path").attr("style",i),Z(t,k),t.intersect=function(C){return G.polygon(t,v,C)},n}x(Uw,"waveRectangle");async function zw(e,t){const{labelStyles:r,nodeStyles:i}=J(t);t.labelStyle=r;const{shapeSvg:n,bbox:s,label:o}=await oe(e,t,ne(t)),l=Math.max(s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),c=Math.max(s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),u=5,d=-l/2,h=-c/2,{cssStyles:p}=t,f=Q.svg(n),g=K(t,{}),m=[{x:d-u,y:h-u},{x:d-u,y:h+c},{x:d+l,y:h+c},{x:d+l,y:h-u}],b=`M${d-u},${h-u} L${d+l},${h-u} L${d+l},${h+c} L${d-u},${h+c} L${d-u},${h-u}
                M${d-u},${h} L${d+l},${h}
                M${d},${h-u} L${d},${h+c}`;t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const y=f.path(b,g),v=n.insert(()=>y,":first-child");return v.attr("transform",`translate(${u/2}, ${u/2})`),v.attr("class","basic label-container"),p&&t.look!=="handDrawn"&&v.selectAll("path").attr("style",p),i&&t.look!=="handDrawn"&&v.selectAll("path").attr("style",i),o.attr("transform",`translate(${-(s.width/2)+u/2-(s.x-(s.left??0))}, ${-(s.height/2)+u/2-(s.y-(s.top??0))})`),Z(t,v),t.intersect=function(S){return G.polygon(t,m,S)},n}x(zw,"windowPane");async function Pg(e,t){var se,le,me,de;const r=t;if(r.alias&&(t.label=r.alias),t.look==="handDrawn"){const{themeVariables:ce}=xt(),{background:he}=ce,Be={...t,id:t.id+"-background",look:"default",cssStyles:["stroke: none",`fill: ${he}`]};await Pg(e,Be)}const i=xt();t.useHtmlLabels=i.htmlLabels;let n=((se=i.er)==null?void 0:se.diagramPadding)??10,s=((le=i.er)==null?void 0:le.entityPadding)??6;const{cssStyles:o}=t,{labelStyles:l,nodeStyles:c}=J(t);if(r.attributes.length===0&&t.label){const ce={rx:0,ry:0,labelPaddingX:n,labelPaddingY:n*1.5,classes:""};ai(t.label,i)+ce.labelPaddingX*2<i.er.minEntityWidth&&(t.width=i.er.minEntityWidth);const he=await Du(e,t,ce);if(!Je(i.htmlLabels)){const Be=he.select("text"),_e=(me=Be.node())==null?void 0:me.getBBox();Be.attr("transform",`translate(${-_e.width/2}, 0)`)}return he}i.htmlLabels||(n*=1.25,s*=1.25);let u=ne(t);u||(u="node default");const d=e.insert("g").attr("class",u).attr("id",t.domId||t.id),h=await In(d,t.label??"",i,0,0,["name"],l);h.height+=s;let p=0;const f=[],g=[];let m=0,b=0,y=0,v=0,S=!0,w=!0;for(const ce of r.attributes){const he=await In(d,ce.type,i,0,p,["attribute-type"],l);m=Math.max(m,he.width+n);const Be=await In(d,ce.name,i,0,p,["attribute-name"],l);b=Math.max(b,Be.width+n);const _e=await In(d,ce.keys.join(),i,0,p,["attribute-keys"],l);y=Math.max(y,_e.width+n);const Ne=await In(d,ce.comment,i,0,p,["attribute-comment"],l);v=Math.max(v,Ne.width+n);const ze=Math.max(he.height,Be.height,_e.height,Ne.height)+s;g.push({yOffset:p,rowHeight:ze}),p+=ze}let k=4;y<=n&&(S=!1,y=0,k--),v<=n&&(w=!1,v=0,k--);const C=d.node().getBBox();if(h.width+n*2-(m+b+y+v)>0){const ce=h.width+n*2-(m+b+y+v);m+=ce/k,b+=ce/k,y>0&&(y+=ce/k),v>0&&(v+=ce/k)}const j=m+b+y+v,E=Q.svg(d),O=K(t,{});t.look!=="handDrawn"&&(O.roughness=0,O.fillStyle="solid");let M=0;g.length>0&&(M=g.reduce((ce,he)=>ce+((he==null?void 0:he.rowHeight)??0),0));const L=Math.max(C.width+n*2,(t==null?void 0:t.width)||0,j),H=Math.max((M??0)+h.height,(t==null?void 0:t.height)||0),$=-L/2,P=-H/2;d.selectAll("g:not(:first-child)").each((ce,he,Be)=>{const _e=xe(Be[he]),Ne=_e.attr("transform");let ze=0,Ct=0;if(Ne){const lr=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(Ne);lr&&(ze=parseFloat(lr[1]),Ct=parseFloat(lr[2]),_e.attr("class").includes("attribute-name")?ze+=m:_e.attr("class").includes("attribute-keys")?ze+=m+b:_e.attr("class").includes("attribute-comment")&&(ze+=m+b+y))}_e.attr("transform",`translate(${$+n/2+ze}, ${Ct+P+h.height+s/2})`)}),d.select(".name").attr("transform","translate("+-h.width/2+", "+(P+s/2)+")");const R=E.rectangle($,P,L,H,O),A=d.insert(()=>R,":first-child").attr("style",o.join("")),{themeVariables:B}=xt(),{rowEven:_,rowOdd:D,nodeBorder:F}=B;f.push(0);for(const[ce,he]of g.entries()){const _e=(ce+1)%2===0&&he.yOffset!==0,Ne=E.rectangle($,h.height+P+(he==null?void 0:he.yOffset),L,he==null?void 0:he.rowHeight,{...O,fill:_e?_:D,stroke:F});d.insert(()=>Ne,"g.label").attr("style",o.join("")).attr("class",`row-rect-${_e?"even":"odd"}`)}let q=E.line($,h.height+P,L+$,h.height+P,O);d.insert(()=>q).attr("class","divider"),q=E.line(m+$,h.height+P,m+$,H+P,O),d.insert(()=>q).attr("class","divider"),S&&(q=E.line(m+b+$,h.height+P,m+b+$,H+P,O),d.insert(()=>q).attr("class","divider")),w&&(q=E.line(m+b+y+$,h.height+P,m+b+y+$,H+P,O),d.insert(()=>q).attr("class","divider"));for(const ce of f)q=E.line($,h.height+P+ce,L+$,h.height+P+ce,O),d.insert(()=>q).attr("class","divider");if(Z(t,A),c&&t.look!=="handDrawn"){const ce=c.split(";"),he=(de=ce==null?void 0:ce.filter(Be=>Be.includes("stroke")))==null?void 0:de.map(Be=>`${Be}`).join("; ");d.selectAll("path").attr("style",he??""),d.selectAll(".row-rect-even path").attr("style",c)}return t.intersect=function(ce){return G.rect(t,ce)},d}x(Pg,"erBox");async function In(e,t,r,i=0,n=0,s=[],o=""){const l=e.insert("g").attr("class",`label ${s.join(" ")}`).attr("transform",`translate(${i}, ${n})`).attr("style",o);t!==Px(t)&&(t=Px(t),t=t.replaceAll("<","&lt;").replaceAll(">","&gt;"));const c=l.node().appendChild(await Fi(l,t,{width:ai(t,r)+100,style:o,useHtmlLabels:r.htmlLabels},r));if(t.includes("&lt;")||t.includes("&gt;")){let d=c.children[0];for(d.textContent=d.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">");d.childNodes[0];)d=d.childNodes[0],d.textContent=d.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">")}let u=c.getBBox();if(Je(r.htmlLabels)){const d=c.children[0];d.style.textAlign="start";const h=xe(c);u=d.getBoundingClientRect(),h.attr("width",u.width),h.attr("height",u.height)}return u}x(In,"addText");async function qw(e,t,r,i,n=r.class.padding??12){const s=i?0:3,o=e.insert("g").attr("class",ne(t)).attr("id",t.domId||t.id);let l=null,c=null,u=null,d=null,h=0,p=0,f=0;if(l=o.insert("g").attr("class","annotation-group text"),t.annotations.length>0){const v=t.annotations[0];await ua(l,{text:`«${v}»`},0),h=l.node().getBBox().height}c=o.insert("g").attr("class","label-group text"),await ua(c,t,0,["font-weight: bolder"]);const g=c.node().getBBox();p=g.height,u=o.insert("g").attr("class","members-group text");let m=0;for(const v of t.members){const S=await ua(u,v,m,[v.parseClassifier()]);m+=S+s}f=u.node().getBBox().height,f<=0&&(f=n/2),d=o.insert("g").attr("class","methods-group text");let b=0;for(const v of t.methods){const S=await ua(d,v,b,[v.parseClassifier()]);b+=S+s}let y=o.node().getBBox();if(l!==null){const v=l.node().getBBox();l.attr("transform",`translate(${-v.width/2})`)}return c.attr("transform",`translate(${-g.width/2}, ${h})`),y=o.node().getBBox(),u.attr("transform",`translate(0, ${h+p+n*2})`),y=o.node().getBBox(),d.attr("transform",`translate(0, ${h+p+(f?f+n*4:n*2)})`),y=o.node().getBBox(),{shapeSvg:o,bbox:y}}x(qw,"textHelper");async function ua(e,t,r,i=[]){const n=e.insert("g").attr("class","label").attr("style",i.join("; ")),s=xt();let o="useHtmlLabels"in t?t.useHtmlLabels:Je(s.htmlLabels)??!0,l="";"text"in t?l=t.text:l=t.label,!o&&l.startsWith("\\")&&(l=l.substring(1)),gs(l)&&(o=!0);const c=await Fi(n,zf(_n(l)),{width:ai(l,s)+50,classes:"markdown-node-label",useHtmlLabels:o},s);let u,d=1;if(o){const h=c.children[0],p=xe(c);d=h.innerHTML.split("<br>").length,h.innerHTML.includes("</math>")&&(d+=h.innerHTML.split("<mrow>").length-1);const f=h.getElementsByTagName("img");if(f){const g=l.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...f].map(m=>new Promise(b=>{function y(){var v;if(m.style.display="flex",m.style.flexDirection="column",g){const S=((v=s.fontSize)==null?void 0:v.toString())??window.getComputedStyle(document.body).fontSize,w=5,k=parseInt(S,10)*w+"px";m.style.minWidth=k,m.style.maxWidth=k}else m.style.width="100%";b(m)}x(y,"setupImage"),setTimeout(()=>{m.complete&&y()}),m.addEventListener("error",y),m.addEventListener("load",y)})))}u=h.getBoundingClientRect(),p.attr("width",u.width),p.attr("height",u.height)}else{i.includes("font-weight: bolder")&&xe(c).selectAll("tspan").attr("font-weight",""),d=c.children.length;const h=c.children[0];(c.textContent===""||c.textContent.includes("&gt"))&&(h.textContent=l[0]+l.substring(1).replaceAll("&gt;",">").replaceAll("&lt;","<").trim(),l[1]===" "&&(h.textContent=h.textContent[0]+" "+h.textContent.substring(1))),h.textContent==="undefined"&&(h.textContent=""),u=c.getBBox()}return n.attr("transform","translate(0,"+(-u.height/(2*d)+r)+")"),u.height}x(ua,"addText");async function Hw(e,t){var O,M;const r=ve(),i=r.class.padding??12,n=i,s=t.useHtmlLabels??Je(r.htmlLabels)??!0,o=t;o.annotations=o.annotations??[],o.members=o.members??[],o.methods=o.methods??[];const{shapeSvg:l,bbox:c}=await qw(e,t,r,s,n),{labelStyles:u,nodeStyles:d}=J(t);t.labelStyle=u,t.cssStyles=o.styles||"";const h=((O=o.styles)==null?void 0:O.join(";"))||d||"";t.cssStyles||(t.cssStyles=h.replaceAll("!important","").split(";"));const p=o.members.length===0&&o.methods.length===0&&!((M=r.class)!=null&&M.hideEmptyMembersBox),f=Q.svg(l),g=K(t,{});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const m=c.width;let b=c.height;o.members.length===0&&o.methods.length===0?b+=n:o.members.length>0&&o.methods.length===0&&(b+=n*2);const y=-m/2,v=-b/2,S=f.rectangle(y-i,v-i-(p?i:o.members.length===0&&o.methods.length===0?-i/2:0),m+2*i,b+2*i+(p?i*2:o.members.length===0&&o.methods.length===0?-i:0),g),w=l.insert(()=>S,":first-child");w.attr("class","basic label-container");const k=w.node().getBBox();l.selectAll(".text").each((L,H,$)=>{var D;const P=xe($[H]),R=P.attr("transform");let A=0;if(R){const q=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(R);q&&(A=parseFloat(q[2]))}let B=A+v+i-(p?i:o.members.length===0&&o.methods.length===0?-i/2:0);s||(B-=4);let _=y;(P.attr("class").includes("label-group")||P.attr("class").includes("annotation-group"))&&(_=-((D=P.node())==null?void 0:D.getBBox().width)/2||0,l.selectAll("text").each(function(F,q,se){window.getComputedStyle(se[q]).textAnchor==="middle"&&(_=0)})),P.attr("transform",`translate(${_}, ${B})`)});const C=l.select(".annotation-group").node().getBBox().height-(p?i/2:0)||0,j=l.select(".label-group").node().getBBox().height-(p?i/2:0)||0,E=l.select(".members-group").node().getBBox().height-(p?i/2:0)||0;if(o.members.length>0||o.methods.length>0||p){const L=f.line(k.x,C+j+v+i,k.x+k.width,C+j+v+i,g);l.insert(()=>L).attr("class","divider").attr("style",h)}if(p||o.members.length>0||o.methods.length>0){const L=f.line(k.x,C+j+E+v+n*2+i,k.x+k.width,C+j+E+v+i+n*2,g);l.insert(()=>L).attr("class","divider").attr("style",h)}if(o.look!=="handDrawn"&&l.selectAll("path").attr("style",h),w.select(":nth-child(2)").attr("style",h),l.selectAll(".divider").select("path").attr("style",h),t.labelStyle?l.selectAll("span").attr("style",t.labelStyle):l.selectAll("span").attr("style",h),!s){const L=RegExp(/color\s*:\s*([^;]*)/),H=L.exec(h);if(H){const $=H[0].replace("color","fill");l.selectAll("tspan").attr("style",$)}else if(u){const $=L.exec(u);if($){const P=$[0].replace("color","fill");l.selectAll("tspan").attr("style",P)}}}return Z(t,w),t.intersect=function(L){return G.rect(t,L)},l}x(Hw,"classBox");async function Ww(e,t){var C,j;const{labelStyles:r,nodeStyles:i}=J(t);t.labelStyle=r;const n=t,s=t,o=20,l=20,c="verifyMethod"in t,u=ne(t),d=e.insert("g").attr("class",u).attr("id",t.domId??t.id);let h;c?h=await Nr(d,`&lt;&lt;${n.type}&gt;&gt;`,0,t.labelStyle):h=await Nr(d,"&lt;&lt;Element&gt;&gt;",0,t.labelStyle);let p=h;const f=await Nr(d,n.name,p,t.labelStyle+"; font-weight: bold;");if(p+=f+l,c){const E=await Nr(d,`${n.requirementId?`ID: ${n.requirementId}`:""}`,p,t.labelStyle);p+=E;const O=await Nr(d,`${n.text?`Text: ${n.text}`:""}`,p,t.labelStyle);p+=O;const M=await Nr(d,`${n.risk?`Risk: ${n.risk}`:""}`,p,t.labelStyle);p+=M,await Nr(d,`${n.verifyMethod?`Verification: ${n.verifyMethod}`:""}`,p,t.labelStyle)}else{const E=await Nr(d,`${s.type?`Type: ${s.type}`:""}`,p,t.labelStyle);p+=E,await Nr(d,`${s.docRef?`Doc Ref: ${s.docRef}`:""}`,p,t.labelStyle)}const g=(((C=d.node())==null?void 0:C.getBBox().width)??200)+o,m=(((j=d.node())==null?void 0:j.getBBox().height)??200)+o,b=-g/2,y=-m/2,v=Q.svg(d),S=K(t,{});t.look!=="handDrawn"&&(S.roughness=0,S.fillStyle="solid");const w=v.rectangle(b,y,g,m,S),k=d.insert(()=>w,":first-child");if(k.attr("class","basic label-container").attr("style",i),d.selectAll(".label").each((E,O,M)=>{const L=xe(M[O]),H=L.attr("transform");let $=0,P=0;if(H){const _=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(H);_&&($=parseFloat(_[1]),P=parseFloat(_[2]))}const R=P-m/2;let A=b+o/2;(O===0||O===1)&&(A=$),L.attr("transform",`translate(${A}, ${R+o})`)}),p>h+f+l){const E=v.line(b,y+h+f+l,b+g,y+h+f+l,S);d.insert(()=>E).attr("style",i)}return Z(t,k),t.intersect=function(E){return G.rect(t,E)},d}x(Ww,"requirementBox");async function Nr(e,t,r,i=""){if(t==="")return 0;const n=e.insert("g").attr("class","label").attr("style",i),s=ve(),o=s.htmlLabels??!0,l=await Fi(n,zf(_n(t)),{width:ai(t,s)+50,classes:"markdown-node-label",useHtmlLabels:o,style:i},s);let c;if(o){const u=l.children[0],d=xe(l);c=u.getBoundingClientRect(),d.attr("width",c.width),d.attr("height",c.height)}else{const u=l.children[0];for(const d of u.children)d.textContent=d.textContent.replaceAll("&gt;",">").replaceAll("&lt;","<"),i&&d.setAttribute("style",i);c=l.getBBox(),c.height+=6}return n.attr("transform",`translate(${-c.width/2},${-c.height/2+r})`),c.height}x(Nr,"addText");var TI=x(e=>{switch(e){case"Very High":return"red";case"High":return"orange";case"Medium":return null;case"Low":return"blue";case"Very Low":return"lightblue"}},"colorFromPriority");async function Gw(e,t,{config:r}){var H,$;const{labelStyles:i,nodeStyles:n}=J(t);t.labelStyle=i||"";const s=10,o=t.width;t.width=(t.width??200)-10;const{shapeSvg:l,bbox:c,label:u}=await oe(e,t,ne(t)),d=t.padding||10;let h="",p;"ticket"in t&&t.ticket&&((H=r==null?void 0:r.kanban)!=null&&H.ticketBaseUrl)&&(h=($=r==null?void 0:r.kanban)==null?void 0:$.ticketBaseUrl.replace("#TICKET#",t.ticket),p=l.insert("svg:a",":first-child").attr("class","kanban-ticket-link").attr("xlink:href",h).attr("target","_blank"));const f={useHtmlLabels:t.useHtmlLabels,labelStyle:t.labelStyle||"",width:t.width,img:t.img,padding:t.padding||8,centerLabel:!1};let g,m;p?{label:g,bbox:m}=await Ud(p,"ticket"in t&&t.ticket||"",f):{label:g,bbox:m}=await Ud(l,"ticket"in t&&t.ticket||"",f);const{label:b,bbox:y}=await Ud(l,"assigned"in t&&t.assigned||"",f);t.width=o;const v=10,S=(t==null?void 0:t.width)||0,w=Math.max(m.height,y.height)/2,k=Math.max(c.height+v*2,(t==null?void 0:t.height)||0)+w,C=-S/2,j=-k/2;u.attr("transform","translate("+(d-S/2)+", "+(-w-c.height/2)+")"),g.attr("transform","translate("+(d-S/2)+", "+(-w+c.height/2)+")"),b.attr("transform","translate("+(d+S/2-y.width-2*s)+", "+(-w+c.height/2)+")");let E;const{rx:O,ry:M}=t,{cssStyles:L}=t;if(t.look==="handDrawn"){const P=Q.svg(l),R=K(t,{}),A=O||M?P.path(Ui(C,j,S,k,O||0),R):P.rectangle(C,j,S,k,R);E=l.insert(()=>A,":first-child"),E.attr("class","basic label-container").attr("style",L||null)}else{E=l.insert("rect",":first-child"),E.attr("class","basic label-container __APA__").attr("style",n).attr("rx",O??5).attr("ry",M??5).attr("x",C).attr("y",j).attr("width",S).attr("height",k);const P="priority"in t&&t.priority;if(P){const R=l.append("line"),A=C+2,B=j+Math.floor((O??0)/2),_=j+k-Math.floor((O??0)/2);R.attr("x1",A).attr("y1",B).attr("x2",A).attr("y2",_).attr("stroke-width","4").attr("stroke",TI(P))}}return Z(t,E),t.height=k,t.intersect=function(P){return G.rect(t,P)},l}x(Gw,"kanbanItem");async function Vw(e,t){const{labelStyles:r,nodeStyles:i}=J(t);t.labelStyle=r;const{shapeSvg:n,bbox:s,halfPadding:o,label:l}=await oe(e,t,ne(t)),c=s.width+10*o,u=s.height+8*o,d=.15*c,{cssStyles:h}=t,p=s.width+20,f=s.height+20,g=Math.max(c,p),m=Math.max(u,f);l.attr("transform",`translate(${-s.width/2}, ${-s.height/2})`);let b;const y=`M0 0 
    a${d},${d} 1 0,0 ${g*.25},${-1*m*.1}
    a${d},${d} 1 0,0 ${g*.25},0
    a${d},${d} 1 0,0 ${g*.25},0
    a${d},${d} 1 0,0 ${g*.25},${m*.1}

    a${d},${d} 1 0,0 ${g*.15},${m*.33}
    a${d*.8},${d*.8} 1 0,0 0,${m*.34}
    a${d},${d} 1 0,0 ${-1*g*.15},${m*.33}

    a${d},${d} 1 0,0 ${-1*g*.25},${m*.15}
    a${d},${d} 1 0,0 ${-1*g*.25},0
    a${d},${d} 1 0,0 ${-1*g*.25},0
    a${d},${d} 1 0,0 ${-1*g*.25},${-1*m*.15}

    a${d},${d} 1 0,0 ${-1*g*.1},${-1*m*.33}
    a${d*.8},${d*.8} 1 0,0 0,${-1*m*.34}
    a${d},${d} 1 0,0 ${g*.1},${-1*m*.33}
  H0 V0 Z`;if(t.look==="handDrawn"){const v=Q.svg(n),S=K(t,{}),w=v.path(y,S);b=n.insert(()=>w,":first-child"),b.attr("class","basic label-container").attr("style",vt(h))}else b=n.insert("path",":first-child").attr("class","basic label-container").attr("style",i).attr("d",y);return b.attr("transform",`translate(${-g/2}, ${-m/2})`),Z(t,b),t.calcIntersect=function(v,S){return G.rect(v,S)},t.intersect=function(v){return I.info("Bang intersect",t,v),G.rect(t,v)},n}x(Vw,"bang");async function Yw(e,t){const{labelStyles:r,nodeStyles:i}=J(t);t.labelStyle=r;const{shapeSvg:n,bbox:s,halfPadding:o,label:l}=await oe(e,t,ne(t)),c=s.width+2*o,u=s.height+2*o,d=.15*c,h=.25*c,p=.35*c,f=.2*c,{cssStyles:g}=t;let m;const b=`M0 0 
    a${d},${d} 0 0,1 ${c*.25},${-1*c*.1}
    a${p},${p} 1 0,1 ${c*.4},${-1*c*.1}
    a${h},${h} 1 0,1 ${c*.35},${c*.2}

    a${d},${d} 1 0,1 ${c*.15},${u*.35}
    a${f},${f} 1 0,1 ${-1*c*.15},${u*.65}

    a${h},${d} 1 0,1 ${-1*c*.25},${c*.15}
    a${p},${p} 1 0,1 ${-1*c*.5},0
    a${d},${d} 1 0,1 ${-1*c*.25},${-1*c*.15}

    a${d},${d} 1 0,1 ${-1*c*.1},${-1*u*.35}
    a${f},${f} 1 0,1 ${c*.1},${-1*u*.65}
  H0 V0 Z`;if(t.look==="handDrawn"){const y=Q.svg(n),v=K(t,{}),S=y.path(b,v);m=n.insert(()=>S,":first-child"),m.attr("class","basic label-container").attr("style",vt(g))}else m=n.insert("path",":first-child").attr("class","basic label-container").attr("style",i).attr("d",b);return l.attr("transform",`translate(${-s.width/2}, ${-s.height/2})`),m.attr("transform",`translate(${-c/2}, ${-u/2})`),Z(t,m),t.calcIntersect=function(y,v){return G.rect(y,v)},t.intersect=function(y){return I.info("Cloud intersect",t,y),G.rect(t,y)},n}x(Yw,"cloud");async function Xw(e,t){const{labelStyles:r,nodeStyles:i}=J(t);t.labelStyle=r;const{shapeSvg:n,bbox:s,halfPadding:o,label:l}=await oe(e,t,ne(t)),c=s.width+8*o,u=s.height+2*o,d=5,h=`
    M${-c/2} ${u/2-d}
    v${-u+2*d}
    q0,-${d} ${d},-${d}
    h${c-2*d}
    q${d},0 ${d},${d}
    v${u-2*d}
    q0,${d} -${d},${d}
    h${-c+2*d}
    q-${d},0 -${d},-${d}
    Z
  `,p=n.append("path").attr("id","node-"+t.id).attr("class","node-bkg node-"+t.type).attr("style",i).attr("d",h);return n.append("line").attr("class","node-line-").attr("x1",-c/2).attr("y1",u/2).attr("x2",c/2).attr("y2",u/2),l.attr("transform",`translate(${-s.width/2}, ${-s.height/2})`),n.append(()=>l.node()),Z(t,p),t.calcIntersect=function(f,g){return G.rect(f,g)},t.intersect=function(f){return G.rect(t,f)},n}x(Xw,"defaultMindmapNode");async function Qw(e,t){const r={padding:t.padding??0};return Lg(e,t,r)}x(Qw,"mindmapCircle");var EI=[{semanticName:"Process",name:"Rectangle",shortName:"rect",description:"Standard process shape",aliases:["proc","process","rectangle"],internalAliases:["squareRect"],handler:Nw},{semanticName:"Event",name:"Rounded Rectangle",shortName:"rounded",description:"Represents an event",aliases:["event"],internalAliases:["roundedRect"],handler:kw},{semanticName:"Terminal Point",name:"Stadium",shortName:"stadium",description:"Terminal point",aliases:["terminal","pill"],handler:Tw},{semanticName:"Subprocess",name:"Framed Rectangle",shortName:"fr-rect",description:"Subprocess",aliases:["subprocess","subproc","framed-rectangle","subroutine"],handler:Lw},{semanticName:"Database",name:"Cylinder",shortName:"cyl",description:"Database storage",aliases:["db","database","cylinder"],handler:K2},{semanticName:"Start",name:"Circle",shortName:"circle",description:"Starting point",aliases:["circ"],handler:Lg},{semanticName:"Bang",name:"Bang",shortName:"bang",description:"Bang",aliases:["bang"],handler:Vw},{semanticName:"Cloud",name:"Cloud",shortName:"cloud",description:"cloud",aliases:["cloud"],handler:Yw},{semanticName:"Decision",name:"Diamond",shortName:"diam",description:"Decision-making step",aliases:["decision","diamond","question"],handler:Sw},{semanticName:"Prepare Conditional",name:"Hexagon",shortName:"hex",description:"Preparation or condition step",aliases:["hexagon","prepare"],handler:nw},{semanticName:"Data Input/Output",name:"Lean Right",shortName:"lean-r",description:"Represents input or output",aliases:["lean-right","in-out"],internalAliases:["lean_right"],handler:fw},{semanticName:"Data Input/Output",name:"Lean Left",shortName:"lean-l",description:"Represents output or input",aliases:["lean-left","out-in"],internalAliases:["lean_left"],handler:pw},{semanticName:"Priority Action",name:"Trapezoid Base Bottom",shortName:"trap-b",description:"Priority action",aliases:["priority","trapezoid-bottom","trapezoid"],handler:Ow},{semanticName:"Manual Operation",name:"Trapezoid Base Top",shortName:"trap-t",description:"Represents a manual task",aliases:["manual","trapezoid-top","inv-trapezoid"],internalAliases:["inv_trapezoid"],handler:dw},{semanticName:"Stop",name:"Double Circle",shortName:"dbl-circ",description:"Represents a stop point",aliases:["double-circle"],internalAliases:["doublecircle"],handler:Z2},{semanticName:"Text Block",name:"Text Block",shortName:"text",description:"Text block",handler:Bw},{semanticName:"Card",name:"Notched Rectangle",shortName:"notch-rect",description:"Represents a card",aliases:["card","notched-rectangle"],handler:q2},{semanticName:"Lined/Shaded Process",name:"Lined Rectangle",shortName:"lin-rect",description:"Lined process shape",aliases:["lined-rectangle","lined-process","lin-proc","shaded-process"],handler:jw},{semanticName:"Start",name:"Small Circle",shortName:"sm-circ",description:"Small starting point",aliases:["start","small-circle"],internalAliases:["stateStart"],handler:Rw},{semanticName:"Stop",name:"Framed Circle",shortName:"fr-circ",description:"Stop point",aliases:["stop","framed-circle"],internalAliases:["stateEnd"],handler:Aw},{semanticName:"Fork/Join",name:"Filled Rectangle",shortName:"fork",description:"Fork or join in process flow",aliases:["join"],internalAliases:["forkJoin"],handler:rw},{semanticName:"Collate",name:"Hourglass",shortName:"hourglass",description:"Represents a collate operation",aliases:["hourglass","collate"],handler:sw},{semanticName:"Comment",name:"Curly Brace",shortName:"brace",description:"Adds a comment",aliases:["comment","brace-l"],handler:V2},{semanticName:"Comment Right",name:"Curly Brace",shortName:"brace-r",description:"Adds a comment",handler:Y2},{semanticName:"Comment with braces on both sides",name:"Curly Braces",shortName:"braces",description:"Adds a comment",handler:X2},{semanticName:"Com Link",name:"Lightning Bolt",shortName:"bolt",description:"Communication link",aliases:["com-link","lightning-bolt"],handler:gw},{semanticName:"Document",name:"Document",shortName:"doc",description:"Represents a document",aliases:["doc","document"],handler:Fw},{semanticName:"Delay",name:"Half-Rounded Rectangle",shortName:"delay",description:"Represents a delay",aliases:["half-rounded-rectangle"],handler:iw},{semanticName:"Direct Access Storage",name:"Horizontal Cylinder",shortName:"h-cyl",description:"Direct access storage",aliases:["das","horizontal-cylinder"],handler:Dw},{semanticName:"Disk Storage",name:"Lined Cylinder",shortName:"lin-cyl",description:"Disk storage",aliases:["disk","lined-cylinder"],handler:mw},{semanticName:"Display",name:"Curved Trapezoid",shortName:"curv-trap",description:"Represents a display",aliases:["curved-trapezoid","display"],handler:Q2},{semanticName:"Divided Process",name:"Divided Rectangle",shortName:"div-rect",description:"Divided process shape",aliases:["div-proc","divided-rectangle","divided-process"],handler:J2},{semanticName:"Extract",name:"Triangle",shortName:"tri",description:"Extraction process",aliases:["extract","triangle"],handler:$w},{semanticName:"Internal Storage",name:"Window Pane",shortName:"win-pane",description:"Internal storage",aliases:["internal-storage","window-pane"],handler:zw},{semanticName:"Junction",name:"Filled Circle",shortName:"f-circ",description:"Junction point",aliases:["junction","filled-circle"],handler:ew},{semanticName:"Loop Limit",name:"Trapezoidal Pentagon",shortName:"notch-pent",description:"Loop limit step",aliases:["loop-limit","notched-pentagon"],handler:Iw},{semanticName:"Manual File",name:"Flipped Triangle",shortName:"flip-tri",description:"Manual file operation",aliases:["manual-file","flipped-triangle"],handler:tw},{semanticName:"Manual Input",name:"Sloped Rectangle",shortName:"sl-rect",description:"Manual input step",aliases:["manual-input","sloped-rectangle"],handler:_w},{semanticName:"Multi-Document",name:"Stacked Document",shortName:"docs",description:"Multiple documents",aliases:["documents","st-doc","stacked-document"],handler:vw},{semanticName:"Multi-Process",name:"Stacked Rectangle",shortName:"st-rect",description:"Multiple processes",aliases:["procs","processes","stacked-rectangle"],handler:yw},{semanticName:"Stored Data",name:"Bow Tie Rectangle",shortName:"bow-rect",description:"Stored data",aliases:["stored-data","bow-tie-rectangle"],handler:z2},{semanticName:"Summary",name:"Crossed Circle",shortName:"cross-circ",description:"Summary",aliases:["summary","crossed-circle"],handler:G2},{semanticName:"Tagged Document",name:"Tagged Document",shortName:"tag-doc",description:"Tagged document",aliases:["tag-doc","tagged-document"],handler:Mw},{semanticName:"Tagged Process",name:"Tagged Rectangle",shortName:"tag-rect",description:"Tagged process",aliases:["tagged-rectangle","tag-proc","tagged-process"],handler:Pw},{semanticName:"Paper Tape",name:"Flag",shortName:"flag",description:"Paper tape",aliases:["paper-tape"],handler:Uw},{semanticName:"Odd",name:"Odd",shortName:"odd",description:"Odd shape",internalAliases:["rect_left_inv_arrow"],handler:Cw},{semanticName:"Lined Document",name:"Lined Document",shortName:"lin-doc",description:"Lined document",aliases:["lined-document"],handler:xw}],AI=x(()=>{const t=[...Object.entries({state:Ew,choice:H2,note:bw,rectWithTitle:ww,labelRect:hw,iconSquare:cw,iconCircle:ow,icon:aw,iconRounded:lw,imageSquare:uw,anchor:U2,kanbanItem:Gw,mindmapCircle:Qw,defaultMindmapNode:Xw,classBox:Hw,erBox:Pg,requirementBox:Ww}),...EI.flatMap(r=>[r.shortName,..."aliases"in r?r.aliases:[],..."internalAliases"in r?r.internalAliases:[]].map(n=>[n,r.handler]))];return Object.fromEntries(t)},"generateShapeMap"),Kw=AI();function RI(e){return e in Kw}x(RI,"isValidShape");var Ou=new Map;async function Jw(e,t,r){let i,n;t.shape==="rect"&&(t.rx&&t.ry?t.shape="roundedRect":t.shape="squareRect");const s=t.shape?Kw[t.shape]:void 0;if(!s)throw new Error(`No such shape: ${t.shape}. Please check your syntax.`);if(t.link){let o;r.config.securityLevel==="sandbox"?o="_top":t.linkTarget&&(o=t.linkTarget||"_blank"),i=e.insert("svg:a").attr("xlink:href",t.link).attr("target",o??null),n=await s(i,t,r)}else n=await s(e,t,r),i=n;return t.tooltip&&n.attr("title",t.tooltip),Ou.set(t.id,i),t.haveCallback&&i.attr("class",i.attr("class")+" clickable"),i}x(Jw,"insertNode");var a8=x((e,t)=>{Ou.set(t.id,e)},"setNodeElem"),o8=x(()=>{Ou.clear()},"clear"),l8=x(e=>{const t=Ou.get(e.id);I.trace("Transforming node",e.diff,e,"translate("+(e.x-e.width/2-5)+", "+e.width/2+")");const r=8,i=e.diff||0;return e.clusterNode?t.attr("transform","translate("+(e.x+i-e.width/2)+", "+(e.y-e.height/2-r)+")"):t.attr("transform","translate("+e.x+", "+e.y+")"),i},"positionNode"),LI=x((e,t,r,i,n,s)=>{t.arrowTypeStart&&$0(e,"start",t.arrowTypeStart,r,i,n,s),t.arrowTypeEnd&&$0(e,"end",t.arrowTypeEnd,r,i,n,s)},"addEdgeMarkers"),PI={arrow_cross:{type:"cross",fill:!1},arrow_point:{type:"point",fill:!0},arrow_barb:{type:"barb",fill:!0},arrow_circle:{type:"circle",fill:!1},aggregation:{type:"aggregation",fill:!1},extension:{type:"extension",fill:!1},composition:{type:"composition",fill:!0},dependency:{type:"dependency",fill:!0},lollipop:{type:"lollipop",fill:!1},only_one:{type:"onlyOne",fill:!1},zero_or_one:{type:"zeroOrOne",fill:!1},one_or_more:{type:"oneOrMore",fill:!1},zero_or_more:{type:"zeroOrMore",fill:!1},requirement_arrow:{type:"requirement_arrow",fill:!1},requirement_contains:{type:"requirement_contains",fill:!1}},$0=x((e,t,r,i,n,s,o)=>{var h;const l=PI[r];if(!l){I.warn(`Unknown arrow type: ${r}`);return}const c=l.type,d=`${n}_${s}-${c}${t==="start"?"Start":"End"}`;if(o&&o.trim()!==""){const p=o.replace(/[^\dA-Za-z]/g,"_"),f=`${d}_${p}`;if(!document.getElementById(f)){const g=document.getElementById(d);if(g){const m=g.cloneNode(!0);m.id=f,m.querySelectorAll("path, circle, line").forEach(y=>{y.setAttribute("stroke",o),l.fill&&y.setAttribute("fill",o)}),(h=g.parentNode)==null||h.appendChild(m)}}e.attr(`marker-${t}`,`url(${i}#${f})`)}else e.attr(`marker-${t}`,`url(${i}#${d})`)},"addEdgeMarker"),Xc=new Map,ot=new Map,c8=x(()=>{Xc.clear(),ot.clear()},"clear"),hl=x(e=>e?e.reduce((r,i)=>r+";"+i,""):"","getLabelStyles"),MI=x(async(e,t)=>{let r=Je(ve().flowchart.htmlLabels);const{labelStyles:i}=J(t);t.labelStyle=i;const n=await Fi(e,t.label,{style:t.labelStyle,useHtmlLabels:r,addSvgBackground:!0,isNode:!1});I.info("abc82",t,t.labelType);const s=e.insert("g").attr("class","edgeLabel"),o=s.insert("g").attr("class","label").attr("data-id",t.id);o.node().appendChild(n);let l=n.getBBox();if(r){const u=n.children[0],d=xe(n);l=u.getBoundingClientRect(),d.attr("width",l.width),d.attr("height",l.height)}o.attr("transform","translate("+-l.width/2+", "+-l.height/2+")"),Xc.set(t.id,s),t.width=l.width,t.height=l.height;let c;if(t.startLabelLeft){const u=await rn(t.startLabelLeft,hl(t.labelStyle)),d=e.insert("g").attr("class","edgeTerminals"),h=d.insert("g").attr("class","inner");c=h.node().appendChild(u);const p=u.getBBox();h.attr("transform","translate("+-p.width/2+", "+-p.height/2+")"),ot.get(t.id)||ot.set(t.id,{}),ot.get(t.id).startLeft=d,da(c,t.startLabelLeft)}if(t.startLabelRight){const u=await rn(t.startLabelRight,hl(t.labelStyle)),d=e.insert("g").attr("class","edgeTerminals"),h=d.insert("g").attr("class","inner");c=d.node().appendChild(u),h.node().appendChild(u);const p=u.getBBox();h.attr("transform","translate("+-p.width/2+", "+-p.height/2+")"),ot.get(t.id)||ot.set(t.id,{}),ot.get(t.id).startRight=d,da(c,t.startLabelRight)}if(t.endLabelLeft){const u=await rn(t.endLabelLeft,hl(t.labelStyle)),d=e.insert("g").attr("class","edgeTerminals"),h=d.insert("g").attr("class","inner");c=h.node().appendChild(u);const p=u.getBBox();h.attr("transform","translate("+-p.width/2+", "+-p.height/2+")"),d.node().appendChild(u),ot.get(t.id)||ot.set(t.id,{}),ot.get(t.id).endLeft=d,da(c,t.endLabelLeft)}if(t.endLabelRight){const u=await rn(t.endLabelRight,hl(t.labelStyle)),d=e.insert("g").attr("class","edgeTerminals"),h=d.insert("g").attr("class","inner");c=h.node().appendChild(u);const p=u.getBBox();h.attr("transform","translate("+-p.width/2+", "+-p.height/2+")"),d.node().appendChild(u),ot.get(t.id)||ot.set(t.id,{}),ot.get(t.id).endRight=d,da(c,t.endLabelRight)}return n},"insertEdgeLabel");function da(e,t){ve().flowchart.htmlLabels&&e&&(e.style.width=t.length*9+"px",e.style.height="12px")}x(da,"setTerminalWidth");var BI=x((e,t)=>{I.debug("Moving label abc88 ",e.id,e.label,Xc.get(e.id),t);let r=t.updatedPath?t.updatedPath:t.originalPath;const i=ve(),{subGraphTitleTotalMargin:n}=lg(i);if(e.label){const s=Xc.get(e.id);let o=e.x,l=e.y;if(r){const c=gr.calcLabelPosition(r);I.debug("Moving label "+e.label+" from (",o,",",l,") to (",c.x,",",c.y,") abc88"),t.updatedPath&&(o=c.x,l=c.y)}s.attr("transform",`translate(${o}, ${l+n/2})`)}if(e.startLabelLeft){const s=ot.get(e.id).startLeft;let o=e.x,l=e.y;if(r){const c=gr.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_left",r);o=c.x,l=c.y}s.attr("transform",`translate(${o}, ${l})`)}if(e.startLabelRight){const s=ot.get(e.id).startRight;let o=e.x,l=e.y;if(r){const c=gr.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_right",r);o=c.x,l=c.y}s.attr("transform",`translate(${o}, ${l})`)}if(e.endLabelLeft){const s=ot.get(e.id).endLeft;let o=e.x,l=e.y;if(r){const c=gr.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_left",r);o=c.x,l=c.y}s.attr("transform",`translate(${o}, ${l})`)}if(e.endLabelRight){const s=ot.get(e.id).endRight;let o=e.x,l=e.y;if(r){const c=gr.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_right",r);o=c.x,l=c.y}s.attr("transform",`translate(${o}, ${l})`)}},"positionEdgeLabel"),DI=x((e,t)=>{const r=e.x,i=e.y,n=Math.abs(t.x-r),s=Math.abs(t.y-i),o=e.width/2,l=e.height/2;return n>=o||s>=l},"outsideNode"),OI=x((e,t,r)=>{I.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(t)}
  insidePoint : ${JSON.stringify(r)}
  node        : x:${e.x} y:${e.y} w:${e.width} h:${e.height}`);const i=e.x,n=e.y,s=Math.abs(i-r.x),o=e.width/2;let l=r.x<t.x?o-s:o+s;const c=e.height/2,u=Math.abs(t.y-r.y),d=Math.abs(t.x-r.x);if(Math.abs(n-t.y)*o>Math.abs(i-t.x)*c){let h=r.y<t.y?t.y-c-n:n-c-t.y;l=d*h/u;const p={x:r.x<t.x?r.x+l:r.x-d+l,y:r.y<t.y?r.y+u-h:r.y-u+h};return l===0&&(p.x=t.x,p.y=t.y),d===0&&(p.x=t.x),u===0&&(p.y=t.y),I.debug(`abc89 top/bottom calc, Q ${u}, q ${h}, R ${d}, r ${l}`,p),p}else{r.x<t.x?l=t.x-o-i:l=i-o-t.x;let h=u*l/d,p=r.x<t.x?r.x+d-l:r.x-d+l,f=r.y<t.y?r.y+h:r.y-h;return I.debug(`sides calc abc89, Q ${u}, q ${h}, R ${d}, r ${l}`,{_x:p,_y:f}),l===0&&(p=t.x,f=t.y),d===0&&(p=t.x),u===0&&(f=t.y),{x:p,y:f}}},"intersection"),F0=x((e,t)=>{I.warn("abc88 cutPathAtIntersect",e,t);let r=[],i=e[0],n=!1;return e.forEach(s=>{if(I.info("abc88 checking point",s,t),!DI(t,s)&&!n){const o=OI(t,i,s);I.debug("abc88 inside",s,i,o),I.debug("abc88 intersection",o,t);let l=!1;r.forEach(c=>{l=l||c.x===o.x&&c.y===o.y}),r.some(c=>c.x===o.x&&c.y===o.y)?I.warn("abc88 no intersect",o,r):r.push(o),n=!0}else I.warn("abc88 outside",s,i),i=s,n||r.push(s)}),I.debug("returning points",r),r},"cutPathAtIntersect");function Zw(e){const t=[],r=[];for(let i=1;i<e.length-1;i++){const n=e[i-1],s=e[i],o=e[i+1];(n.x===s.x&&s.y===o.y&&Math.abs(s.x-o.x)>5&&Math.abs(s.y-n.y)>5||n.y===s.y&&s.x===o.x&&Math.abs(s.x-n.x)>5&&Math.abs(s.y-o.y)>5)&&(t.push(s),r.push(i))}return{cornerPoints:t,cornerPointPositions:r}}x(Zw,"extractCornerPoints");var U0=x(function(e,t,r){const i=t.x-e.x,n=t.y-e.y,s=Math.sqrt(i*i+n*n),o=r/s;return{x:t.x-o*i,y:t.y-o*n}},"findAdjacentPoint"),II=x(function(e){const{cornerPointPositions:t}=Zw(e),r=[];for(let i=0;i<e.length;i++)if(t.includes(i)){const n=e[i-1],s=e[i+1],o=e[i],l=U0(n,o,5),c=U0(s,o,5),u=c.x-l.x,d=c.y-l.y;r.push(l);const h=Math.sqrt(2)*2;let p={x:o.x,y:o.y};if(Math.abs(s.x-n.x)>10&&Math.abs(s.y-n.y)>=10){I.debug("Corner point fixing",Math.abs(s.x-n.x),Math.abs(s.y-n.y));const f=5;o.x===l.x?p={x:u<0?l.x-f+h:l.x+f-h,y:d<0?l.y-h:l.y+h}:p={x:u<0?l.x-h:l.x+h,y:d<0?l.y-f+h:l.y+f-h}}else I.debug("Corner point skipping fixing",Math.abs(s.x-n.x),Math.abs(s.y-n.y));r.push(p,c)}else r.push(e[i]);return r},"fixCorners"),$I=x((e,t,r)=>{const i=e-t-r,n=2,s=2,o=n+s,l=Math.floor(i/o),c=Array(l).fill(`${n} ${s}`).join(" ");return`0 ${t} ${c} ${r}`},"generateDashArray"),FI=x(function(e,t,r,i,n,s,o,l=!1){var P;const{handDrawnSeed:c}=ve();let u=t.points,d=!1;const h=n;var p=s;const f=[];for(const R in t.cssCompiledStyles)EC(R)||f.push(t.cssCompiledStyles[R]);I.debug("UIO intersect check",t.points,p.x,h.x),p.intersect&&h.intersect&&!l&&(u=u.slice(1,t.points.length-1),u.unshift(h.intersect(u[0])),I.debug("Last point UIO",t.start,"-->",t.end,u[u.length-1],p,p.intersect(u[u.length-1])),u.push(p.intersect(u[u.length-1])));const g=btoa(JSON.stringify(u));t.toCluster&&(I.info("to cluster abc88",r.get(t.toCluster)),u=F0(t.points,r.get(t.toCluster).node),d=!0),t.fromCluster&&(I.debug("from cluster abc88",r.get(t.fromCluster),JSON.stringify(u,null,2)),u=F0(u.reverse(),r.get(t.fromCluster).node).reverse(),d=!0);let m=u.filter(R=>!Number.isNaN(R.y));m=II(m);let b=Bl;switch(b=_c,t.curve){case"linear":b=_c;break;case"basis":b=Bl;break;case"cardinal":b=LS;break;case"bumpX":b=NS;break;case"bumpY":b=TS;break;case"catmullRom":b=MS;break;case"monotoneX":b=FS;break;case"monotoneY":b=US;break;case"natural":b=qS;break;case"step":b=HS;break;case"stepAfter":b=GS;break;case"stepBefore":b=WS;break;default:b=Bl}const{x:y,y:v}=yM(t),S=tP().x(y).y(v).curve(b);let w;switch(t.thickness){case"normal":w="edge-thickness-normal";break;case"thick":w="edge-thickness-thick";break;case"invisible":w="edge-thickness-invisible";break;default:w="edge-thickness-normal"}switch(t.pattern){case"solid":w+=" edge-pattern-solid";break;case"dotted":w+=" edge-pattern-dotted";break;case"dashed":w+=" edge-pattern-dashed";break;default:w+=" edge-pattern-solid"}let k,C=t.curve==="rounded"?ek(tk(m,t),5):S(m);const j=Array.isArray(t.style)?t.style:[t.style];let E=j.find(R=>R==null?void 0:R.startsWith("stroke:")),O=!1;if(t.look==="handDrawn"){const R=Q.svg(e);Object.assign([],m);const A=R.path(C,{roughness:.3,seed:c});w+=" transition",k=xe(A).select("path").attr("id",t.id).attr("class"," "+w+(t.classes?" "+t.classes:"")).attr("style",j?j.reduce((_,D)=>_+";"+D,""):"");let B=k.attr("d");k.attr("d",B),e.node().appendChild(k.node())}else{const R=f.join(";"),A=j?j.reduce((le,me)=>le+me+";",""):"";let B="";t.animate&&(B=" edge-animation-fast"),t.animation&&(B=" edge-animation-"+t.animation);const _=(R?R+";"+A+";":A)+";"+(j?j.reduce((le,me)=>le+";"+me,""):"");k=e.append("path").attr("d",C).attr("id",t.id).attr("class"," "+w+(t.classes?" "+t.classes:"")+(B??"")).attr("style",_),E=(P=_.match(/stroke:([^;]+)/))==null?void 0:P[1],O=t.animate===!0||!!t.animation||R.includes("animation");const D=k.node(),F=typeof D.getTotalLength=="function"?D.getTotalLength():0,q=a0[t.arrowTypeStart]||0,se=a0[t.arrowTypeEnd]||0;if(t.look==="neo"&&!O){const me=`stroke-dasharray: ${t.pattern==="dotted"||t.pattern==="dashed"?$I(F,q,se):`0 ${q} ${F-q-se} ${se}`}; stroke-dashoffset: 0;`;k.attr("style",me+k.attr("style"))}}k.attr("data-edge",!0),k.attr("data-et","edge"),k.attr("data-id",t.id),k.attr("data-points",g),t.showPoints&&m.forEach(R=>{e.append("circle").style("stroke","red").style("fill","red").attr("r",1).attr("cx",R.x).attr("cy",R.y)});let M="";(ve().flowchart.arrowMarkerAbsolute||ve().state.arrowMarkerAbsolute)&&(M=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,M=M.replace(/\(/g,"\\(").replace(/\)/g,"\\)")),I.info("arrowTypeStart",t.arrowTypeStart),I.info("arrowTypeEnd",t.arrowTypeEnd),LI(k,t,M,o,i,E);const L=Math.floor(u.length/2),H=u[L];gr.isLabelCoordinateInPath(H,k.attr("d"))||(d=!0);let $={};return d&&($.updatedPath=u),$.originalPath=t.points,$},"insertEdge");function ek(e,t){if(e.length<2)return"";let r="";const i=e.length,n=1e-5;for(let s=0;s<i;s++){const o=e[s],l=e[s-1],c=e[s+1];if(s===0)r+=`M${o.x},${o.y}`;else if(s===i-1)r+=`L${o.x},${o.y}`;else{const u=o.x-l.x,d=o.y-l.y,h=c.x-o.x,p=c.y-o.y,f=Math.hypot(u,d),g=Math.hypot(h,p);if(f<n||g<n){r+=`L${o.x},${o.y}`;continue}const m=u/f,b=d/f,y=h/g,v=p/g,S=m*y+b*v,w=Math.max(-1,Math.min(1,S)),k=Math.acos(w);if(k<n||Math.abs(Math.PI-k)<n){r+=`L${o.x},${o.y}`;continue}const C=Math.min(t/Math.sin(k/2),f/2,g/2),j=o.x-m*C,E=o.y-b*C,O=o.x+y*C,M=o.y+v*C;r+=`L${j},${E}`,r+=`Q${o.x},${o.y} ${O},${M}`}}return r}x(ek,"generateRoundedPath");function Ep(e,t){if(!e||!t)return{angle:0,deltaX:0,deltaY:0};const r=t.x-e.x,i=t.y-e.y;return{angle:Math.atan2(i,r),deltaX:r,deltaY:i}}x(Ep,"calculateDeltaAndAngle");function tk(e,t){const r=e.map(n=>({...n}));if(e.length>=2&&gt[t.arrowTypeStart]){const n=gt[t.arrowTypeStart],s=e[0],o=e[1],{angle:l}=Ep(s,o),c=n*Math.cos(l),u=n*Math.sin(l);r[0].x=s.x+c,r[0].y=s.y+u}const i=e.length;if(i>=2&&gt[t.arrowTypeEnd]){const n=gt[t.arrowTypeEnd],s=e[i-1],o=e[i-2],{angle:l}=Ep(o,s),c=n*Math.cos(l),u=n*Math.sin(l);r[i-1].x=s.x-c,r[i-1].y=s.y-u}return r}x(tk,"applyMarkerOffsetsToPoints");var UI=x((e,t,r,i)=>{t.forEach(n=>{i$[n](e,r,i)})},"insertMarkers"),zI=x((e,t,r)=>{I.trace("Making markers for ",r),e.append("defs").append("marker").attr("id",r+"_"+t+"-extensionStart").attr("class","marker extension "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-extensionEnd").attr("class","marker extension "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),qI=x((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-compositionStart").attr("class","marker composition "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-compositionEnd").attr("class","marker composition "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),HI=x((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-aggregationStart").attr("class","marker aggregation "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-aggregationEnd").attr("class","marker aggregation "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),WI=x((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-dependencyStart").attr("class","marker dependency "+t).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-dependencyEnd").attr("class","marker dependency "+t).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),GI=x((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-lollipopStart").attr("class","marker lollipop "+t).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),e.append("defs").append("marker").attr("id",r+"_"+t+"-lollipopEnd").attr("class","marker lollipop "+t).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),VI=x((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-pointEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-pointStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),YI=x((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-circleEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-circleStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),XI=x((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-crossEnd").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-crossStart").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),QI=x((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),KI=x((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-onlyOneStart").attr("class","marker onlyOne "+t).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M9,0 L9,18 M15,0 L15,18"),e.append("defs").append("marker").attr("id",r+"_"+t+"-onlyOneEnd").attr("class","marker onlyOne "+t).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M3,0 L3,18 M9,0 L9,18")},"only_one"),JI=x((e,t,r)=>{const i=e.append("defs").append("marker").attr("id",r+"_"+t+"-zeroOrOneStart").attr("class","marker zeroOrOne "+t).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");i.append("circle").attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),i.append("path").attr("d","M9,0 L9,18");const n=e.append("defs").append("marker").attr("id",r+"_"+t+"-zeroOrOneEnd").attr("class","marker zeroOrOne "+t).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");n.append("circle").attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),n.append("path").attr("d","M21,0 L21,18")},"zero_or_one"),ZI=x((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-oneOrMoreStart").attr("class","marker oneOrMore "+t).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),e.append("defs").append("marker").attr("id",r+"_"+t+"-oneOrMoreEnd").attr("class","marker oneOrMore "+t).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18")},"one_or_more"),e$=x((e,t,r)=>{const i=e.append("defs").append("marker").attr("id",r+"_"+t+"-zeroOrMoreStart").attr("class","marker zeroOrMore "+t).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");i.append("circle").attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),i.append("path").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18");const n=e.append("defs").append("marker").attr("id",r+"_"+t+"-zeroOrMoreEnd").attr("class","marker zeroOrMore "+t).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");n.append("circle").attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),n.append("path").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},"zero_or_more"),t$=x((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-requirement_arrowEnd").attr("refX",20).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("path").attr("d",`M0,0
      L20,10
      M20,10
      L0,20`)},"requirement_arrow"),r$=x((e,t,r)=>{const i=e.append("defs").append("marker").attr("id",r+"_"+t+"-requirement_containsStart").attr("refX",0).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("g");i.append("circle").attr("cx",10).attr("cy",10).attr("r",9).attr("fill","none"),i.append("line").attr("x1",1).attr("x2",19).attr("y1",10).attr("y2",10),i.append("line").attr("y1",1).attr("y2",19).attr("x1",10).attr("x2",10)},"requirement_contains"),i$={extension:zI,composition:qI,aggregation:HI,dependency:WI,lollipop:GI,point:VI,circle:YI,cross:XI,barb:QI,only_one:KI,zero_or_one:JI,one_or_more:ZI,zero_or_more:e$,requirement_arrow:t$,requirement_contains:r$},n$=UI,s$={common:Ns,getConfig:xt,insertCluster:pI,insertEdge:FI,insertEdgeLabel:MI,insertMarkers:n$,insertNode:Jw,interpolateToCurve:fg,labelHelper:oe,log:I,positionEdgeLabel:BI},io={},rk=x(e=>{for(const t of e)io[t.name]=t},"registerLayoutLoaders"),a$=x(()=>{rk([{name:"dagre",loader:x(async()=>await Se(()=>import("./dagre-6UL2VRFP-9b89459e.js"),["assets/dagre-6UL2VRFP-9b89459e.js","assets/graph-98e5882d.js","assets/_baseUniq-9095521f.js","assets/layout-670f24de.js","assets/_basePickBy-21094d8c.js","assets/clone-a500eccc.js"]),"loader")},{name:"cose-bilkent",loader:x(async()=>await Se(()=>import("./cose-bilkent-S5V4N54A-e0c51fd0.js"),["assets/cose-bilkent-S5V4N54A-e0c51fd0.js","assets/cytoscape.esm-c32909fe.js"]),"loader")}])},"registerDefaultLayoutLoaders");a$();var u8=x(async(e,t)=>{if(!(e.layoutAlgorithm in io))throw new Error(`Unknown layout algorithm: ${e.layoutAlgorithm}`);const r=io[e.layoutAlgorithm];return(await r.loader()).render(e,t,s$,{algorithm:r.algorithm})},"render"),d8=x((e="",{fallback:t="dagre"}={})=>{if(e in io)return e;if(t in io)return I.warn(`Layout algorithm ${e} is not registered. Using ${t} as fallback.`),t;throw new Error(`Both layout algorithms ${e} and ${t} are not registered.`)},"getRegisteredLayoutAlgorithm"),ik="comm",nk="rule",sk="decl",o$="@import",l$="@namespace",c$="@keyframes",u$="@layer",ak=Math.abs,Mg=String.fromCharCode;function ok(e){return e.trim()}function Fl(e,t,r){return e.replace(t,r)}function d$(e,t,r){return e.indexOf(t,r)}function ss(e,t){return e.charCodeAt(t)|0}function bs(e,t,r){return e.slice(t,r)}function Er(e){return e.length}function h$(e){return e.length}function pl(e,t){return t.push(e),e}var Iu=1,Ss=1,lk=0,or=0,He=0,Ls="";function Bg(e,t,r,i,n,s,o,l){return{value:e,root:t,parent:r,type:i,props:n,children:s,line:Iu,column:Ss,length:o,return:"",siblings:l}}function p$(){return He}function f$(){return He=or>0?ss(Ls,--or):0,Ss--,He===10&&(Ss=1,Iu--),He}function vr(){return He=or<lk?ss(Ls,or++):0,Ss++,He===10&&(Ss=1,Iu++),He}function vi(){return ss(Ls,or)}function Ul(){return or}function $u(e,t){return bs(Ls,e,t)}function no(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function g$(e){return Iu=Ss=1,lk=Er(Ls=e),or=0,[]}function m$(e){return Ls="",e}function zd(e){return ok($u(or-1,Ap(e===91?e+2:e===40?e+1:e)))}function x$(e){for(;(He=vi())&&He<33;)vr();return no(e)>2||no(He)>3?"":" "}function y$(e,t){for(;--t&&vr()&&!(He<48||He>102||He>57&&He<65||He>70&&He<97););return $u(e,Ul()+(t<6&&vi()==32&&vr()==32))}function Ap(e){for(;vr();)switch(He){case e:return or;case 34:case 39:e!==34&&e!==39&&Ap(He);break;case 40:e===41&&Ap(e);break;case 92:vr();break}return or}function v$(e,t){for(;vr()&&e+He!==47+10;)if(e+He===42+42&&vi()===47)break;return"/*"+$u(t,or-1)+"*"+Mg(e===47?e:vr())}function b$(e){for(;!no(vi());)vr();return $u(e,or)}function S$(e){return m$(zl("",null,null,null,[""],e=g$(e),0,[0],e))}function zl(e,t,r,i,n,s,o,l,c){for(var u=0,d=0,h=o,p=0,f=0,g=0,m=1,b=1,y=1,v=0,S="",w=n,k=s,C=i,j=S;b;)switch(g=v,v=vr()){case 40:if(g!=108&&ss(j,h-1)==58){d$(j+=Fl(zd(v),"&","&\f"),"&\f",ak(u?l[u-1]:0))!=-1&&(y=-1);break}case 34:case 39:case 91:j+=zd(v);break;case 9:case 10:case 13:case 32:j+=x$(g);break;case 92:j+=y$(Ul()-1,7);continue;case 47:switch(vi()){case 42:case 47:pl(C$(v$(vr(),Ul()),t,r,c),c),(no(g||1)==5||no(vi()||1)==5)&&Er(j)&&bs(j,-1,void 0)!==" "&&(j+=" ");break;default:j+="/"}break;case 123*m:l[u++]=Er(j)*y;case 125*m:case 59:case 0:switch(v){case 0:case 125:b=0;case 59+d:y==-1&&(j=Fl(j,/\f/g,"")),f>0&&(Er(j)-h||m===0&&g===47)&&pl(f>32?q0(j+";",i,r,h-1,c):q0(Fl(j," ","")+";",i,r,h-2,c),c);break;case 59:j+=";";default:if(pl(C=z0(j,t,r,u,d,n,l,S,w=[],k=[],h,s),s),v===123)if(d===0)zl(j,t,C,C,w,s,h,l,k);else{switch(p){case 99:if(ss(j,3)===110)break;case 108:if(ss(j,2)===97)break;default:d=0;case 100:case 109:case 115:}d?zl(e,C,C,i&&pl(z0(e,C,C,0,0,n,l,S,n,w=[],h,k),k),n,k,h,l,i?w:k):zl(j,C,C,C,[""],k,0,l,k)}}u=d=f=0,m=y=1,S=j="",h=o;break;case 58:h=1+Er(j),f=g;default:if(m<1){if(v==123)--m;else if(v==125&&m++==0&&f$()==125)continue}switch(j+=Mg(v),v*m){case 38:y=d>0?1:(j+="\f",-1);break;case 44:l[u++]=(Er(j)-1)*y,y=1;break;case 64:vi()===45&&(j+=zd(vr())),p=vi(),d=h=Er(S=j+=b$(Ul())),v++;break;case 45:g===45&&Er(j)==2&&(m=0)}}return s}function z0(e,t,r,i,n,s,o,l,c,u,d,h){for(var p=n-1,f=n===0?s:[""],g=h$(f),m=0,b=0,y=0;m<i;++m)for(var v=0,S=bs(e,p+1,p=ak(b=o[m])),w=e;v<g;++v)(w=ok(b>0?f[v]+" "+S:Fl(S,/&\f/g,f[v])))&&(c[y++]=w);return Bg(e,t,r,n===0?nk:l,c,u,d,h)}function C$(e,t,r,i){return Bg(e,t,r,ik,Mg(p$()),bs(e,2,-2),0,i)}function q0(e,t,r,i,n){return Bg(e,t,r,sk,bs(e,0,i),bs(e,i+1,-1),i,n)}function Rp(e,t){for(var r="",i=0;i<e.length;i++)r+=t(e[i],i,e,t)||"";return r}function w$(e,t,r,i){switch(e.type){case u$:if(e.children.length)break;case o$:case l$:case sk:return e.return=e.return||e.value;case ik:return"";case c$:return e.return=e.value+"{"+Rp(e.children,i)+"}";case nk:if(!Er(e.value=e.props.join(",")))return""}return Er(r=Rp(e.children,i))?e.return=e.value+"{"+r+"}":""}var k$=MC(Object.keys,Object);const j$=k$;var _$=Object.prototype,N$=_$.hasOwnProperty;function T$(e){if(!Tu(e))return j$(e);var t=[];for(var r in Object(e))N$.call(e,r)&&r!="constructor"&&t.push(r);return t}var E$=jn(Or,"DataView");const Lp=E$;var A$=jn(Or,"Promise");const Pp=A$;var R$=jn(Or,"Set");const Mp=R$;var L$=jn(Or,"WeakMap");const Bp=L$;var H0="[object Map]",P$="[object Object]",W0="[object Promise]",G0="[object Set]",V0="[object WeakMap]",Y0="[object DataView]",M$=kn(Lp),B$=kn(to),D$=kn(Pp),O$=kn(Mp),I$=kn(Bp),Xi=Es;(Lp&&Xi(new Lp(new ArrayBuffer(1)))!=Y0||to&&Xi(new to)!=H0||Pp&&Xi(Pp.resolve())!=W0||Mp&&Xi(new Mp)!=G0||Bp&&Xi(new Bp)!=V0)&&(Xi=function(e){var t=Es(e),r=t==P$?e.constructor:void 0,i=r?kn(r):"";if(i)switch(i){case M$:return Y0;case B$:return H0;case D$:return W0;case O$:return G0;case I$:return V0}return t});const $$=Xi;var F$="[object Map]",U$="[object Set]",z$=Object.prototype,q$=z$.hasOwnProperty;function X0(e){if(e==null)return!0;if(Eu(e)&&($c(e)||typeof e=="string"||typeof e.splice=="function"||hg(e)||pg(e)||Ic(e)))return!e.length;var t=$$(e);if(t==F$||t==U$)return!e.size;if(Tu(e))return!T$(e).length;for(var r in e)if(q$.call(e,r))return!1;return!0}var ck="c4",H$=x(e=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(e),"detector"),W$=x(async()=>{const{diagram:e}=await Se(()=>import("./c4Diagram-YG6GDRKO-f9f04ecb.js"),["assets/c4Diagram-YG6GDRKO-f9f04ecb.js","assets/chunk-TZMSLE5B-7726c29b.js"]);return{id:ck,diagram:e}},"loader"),G$={id:ck,detector:H$,loader:W$},V$=G$,uk="flowchart",Y$=x((e,t)=>{var r,i;return((r=t==null?void 0:t.flowchart)==null?void 0:r.defaultRenderer)==="dagre-wrapper"||((i=t==null?void 0:t.flowchart)==null?void 0:i.defaultRenderer)==="elk"?!1:/^\s*graph/.test(e)},"detector"),X$=x(async()=>{const{diagram:e}=await Se(()=>import("./flowDiagram-NV44I4VS-923e81d3.js"),["assets/flowDiagram-NV44I4VS-923e81d3.js","assets/chunk-FMBD7UC4-d935c7b4.js","assets/chunk-55IACEB6-290234a3.js","assets/chunk-QN33PNHL-8447d257.js","assets/channel-99830828.js"]);return{id:uk,diagram:e}},"loader"),Q$={id:uk,detector:Y$,loader:X$},K$=Q$,dk="flowchart-v2",J$=x((e,t)=>{var r,i,n;return((r=t==null?void 0:t.flowchart)==null?void 0:r.defaultRenderer)==="dagre-d3"?!1:(((i=t==null?void 0:t.flowchart)==null?void 0:i.defaultRenderer)==="elk"&&(t.layout="elk"),/^\s*graph/.test(e)&&((n=t==null?void 0:t.flowchart)==null?void 0:n.defaultRenderer)==="dagre-wrapper"?!0:/^\s*flowchart/.test(e))},"detector"),Z$=x(async()=>{const{diagram:e}=await Se(()=>import("./flowDiagram-NV44I4VS-923e81d3.js"),["assets/flowDiagram-NV44I4VS-923e81d3.js","assets/chunk-FMBD7UC4-d935c7b4.js","assets/chunk-55IACEB6-290234a3.js","assets/chunk-QN33PNHL-8447d257.js","assets/channel-99830828.js"]);return{id:dk,diagram:e}},"loader"),e5={id:dk,detector:J$,loader:Z$},t5=e5,hk="er",r5=x(e=>/^\s*erDiagram/.test(e),"detector"),i5=x(async()=>{const{diagram:e}=await Se(()=>import("./erDiagram-Q2GNP2WA-42fe6d94.js"),["assets/erDiagram-Q2GNP2WA-42fe6d94.js","assets/chunk-55IACEB6-290234a3.js","assets/chunk-QN33PNHL-8447d257.js","assets/channel-99830828.js"]);return{id:hk,diagram:e}},"loader"),n5={id:hk,detector:r5,loader:i5},s5=n5,pk="gitGraph",a5=x(e=>/^\s*gitGraph/.test(e),"detector"),o5=x(async()=>{const{diagram:e}=await Se(()=>import("./gitGraphDiagram-NY62KEGX-c7eb2f5b.js"),["assets/gitGraphDiagram-NY62KEGX-c7eb2f5b.js","assets/chunk-4BX2VUAB-0a854930.js","assets/chunk-QZHKN3VN-c5674b85.js","assets/mermaid-parser.core-8dd6c542.js","assets/_baseUniq-9095521f.js","assets/_basePickBy-21094d8c.js","assets/clone-a500eccc.js"]);return{id:pk,diagram:e}},"loader"),l5={id:pk,detector:a5,loader:o5},c5=l5,fk="gantt",u5=x(e=>/^\s*gantt/.test(e),"detector"),d5=x(async()=>{const{diagram:e}=await Se(()=>import("./ganttDiagram-LVOFAZNH-d9cda7a0.js"),["assets/ganttDiagram-LVOFAZNH-d9cda7a0.js","assets/linear-0ed39714.js","assets/init-77b53fdd.js","assets/defaultLocale-b5afb42d.js"]);return{id:fk,diagram:e}},"loader"),h5={id:fk,detector:u5,loader:d5},p5=h5,gk="info",f5=x(e=>/^\s*info/.test(e),"detector"),g5=x(async()=>{const{diagram:e}=await Se(()=>import("./infoDiagram-F6ZHWCRC-a33c9896.js"),["assets/infoDiagram-F6ZHWCRC-a33c9896.js","assets/mermaid-parser.core-8dd6c542.js","assets/_baseUniq-9095521f.js","assets/_basePickBy-21094d8c.js","assets/clone-a500eccc.js"]);return{id:gk,diagram:e}},"loader"),m5={id:gk,detector:f5,loader:g5},mk="pie",x5=x(e=>/^\s*pie/.test(e),"detector"),y5=x(async()=>{const{diagram:e}=await Se(()=>import("./pieDiagram-ADFJNKIX-705054b5.js"),["assets/pieDiagram-ADFJNKIX-705054b5.js","assets/chunk-4BX2VUAB-0a854930.js","assets/mermaid-parser.core-8dd6c542.js","assets/_baseUniq-9095521f.js","assets/_basePickBy-21094d8c.js","assets/clone-a500eccc.js","assets/arc-41143e9b.js","assets/ordinal-ba9b4969.js","assets/init-77b53fdd.js"]);return{id:mk,diagram:e}},"loader"),v5={id:mk,detector:x5,loader:y5},xk="quadrantChart",b5=x(e=>/^\s*quadrantChart/.test(e),"detector"),S5=x(async()=>{const{diagram:e}=await Se(()=>import("./quadrantDiagram-AYHSOK5B-07a35d90.js"),["assets/quadrantDiagram-AYHSOK5B-07a35d90.js","assets/linear-0ed39714.js","assets/init-77b53fdd.js","assets/defaultLocale-b5afb42d.js"]);return{id:xk,diagram:e}},"loader"),C5={id:xk,detector:b5,loader:S5},w5=C5,yk="xychart",k5=x(e=>/^\s*xychart(-beta)?/.test(e),"detector"),j5=x(async()=>{const{diagram:e}=await Se(()=>import("./xychartDiagram-PRI3JC2R-fb645a80.js"),["assets/xychartDiagram-PRI3JC2R-fb645a80.js","assets/init-77b53fdd.js","assets/ordinal-ba9b4969.js","assets/linear-0ed39714.js","assets/defaultLocale-b5afb42d.js"]);return{id:yk,diagram:e}},"loader"),_5={id:yk,detector:k5,loader:j5},N5=_5,vk="requirement",T5=x(e=>/^\s*requirement(Diagram)?/.test(e),"detector"),E5=x(async()=>{const{diagram:e}=await Se(()=>import("./requirementDiagram-UZGBJVZJ-60b4fc0e.js"),["assets/requirementDiagram-UZGBJVZJ-60b4fc0e.js","assets/chunk-55IACEB6-290234a3.js","assets/chunk-QN33PNHL-8447d257.js"]);return{id:vk,diagram:e}},"loader"),A5={id:vk,detector:T5,loader:E5},R5=A5,bk="sequence",L5=x(e=>/^\s*sequenceDiagram/.test(e),"detector"),P5=x(async()=>{const{diagram:e}=await Se(()=>import("./sequenceDiagram-WL72ISMW-60de3275.js"),["assets/sequenceDiagram-WL72ISMW-60de3275.js","assets/chunk-TZMSLE5B-7726c29b.js","assets/chunk-QZHKN3VN-c5674b85.js"]);return{id:bk,diagram:e}},"loader"),M5={id:bk,detector:L5,loader:P5},B5=M5,Sk="class",D5=x((e,t)=>{var r;return((r=t==null?void 0:t.class)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!1:/^\s*classDiagram/.test(e)},"detector"),O5=x(async()=>{const{diagram:e}=await Se(()=>import("./classDiagram-2ON5EDUG-7242ba92.js"),["assets/classDiagram-2ON5EDUG-7242ba92.js","assets/chunk-B4BG7PRW-f5859514.js","assets/chunk-FMBD7UC4-d935c7b4.js","assets/chunk-55IACEB6-290234a3.js","assets/chunk-QN33PNHL-8447d257.js"]);return{id:Sk,diagram:e}},"loader"),I5={id:Sk,detector:D5,loader:O5},$5=I5,Ck="classDiagram",F5=x((e,t)=>{var r;return/^\s*classDiagram/.test(e)&&((r=t==null?void 0:t.class)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!0:/^\s*classDiagram-v2/.test(e)},"detector"),U5=x(async()=>{const{diagram:e}=await Se(()=>import("./classDiagram-v2-WZHVMYZB-7242ba92.js"),["assets/classDiagram-v2-WZHVMYZB-7242ba92.js","assets/chunk-B4BG7PRW-f5859514.js","assets/chunk-FMBD7UC4-d935c7b4.js","assets/chunk-55IACEB6-290234a3.js","assets/chunk-QN33PNHL-8447d257.js"]);return{id:Ck,diagram:e}},"loader"),z5={id:Ck,detector:F5,loader:U5},q5=z5,wk="state",H5=x((e,t)=>{var r;return((r=t==null?void 0:t.state)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!1:/^\s*stateDiagram/.test(e)},"detector"),W5=x(async()=>{const{diagram:e}=await Se(()=>import("./stateDiagram-FKZM4ZOC-96f056f1.js"),["assets/stateDiagram-FKZM4ZOC-96f056f1.js","assets/chunk-DI55MBZ5-f55ab872.js","assets/chunk-55IACEB6-290234a3.js","assets/chunk-QN33PNHL-8447d257.js","assets/graph-98e5882d.js","assets/_baseUniq-9095521f.js","assets/layout-670f24de.js","assets/_basePickBy-21094d8c.js"]);return{id:wk,diagram:e}},"loader"),G5={id:wk,detector:H5,loader:W5},V5=G5,kk="stateDiagram",Y5=x((e,t)=>{var r;return!!(/^\s*stateDiagram-v2/.test(e)||/^\s*stateDiagram/.test(e)&&((r=t==null?void 0:t.state)==null?void 0:r.defaultRenderer)==="dagre-wrapper")},"detector"),X5=x(async()=>{const{diagram:e}=await Se(()=>import("./stateDiagram-v2-4FDKWEC3-d0421382.js"),["assets/stateDiagram-v2-4FDKWEC3-d0421382.js","assets/chunk-DI55MBZ5-f55ab872.js","assets/chunk-55IACEB6-290234a3.js","assets/chunk-QN33PNHL-8447d257.js"]);return{id:kk,diagram:e}},"loader"),Q5={id:kk,detector:Y5,loader:X5},K5=Q5,jk="journey",J5=x(e=>/^\s*journey/.test(e),"detector"),Z5=x(async()=>{const{diagram:e}=await Se(()=>import("./journeyDiagram-XKPGCS4Q-0010abdb.js"),["assets/journeyDiagram-XKPGCS4Q-0010abdb.js","assets/chunk-TZMSLE5B-7726c29b.js","assets/chunk-FMBD7UC4-d935c7b4.js","assets/arc-41143e9b.js"]);return{id:jk,diagram:e}},"loader"),eF={id:jk,detector:J5,loader:Z5},tF=eF,rF=x((e,t,r)=>{I.debug(`rendering svg for syntax error
`);const i=uP(t),n=i.append("g");i.attr("viewBox","0 0 2412 512"),Qb(i,100,512,!0),n.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),n.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),n.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),n.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),n.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),n.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),n.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),n.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${r}`)},"draw"),_k={draw:rF},iF=_k,nF={db:{},renderer:_k,parser:{parse:x(()=>{},"parse")}},sF=nF,Nk="flowchart-elk",aF=x((e,t={})=>{var r;return/^\s*flowchart-elk/.test(e)||/^\s*(flowchart|graph)/.test(e)&&((r=t==null?void 0:t.flowchart)==null?void 0:r.defaultRenderer)==="elk"?(t.layout="elk",!0):!1},"detector"),oF=x(async()=>{const{diagram:e}=await Se(()=>import("./flowDiagram-NV44I4VS-923e81d3.js"),["assets/flowDiagram-NV44I4VS-923e81d3.js","assets/chunk-FMBD7UC4-d935c7b4.js","assets/chunk-55IACEB6-290234a3.js","assets/chunk-QN33PNHL-8447d257.js","assets/channel-99830828.js"]);return{id:Nk,diagram:e}},"loader"),lF={id:Nk,detector:aF,loader:oF},cF=lF,Tk="timeline",uF=x(e=>/^\s*timeline/.test(e),"detector"),dF=x(async()=>{const{diagram:e}=await Se(()=>import("./timeline-definition-IT6M3QCI-ad10343a.js"),["assets/timeline-definition-IT6M3QCI-ad10343a.js","assets/arc-41143e9b.js"]);return{id:Tk,diagram:e}},"loader"),hF={id:Tk,detector:uF,loader:dF},pF=hF,Ek="mindmap",fF=x(e=>/^\s*mindmap/.test(e),"detector"),gF=x(async()=>{const{diagram:e}=await Se(()=>import("./mindmap-definition-VGOIOE7T-45d82367.js"),["assets/mindmap-definition-VGOIOE7T-45d82367.js","assets/chunk-55IACEB6-290234a3.js","assets/chunk-QN33PNHL-8447d257.js"]);return{id:Ek,diagram:e}},"loader"),mF={id:Ek,detector:fF,loader:gF},xF=mF,Ak="kanban",yF=x(e=>/^\s*kanban/.test(e),"detector"),vF=x(async()=>{const{diagram:e}=await Se(()=>import("./kanban-definition-3W4ZIXB7-9e1c1ca2.js"),["assets/kanban-definition-3W4ZIXB7-9e1c1ca2.js","assets/chunk-FMBD7UC4-d935c7b4.js"]);return{id:Ak,diagram:e}},"loader"),bF={id:Ak,detector:yF,loader:vF},SF=bF,Rk="sankey",CF=x(e=>/^\s*sankey(-beta)?/.test(e),"detector"),wF=x(async()=>{const{diagram:e}=await Se(()=>import("./sankeyDiagram-TZEHDZUN-9da4868a.js"),["assets/sankeyDiagram-TZEHDZUN-9da4868a.js","assets/ordinal-ba9b4969.js","assets/init-77b53fdd.js"]);return{id:Rk,diagram:e}},"loader"),kF={id:Rk,detector:CF,loader:wF},jF=kF,Lk="packet",_F=x(e=>/^\s*packet(-beta)?/.test(e),"detector"),NF=x(async()=>{const{diagram:e}=await Se(()=>import("./diagram-S2PKOQOG-f0d70fd0.js"),["assets/diagram-S2PKOQOG-f0d70fd0.js","assets/chunk-4BX2VUAB-0a854930.js","assets/mermaid-parser.core-8dd6c542.js","assets/_baseUniq-9095521f.js","assets/_basePickBy-21094d8c.js","assets/clone-a500eccc.js"]);return{id:Lk,diagram:e}},"loader"),TF={id:Lk,detector:_F,loader:NF},Pk="radar",EF=x(e=>/^\s*radar-beta/.test(e),"detector"),AF=x(async()=>{const{diagram:e}=await Se(()=>import("./diagram-QEK2KX5R-dee57918.js"),["assets/diagram-QEK2KX5R-dee57918.js","assets/chunk-4BX2VUAB-0a854930.js","assets/mermaid-parser.core-8dd6c542.js","assets/_baseUniq-9095521f.js","assets/_basePickBy-21094d8c.js","assets/clone-a500eccc.js"]);return{id:Pk,diagram:e}},"loader"),RF={id:Pk,detector:EF,loader:AF},Mk="block",LF=x(e=>/^\s*block(-beta)?/.test(e),"detector"),PF=x(async()=>{const{diagram:e}=await Se(()=>import("./blockDiagram-VD42YOAC-b7917cca.js"),["assets/blockDiagram-VD42YOAC-b7917cca.js","assets/chunk-FMBD7UC4-d935c7b4.js","assets/clone-a500eccc.js","assets/_baseUniq-9095521f.js","assets/graph-98e5882d.js","assets/channel-99830828.js"]);return{id:Mk,diagram:e}},"loader"),MF={id:Mk,detector:LF,loader:PF},BF=MF,Bk="architecture",DF=x(e=>/^\s*architecture/.test(e),"detector"),OF=x(async()=>{const{diagram:e}=await Se(()=>import("./architectureDiagram-VXUJARFQ-64210ce5.js"),["assets/architectureDiagram-VXUJARFQ-64210ce5.js","assets/chunk-4BX2VUAB-0a854930.js","assets/mermaid-parser.core-8dd6c542.js","assets/_baseUniq-9095521f.js","assets/_basePickBy-21094d8c.js","assets/clone-a500eccc.js","assets/cytoscape.esm-c32909fe.js"]);return{id:Bk,diagram:e}},"loader"),IF={id:Bk,detector:DF,loader:OF},$F=IF,Dk="treemap",FF=x(e=>/^\s*treemap/.test(e),"detector"),UF=x(async()=>{const{diagram:e}=await Se(()=>import("./diagram-PSM6KHXK-448b6e06.js"),["assets/diagram-PSM6KHXK-448b6e06.js","assets/chunk-QN33PNHL-8447d257.js","assets/chunk-4BX2VUAB-0a854930.js","assets/mermaid-parser.core-8dd6c542.js","assets/_baseUniq-9095521f.js","assets/_basePickBy-21094d8c.js","assets/clone-a500eccc.js","assets/defaultLocale-b5afb42d.js","assets/ordinal-ba9b4969.js","assets/init-77b53fdd.js"]);return{id:Dk,diagram:e}},"loader"),zF={id:Dk,detector:FF,loader:UF},Q0=!1,Fu=x(()=>{Q0||(Q0=!0,vc("error",sF,e=>e.toLowerCase().trim()==="error"),vc("---",{db:{clear:x(()=>{},"clear")},styles:{},renderer:{draw:x(()=>{},"draw")},parser:{parse:x(()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")},"parse")},init:x(()=>null,"init")},e=>e.toLowerCase().trimStart().startsWith("---")),zh(cF,xF,$F),zh(V$,SF,q5,$5,s5,p5,m5,v5,R5,B5,t5,K$,pF,c5,K5,V5,tF,w5,jF,TF,N5,BF,RF,zF))},"addDiagrams"),qF=x(async()=>{I.debug("Loading registered diagrams");const t=(await Promise.allSettled(Object.entries(hn).map(async([r,{detector:i,loader:n}])=>{if(n)try{Gh(r)}catch{try{const{diagram:s,id:o}=await n();vc(o,s,i)}catch(s){throw I.error(`Failed to load external diagram with key ${r}. Removing from detectors.`),delete hn[r],s}}}))).filter(r=>r.status==="rejected");if(t.length>0){I.error(`Failed to load ${t.length} external diagrams`);for(const r of t)I.error(r);throw new Error(`Failed to load ${t.length} external diagrams`)}},"loadRegisteredDiagrams"),HF="graphics-document document";function Ok(e,t){e.attr("role",HF),t!==""&&e.attr("aria-roledescription",t)}x(Ok,"setA11yDiagramInfo");function Ik(e,t,r,i){if(e.insert!==void 0){if(r){const n=`chart-desc-${i}`;e.attr("aria-describedby",n),e.insert("desc",":first-child").attr("id",n).text(r)}if(t){const n=`chart-title-${i}`;e.attr("aria-labelledby",n),e.insert("title",":first-child").attr("id",n).text(t)}}}x(Ik,"addSVGa11yTitleDescription");var Cs,Dp=(Cs=class{constructor(t,r,i,n,s){this.type=t,this.text=r,this.db=i,this.parser=n,this.renderer=s}static async fromText(t,r={}){var u,d;const i=xt(),n=Df(t,i);t=DO(t)+`
`;try{Gh(n)}catch{const h=FE(n);if(!h)throw new Ib(`Diagram ${n} not found.`);const{id:p,diagram:f}=await h();vc(p,f)}const{db:s,parser:o,renderer:l,init:c}=Gh(n);return o.parser&&(o.parser.yy=s),(u=s.clear)==null||u.call(s),c==null||c(i),r.title&&((d=s.setDiagramTitle)==null||d.call(s,r.title)),await o.parse(t),new Cs(n,t,s,o,l)}async render(t,r){await this.renderer.draw(this.text,t,r,this)}getParser(){return this.parser}getType(){return this.type}},x(Cs,"Diagram"),Cs),K0=[],WF=x(()=>{K0.forEach(e=>{e()}),K0=[]},"attachFunctions"),GF=x(e=>e.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart(),"cleanupComments");function $k(e){const t=e.match(Ob);if(!t)return{text:e,metadata:{}};let r=xM(t[1],{schema:mM})??{};r=typeof r=="object"&&!Array.isArray(r)?r:{};const i={};return r.displayMode&&(i.displayMode=r.displayMode.toString()),r.title&&(i.title=r.title.toString()),r.config&&(i.config=r.config),{text:e.slice(t[0].length),metadata:i}}x($k,"extractFrontMatter");var VF=x(e=>e.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(t,r,i)=>"<"+r+i.replace(/="([^"]*)"/g,"='$1'")+">"),"cleanupText"),YF=x(e=>{const{text:t,metadata:r}=$k(e),{displayMode:i,title:n,config:s={}}=r;return i&&(s.gantt||(s.gantt={}),s.gantt.displayMode=i),{title:n,config:s,text:t}},"processFrontmatter"),XF=x(e=>{const t=gr.detectInit(e)??{},r=gr.detectDirective(e,"wrap");return Array.isArray(r)?t.wrap=r.some(({type:i})=>i==="wrap"):(r==null?void 0:r.type)==="wrap"&&(t.wrap=!0),{text:wO(e),directive:t}},"processDirectives");function Dg(e){const t=VF(e),r=YF(t),i=XF(r.text),n=vg(r.config,i.directive);return e=GF(i.text),{code:e,title:r.title,config:n}}x(Dg,"preprocessDiagram");function Fk(e){const t=new TextEncoder().encode(e),r=Array.from(t,i=>String.fromCodePoint(i)).join("");return btoa(r)}x(Fk,"toBase64");var QF=5e4,KF="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",JF="sandbox",ZF="loose",e6="http://www.w3.org/2000/svg",t6="http://www.w3.org/1999/xlink",r6="http://www.w3.org/1999/xhtml",i6="100%",n6="100%",s6="border:0;margin:0;",a6="margin:0",o6="allow-top-navigation-by-user-activation allow-popups",l6='The "iframe" tag is not supported by your browser.',c6=["foreignobject"],u6=["dominant-baseline"];function Og(e){const t=Dg(e);return xc(),rA(t.config??{}),t}x(Og,"processAndSetConfigs");async function Uk(e,t){Fu();try{const{code:r,config:i}=Og(e);return{diagramType:(await qk(r)).type,config:i}}catch(r){if(t!=null&&t.suppressErrors)return!1;throw r}}x(Uk,"parse");var J0=x((e,t,r=[])=>`
.${e} ${t} { ${r.join(" !important; ")} !important; }`,"cssImportantStyles"),d6=x((e,t=new Map)=>{var i;let r="";if(e.themeCSS!==void 0&&(r+=`
${e.themeCSS}`),e.fontFamily!==void 0&&(r+=`
:root { --mermaid-font-family: ${e.fontFamily}}`),e.altFontFamily!==void 0&&(r+=`
:root { --mermaid-alt-font-family: ${e.altFontFamily}}`),t instanceof Map){const l=e.htmlLabels??((i=e.flowchart)==null?void 0:i.htmlLabels)?["> *","span"]:["rect","polygon","ellipse","circle","path"];t.forEach(c=>{X0(c.styles)||l.forEach(u=>{r+=J0(c.id,u,c.styles)}),X0(c.textStyles)||(r+=J0(c.id,"tspan",((c==null?void 0:c.textStyles)||[]).map(u=>u.replace("color","fill"))))})}return r},"createCssStyles"),h6=x((e,t,r,i)=>{const n=d6(e,r),s=CA(t,n,e.themeVariables);return Rp(S$(`${i}{${s}}`),w$)},"createUserStyles"),p6=x((e="",t,r)=>{let i=e;return!r&&!t&&(i=i.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),i=_n(i),i=i.replace(/<br>/g,"<br/>"),i},"cleanUpSvgCode"),f6=x((e="",t)=>{var n,s;const r=(s=(n=t==null?void 0:t.viewBox)==null?void 0:n.baseVal)!=null&&s.height?t.viewBox.baseVal.height+"px":n6,i=Fk(`<body style="${a6}">${e}</body>`);return`<iframe style="width:${i6};height:${r};${s6}" src="data:text/html;charset=UTF-8;base64,${i}" sandbox="${o6}">
  ${l6}
</iframe>`},"putIntoIFrame"),Z0=x((e,t,r,i,n)=>{const s=e.append("div");s.attr("id",r),i&&s.attr("style",i);const o=s.append("svg").attr("id",t).attr("width","100%").attr("xmlns",e6);return n&&o.attr("xmlns:xlink",n),o.append("g"),e},"appendDivSvgG");function Op(e,t){return e.append("iframe").attr("id",t).attr("style","width: 100%; height: 100%;").attr("sandbox","")}x(Op,"sandboxedIframe");var g6=x((e,t,r,i)=>{var n,s,o;(n=e.getElementById(t))==null||n.remove(),(s=e.getElementById(r))==null||s.remove(),(o=e.getElementById(i))==null||o.remove()},"removeExistingElements"),m6=x(async function(e,t,r){var H,$,P,R,A,B;Fu();const i=Og(t);t=i.code;const n=xt();I.debug(n),t.length>((n==null?void 0:n.maxTextSize)??QF)&&(t=KF);const s="#"+e,o="i"+e,l="#"+o,c="d"+e,u="#"+c,d=x(()=>{const D=xe(p?l:u).node();D&&"remove"in D&&D.remove()},"removeTempElements");let h=xe("body");const p=n.securityLevel===JF,f=n.securityLevel===ZF,g=n.fontFamily;if(r!==void 0){if(r&&(r.innerHTML=""),p){const _=Op(xe(r),o);h=xe(_.nodes()[0].contentDocument.body),h.node().style.margin=0}else h=xe(r);Z0(h,e,c,`font-family: ${g}`,t6)}else{if(g6(document,e,c,o),p){const _=Op(xe("body"),o);h=xe(_.nodes()[0].contentDocument.body),h.node().style.margin=0}else h=xe("body");Z0(h,e,c)}let m,b;try{m=await Dp.fromText(t,{title:i.title})}catch(_){if(n.suppressErrorRendering)throw d(),_;m=await Dp.fromText("error"),b=_}const y=h.select(u).node(),v=m.type,S=y.firstChild,w=S.firstChild,k=($=(H=m.renderer).getClasses)==null?void 0:$.call(H,t,m),C=h6(n,v,k,s),j=document.createElement("style");j.innerHTML=C,S.insertBefore(j,w);try{await m.renderer.draw(t,e,Sx.version,m)}catch(_){throw n.suppressErrorRendering?d():iF.draw(t,e,Sx.version),_}const E=h.select(`${u} svg`),O=(R=(P=m.db).getAccTitle)==null?void 0:R.call(P),M=(B=(A=m.db).getAccDescription)==null?void 0:B.call(A);Hk(v,E,O,M),h.select(`[id="${e}"]`).selectAll("foreignobject > *").attr("xmlns",r6);let L=h.select(u).node().innerHTML;if(I.debug("config.arrowMarkerAbsolute",n.arrowMarkerAbsolute),L=p6(L,p,Je(n.arrowMarkerAbsolute)),p){const _=h.select(u+" svg").node();L=f6(L,_)}else f||(L=ps.sanitize(L,{ADD_TAGS:c6,ADD_ATTR:u6,HTML_INTEGRATION_POINTS:{foreignobject:!0}}));if(WF(),b)throw b;return d(),{diagramType:v,svg:L,bindFunctions:m.db.bindFunctions}},"render");function zk(e={}){var i;const t=Xe({},e);t!=null&&t.fontFamily&&!((i=t.themeVariables)!=null&&i.fontFamily)&&(t.themeVariables||(t.themeVariables={}),t.themeVariables.fontFamily=t.fontFamily),eA(t),t!=null&&t.theme&&t.theme in Zr?t.themeVariables=Zr[t.theme].getThemeVariables(t.themeVariables):t&&(t.themeVariables=Zr.default.getThemeVariables(t.themeVariables));const r=typeof t=="object"?ZE(t):qb();Bf(r.logLevel),Fu()}x(zk,"initialize");var qk=x((e,t={})=>{const{code:r}=Dg(e);return Dp.fromText(r,t)},"getDiagramFromText");function Hk(e,t,r,i){Ok(t,e),Ik(t,r,i,t.attr("id"))}x(Hk,"addA11yInfo");var yn=Object.freeze({render:m6,parse:Uk,getDiagramFromText:qk,initialize:zk,getConfig:xt,setConfig:Hb,getSiteConfig:qb,updateSiteConfig:tA,reset:x(()=>{xc()},"reset"),globalReset:x(()=>{xc(fs)},"globalReset"),defaultConfig:fs});Bf(xt().logLevel);xc(xt());var x6=x((e,t,r)=>{I.warn(e),yg(e)?(r&&r(e.str,e.hash),t.push({...e,message:e.str,error:e})):(r&&r(e),e instanceof Error&&t.push({str:e.message,message:e.message,hash:e.name,error:e}))},"handleError"),Wk=x(async function(e={querySelector:".mermaid"}){try{await y6(e)}catch(t){if(yg(t)&&I.error(t.str),Vt.parseError&&Vt.parseError(t),!e.suppressErrors)throw I.error("Use the suppressErrors option to suppress these errors"),t}},"run"),y6=x(async function({postRenderCallback:e,querySelector:t,nodes:r}={querySelector:".mermaid"}){const i=yn.getConfig();I.debug(`${e?"":"No "}Callback function found`);let n;if(r)n=r;else if(t)n=document.querySelectorAll(t);else throw new Error("Nodes and querySelector are both undefined");I.debug(`Found ${n.length} diagrams`),(i==null?void 0:i.startOnLoad)!==void 0&&(I.debug("Start On Load: "+(i==null?void 0:i.startOnLoad)),yn.updateSiteConfig({startOnLoad:i==null?void 0:i.startOnLoad}));const s=new gr.InitIDGenerator(i.deterministicIds,i.deterministicIDSeed);let o;const l=[];for(const c of Array.from(n)){if(I.info("Rendering diagram: "+c.id),c.getAttribute("data-processed"))continue;c.setAttribute("data-processed","true");const u=`mermaid-${s.next()}`;o=c.innerHTML,o=h2(gr.entityDecode(o)).trim().replace(/<br\s*\/?>/gi,"<br/>");const d=gr.detectInit(o);d&&I.debug("Detected early reinit: ",d);try{const{svg:h,bindFunctions:p}=await Xk(u,o,c);c.innerHTML=h,e&&await e(u),p&&p(c)}catch(h){x6(h,l,Vt.parseError)}}if(l.length>0)throw l[0]},"runThrowsErrors"),Gk=x(function(e){yn.initialize(e)},"initialize"),v6=x(async function(e,t,r){I.warn("mermaid.init is deprecated. Please use run instead."),e&&Gk(e);const i={postRenderCallback:r,querySelector:".mermaid"};typeof t=="string"?i.querySelector=t:t&&(t instanceof HTMLElement?i.nodes=[t]:i.nodes=t),await Wk(i)},"init"),b6=x(async(e,{lazyLoad:t=!0}={})=>{Fu(),zh(...e),t===!1&&await qF()},"registerExternalDiagrams"),Vk=x(function(){if(Vt.startOnLoad){const{startOnLoad:e}=yn.getConfig();e&&Vt.run().catch(t=>I.error("Mermaid failed to initialize",t))}},"contentLoaded");typeof document<"u"&&window.addEventListener("load",Vk,!1);var S6=x(function(e){Vt.parseError=e},"setParseErrorHandler"),Qc=[],qd=!1,Yk=x(async()=>{if(!qd){for(qd=!0;Qc.length>0;){const e=Qc.shift();if(e)try{await e()}catch(t){I.error("Error executing queue",t)}}qd=!1}},"executeQueue"),C6=x(async(e,t)=>new Promise((r,i)=>{const n=x(()=>new Promise((s,o)=>{yn.parse(e,t).then(l=>{s(l),r(l)},l=>{var c;I.error("Error parsing",l),(c=Vt.parseError)==null||c.call(Vt,l),o(l),i(l)})}),"performCall");Qc.push(n),Yk().catch(i)}),"parse"),Xk=x((e,t,r)=>new Promise((i,n)=>{const s=x(()=>new Promise((o,l)=>{yn.render(e,t,r).then(c=>{o(c),i(c)},c=>{var u;I.error("Error parsing",c),(u=Vt.parseError)==null||u.call(Vt,c),l(c),n(c)})}),"performCall");Qc.push(s),Yk().catch(n)}),"render"),w6=x(()=>Object.keys(hn).map(e=>({id:e})),"getRegisteredDiagramsMetadata"),Vt={startOnLoad:!0,mermaidAPI:yn,parse:C6,render:Xk,init:v6,run:Wk,registerExternalDiagrams:b6,registerLayoutLoaders:rk,initialize:Gk,parseError:void 0,contentLoaded:Vk,setParseErrorHandler:S6,detectType:Df,registerIconPacks:F4,getRegisteredDiagramsMetadata:w6},ey=Vt;/*! Check if previously processed *//*!
 * Wait for document loaded before starting the execution
 */function Ve({chart:e,className:t=""}){const r=V.useRef(null);return V.useEffect(()=>{ey.initialize({startOnLoad:!0,theme:"default",securityLevel:"loose",fontFamily:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif',fontSize:14})},[]),V.useEffect(()=>{r.current&&e&&(r.current.innerHTML="",ey.render(`mermaid-${Math.random().toString(36).substr(2,9)}`,e).then(({svg:i})=>{r.current&&(r.current.innerHTML=i)}).catch(i=>{console.error("Mermaid rendering error:",i),r.current&&(r.current.innerHTML=`<div class="text-red-500 p-4">다이어그램 렌더링 오류: ${i.message}</div>`)}))},[e]),a.jsx("div",{className:`mermaid-diagram bg-white p-4 rounded-lg border ${t}`,children:a.jsx("div",{ref:r})})}function k6(){return a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Spring Boot 디자인 패턴"}),a.jsx("p",{className:"text-lg text-gray-600",children:"Spring Boot 개발에서 자주 사용되는 핵심 디자인 패턴과 아키텍처 구조를 실제 코드 예제와 함께 알아보세요."})]}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{id:"table-of-contents",className:"card bg-gray-50",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"📋 목차"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("a",{href:"#mvc-pattern",className:"block text-blue-600 hover:text-blue-800",children:"1. MVC 아키텍처 패턴"}),a.jsx("a",{href:"#dependency-injection",className:"block text-blue-600 hover:text-blue-800",children:"2. 의존성 주입 (DI)"}),a.jsx("a",{href:"#repository-pattern",className:"block text-blue-600 hover:text-blue-800",children:"3. Repository 패턴"}),a.jsx("a",{href:"#dto-pattern",className:"block text-blue-600 hover:text-blue-800",children:"4. DTO 패턴"}),a.jsx("a",{href:"#builder-pattern",className:"block text-blue-600 hover:text-blue-800",children:"5. Builder 패턴"}),a.jsx("a",{href:"#strategy-pattern",className:"block text-blue-600 hover:text-blue-800",children:"6. Strategy 패턴"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("a",{href:"#factory-pattern",className:"block text-blue-600 hover:text-blue-800",children:"7. Factory 패턴"}),a.jsx("a",{href:"#singleton-pattern",className:"block text-blue-600 hover:text-blue-800",children:"8. Singleton 패턴"}),a.jsx("a",{href:"#observer-pattern",className:"block text-blue-600 hover:text-blue-800",children:"9. Observer 패턴"}),a.jsx("a",{href:"#template-method",className:"block text-blue-600 hover:text-blue-800",children:"10. Template Method 패턴"}),a.jsx("a",{href:"#facade-pattern",className:"block text-blue-600 hover:text-blue-800",children:"11. Facade 패턴"}),a.jsx("a",{href:"#proxy-pattern",className:"block text-blue-600 hover:text-blue-800",children:"12. Proxy 패턴"}),a.jsx("a",{href:"#command-pattern",className:"block text-blue-600 hover:text-blue-800",children:"13. Command 패턴"}),a.jsx("a",{href:"#saga-pattern",className:"block text-blue-600 hover:text-blue-800",children:"14. Saga 패턴"}),a.jsx("a",{href:"#decorator-pattern",className:"block text-blue-600 hover:text-blue-800",children:"15. Decorator 패턴"})]})]})]}),a.jsxs("div",{id:"mvc-pattern",className:"card",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"🏗️ MVC 아키텍처 패턴"}),a.jsx("a",{href:"#table-of-contents",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:"↑ 목차로 가기"})]}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Spring Boot에서 사용되는 가장 기본적인 MVC 아키텍처 구조입니다. Model-View-Controller 패턴을 통해 관심사를 분리하고 코드의 유지보수성을 향상시킵니다."}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-6",children:[a.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[a.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Controller 층"}),a.jsx("p",{className:"text-blue-700 text-sm mb-2",children:"사용자 요청 처리 및 응답 반환"}),a.jsxs("ul",{className:"text-xs text-blue-600 space-y-1",children:[a.jsx("li",{children:"• HTTP 요청/응답 처리"}),a.jsx("li",{children:"• 입력 데이터 검증"}),a.jsx("li",{children:"• Service 층 호출"})]})]}),a.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[a.jsx("h3",{className:"font-semibold text-green-900 mb-2",children:"Service 층"}),a.jsx("p",{className:"text-green-700 text-sm mb-2",children:"비즈니스 로직 및 데이터 처리"}),a.jsxs("ul",{className:"text-xs text-green-600 space-y-1",children:[a.jsx("li",{children:"• 비즈니스 규칙 구현"}),a.jsx("li",{children:"• 트랜잭션 관리"}),a.jsx("li",{children:"• Repository 층 조합"})]})]}),a.jsxs("div",{className:"p-4 bg-purple-50 border border-purple-200 rounded-lg",children:[a.jsx("h3",{className:"font-semibold text-purple-900 mb-2",children:"Repository 층"}),a.jsx("p",{className:"text-purple-700 text-sm mb-2",children:"데이터베이스 연동 및 데이터 접근"}),a.jsxs("ul",{className:"text-xs text-purple-600 space-y-1",children:[a.jsx("li",{children:"• 데이터 CRUD 연산"}),a.jsx("li",{children:"• 쿼리 실행"}),a.jsx("li",{children:"• 영속성 관리"})]})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"🎨 MVC 아키텍처 다이어그램"}),a.jsx(Ve,{chart:`
                graph TB
                    Client[클라이언트 브라우저/모바일 앱]

                    subgraph SpringApp[Spring Boot Application]
                        Controller[Controller - @RestController - HTTP 요청/응답 처리]
                        Service[Service - @Service - 비즈니스 로직]
                        Repository[Repository - @Repository - 데이터 접근]
                        Entity[Entity - @Entity - 도메인 모델]
                    end

                    Database[(Database - MySQL/PostgreSQL)]

                    Client -->|HTTP Request| Controller
                    Controller -->|Call| Service
                    Service -->|Call| Repository
                    Repository -->|JPA/Hibernate| Database
                    Repository -->|Entity| Entity

                    Database -->|Data| Repository
                    Repository -->|Entity| Service
                    Service -->|DTO| Controller
                    Controller -->|HTTP Response| Client

                    classDef controller fill:#dbeafe,stroke:#3b82f6,stroke-width:2px
                    classDef service fill:#d1fae5,stroke:#10b981,stroke-width:2px
                    classDef repository fill:#fce7f3,stroke:#ec4899,stroke-width:2px
                    classDef database fill:#fef3c7,stroke:#f59e0b,stroke-width:2px

                    class Controller controller
                    class Service service
                    class Repository,Entity repository
                    class Database database
              `,className:"border-gray-200"})]}),a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:`// Controller 예제
@RestController
@RequestMapping("/api/users")
@Validated
public class UserController {

    private final UserService userService;

    public UserController(UserService userService) {
        this.userService = userService;
    }

    @GetMapping
    public ResponseEntity<List<UserResponse>> getAllUsers() {
        List<UserResponse> users = userService.getAllUsers();
        return ResponseEntity.ok(users);
    }

    @PostMapping
    public ResponseEntity<UserResponse> createUser(
            @Valid @RequestBody CreateUserRequest request) {
        UserResponse user = userService.createUser(request);
        return ResponseEntity.status(HttpStatus.CREATED).body(user);
    }

    @GetMapping("/{id}")
    public ResponseEntity<UserResponse> getUserById(@PathVariable Long id) {
        UserResponse user = userService.getUserById(id);
        return ResponseEntity.ok(user);
    }
}`})})]}),a.jsxs("div",{id:"dependency-injection",className:"card",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"🔌 의존성 주입 (Dependency Injection)"}),a.jsx("a",{href:"#table-of-contents",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:"↑ 목차로 가기"})]}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Spring의 핵심 기능인 IoC(Inversion of Control)를 통해 객체 간의 의존성을 외부에서 주입받는 패턴입니다."}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-6",children:[a.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[a.jsx("h3",{className:"font-semibold text-green-900 mb-2",children:"✅ Constructor Injection (권장)"}),a.jsxs("ul",{className:"text-sm text-green-700 space-y-1",children:[a.jsx("li",{children:"• 불변성 보장 (final 키워드)"}),a.jsx("li",{children:"• 테스트 용이성"}),a.jsx("li",{children:"• 순환 참조 방지"}),a.jsx("li",{children:"• NPE 방지"})]})]}),a.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[a.jsx("h3",{className:"font-semibold text-red-900 mb-2",children:"❌ Field Injection (비권장)"}),a.jsxs("ul",{className:"text-sm text-red-700 space-y-1",children:[a.jsx("li",{children:"• 테스트 어려움"}),a.jsx("li",{children:"• 불변성 보장 불가"}),a.jsx("li",{children:"• 순환 참조 감지 어려움"}),a.jsx("li",{children:"• IDE 경고 발생"})]})]})]}),a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:`// Constructor Injection (추천 방식)
@Service
@Transactional(readOnly = true)
public class UserService {

    private final UserRepository userRepository;
    private final EmailService emailService;
    private final PasswordEncoder passwordEncoder;

    // Constructor Injection - final 키워드로 불변성 보장
    public UserService(UserRepository userRepository,
                      EmailService emailService,
                      PasswordEncoder passwordEncoder) {
        this.userRepository = userRepository;
        this.emailService = emailService;
        this.passwordEncoder = passwordEncoder;
    }

    @Transactional
    public UserResponse createUser(CreateUserRequest request) {
        // 비즈니스 로직
        User user = User.builder()
            .name(request.getName())
            .email(request.getEmail())
            .password(passwordEncoder.encode(request.getPassword()))
            .build();

        User savedUser = userRepository.save(user);
        emailService.sendWelcomeEmail(savedUser.getEmail());

        return UserResponse.from(savedUser);
    }
}

// Lombok을 사용한 간소화된 버전
@Service
@Transactional(readOnly = true)
@RequiredArgsConstructor  // final 필드에 대한 생성자 자동 생성
public class UserService {

    private final UserRepository userRepository;
    private final EmailService emailService;
    private final PasswordEncoder passwordEncoder;

    @Transactional
    public UserResponse createUser(CreateUserRequest request) {
        // 비즈니스 로직 구현
    }
}`})})]}),a.jsxs("div",{id:"repository-pattern",className:"card",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"🗄️ Repository 패턴"}),a.jsx("a",{href:"#table-of-contents",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:"↑ 목차로 가기"})]}),a.jsx("p",{className:"text-gray-600 mb-6",children:"데이터 접근 로직을 비즈니스 로직에서 분리하여 데이터 소스에 대한 추상화를 제공하는 패턴입니다."}),a.jsx(Ve,{chart:`
              classDiagram
                class JpaRepository {
                  <<interface>>
                  +save(T) T
                  +findById(ID) Optional~T~
                  +findAll() List~T~
                  +deleteById(ID) void
                  +count() long
                }

                class UserRepository {
                  <<interface>>
                  +findByEmail(String) List~User~
                  +findByNameContaining(String) List~User~
                  +findByActiveTrue() List~User~
                  +findUserWithPosts(Long) Optional~User~
                }

                class UserService {
                  -userRepository: UserRepository
                  +createUser(CreateUserRequest) User
                  +getUserById(Long) User
                  +searchUsers(String) List~User~
                }

                class User {
                  <<@Entity>>
                  -id: Long
                  -name: String
                  -email: String
                  -active: boolean
                }

                class Database {
                  <<MySQL/PostgreSQL>>
                }

                JpaRepository <|-- UserRepository
                UserService --> UserRepository
                UserRepository --> User : manages
                UserRepository --> Database : queries
            `,className:"mb-6"}),a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:`// 기본 JPA Repository
@Repository
public interface UserRepository extends JpaRepository<User, Long> {

    // Spring Data JPA 쿼리 메서드
    List<User> findByEmail(String email);
    List<User> findByNameContaining(String name);
    List<User> findByActiveTrue();

    // @Query 어노테이션 사용
    @Query("SELECT u FROM User u WHERE u.createdAt > :date")
    List<User> findRecentUsers(@Param("date") LocalDateTime date);

    // Native Query 사용
    @Query(value = "SELECT * FROM users WHERE email LIKE %:domain%",
           nativeQuery = true)
    List<User> findByEmailDomain(@Param("domain") String domain);

    // 업데이트 쿼리
    @Modifying
    @Query("UPDATE User u SET u.active = false WHERE u.lastLoginAt < :date")
    int deactivateInactiveUsers(@Param("date") LocalDateTime date);

    // Projection 사용
    @Query("SELECT u.name as name, u.email as email FROM User u WHERE u.active = true")
    List<UserProjection> findActiveUserProjections();
}

// Custom Repository 인터페이스
public interface CustomUserRepository {
    List<User> findByComplexCriteria(UserSearchCriteria criteria);
    Page<User> searchUsers(String keyword, Pageable pageable);
}

// Custom Repository 구현체
@Repository
public class CustomUserRepositoryImpl implements CustomUserRepository {

    @PersistenceContext
    private EntityManager entityManager;

    @Override
    public List<User> findByComplexCriteria(UserSearchCriteria criteria) {
        CriteriaBuilder cb = entityManager.getCriteriaBuilder();
        CriteriaQuery<User> query = cb.createQuery(User.class);
        Root<User> root = query.from(User.class);

        List<Predicate> predicates = new ArrayList<>();

        if (criteria.getName() != null) {
            predicates.add(cb.like(root.get("name"), "%" + criteria.getName() + "%"));
        }

        if (criteria.getEmail() != null) {
            predicates.add(cb.equal(root.get("email"), criteria.getEmail()));
        }

        if (criteria.getActive() != null) {
            predicates.add(cb.equal(root.get("active"), criteria.getActive()));
        }

        query.where(predicates.toArray(new Predicate[0]));

        return entityManager.createQuery(query).getResultList();
    }

    @Override
    public Page<User> searchUsers(String keyword, Pageable pageable) {
        // 동적 쿼리 구현
        String jpql = "SELECT u FROM User u WHERE u.name LIKE :keyword OR u.email LIKE :keyword";

        TypedQuery<User> query = entityManager.createQuery(jpql, User.class);
        query.setParameter("keyword", "%" + keyword + "%");
        query.setFirstResult((int) pageable.getOffset());
        query.setMaxResults(pageable.getPageSize());

        List<User> users = query.getResultList();

        // Count query for pagination
        String countJpql = "SELECT COUNT(u) FROM User u WHERE u.name LIKE :keyword OR u.email LIKE :keyword";
        Long total = entityManager.createQuery(countJpql, Long.class)
                                .setParameter("keyword", "%" + keyword + "%")
                                .getSingleResult();

        return new PageImpl<>(users, pageable, total);
    }
}`})})]}),a.jsxs("div",{id:"dto-pattern",className:"card",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"📦 DTO (Data Transfer Object) 패턴"}),a.jsx("a",{href:"#table-of-contents",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:"↑ 목차로 가기"})]}),a.jsx("p",{className:"text-gray-600 mb-6",children:"계층 간 데이터 전송을 위한 객체로, API 요청/응답 데이터를 캡슐화하고 검증을 수행합니다."}),a.jsx(Ve,{chart:`
              classDiagram
                class CreateUserRequest {
                  <<DTO>>
                  -name: String @NotBlank
                  -email: String @Email
                  -password: String @NotBlank
                  -phoneNumber: String
                  -age: Integer @Min(18)
                  +getName() String
                  +getEmail() String
                }

                class UserResponse {
                  <<DTO>>
                  -id: Long
                  -name: String
                  -email: String
                  -phoneNumber: String
                  -age: Integer
                  -createdAt: LocalDateTime
                  +toBuilder() UserResponseBuilder
                }

                class UpdateUserRequest {
                  <<DTO>>
                  -name: String
                  -phoneNumber: String
                  -age: Integer
                  +getName() String
                  +getPhoneNumber() String
                }

                class User {
                  <<Entity>>
                  -id: Long
                  -name: String
                  -email: String
                  -password: String
                  -phoneNumber: String
                  -age: Integer
                  -createdAt: LocalDateTime
                }

                class UserController {
                  -userService: UserService
                  +createUser(CreateUserRequest) UserResponse
                  +updateUser(Long, UpdateUserRequest) UserResponse
                }

                class UserService {
                  -userRepository: UserRepository
                  +createUser(CreateUserRequest) User
                  +convertToResponse(User) UserResponse
                }

                UserController --> CreateUserRequest : receives
                UserController --> UserResponse : returns
                UserController --> UpdateUserRequest : receives
                UserService --> CreateUserRequest : uses
                UserService --> User : creates/updates
                UserService --> UserResponse : converts to
            `,className:"mb-6"}),a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:`// Request DTO - 클라이언트로부터 받는 데이터
@Data
@NoArgsConstructor
@AllArgsConstructor
public class CreateUserRequest {

    @NotBlank(message = "이름은 필수입니다")
    @Size(min = 2, max = 50, message = "이름은 2-50자 사이여야 합니다")
    private String name;

    @NotBlank(message = "이메일은 필수입니다")
    @Email(message = "유효한 이메일 주소를 입력해주세요")
    private String email;

    @NotBlank(message = "비밀번호는 필수입니다")
    @Size(min = 8, max = 20, message = "비밀번호는 8-20자 사이여야 합니다")
    @Pattern(regexp = "^(?=.*[A-Za-z])(?=.*\\d)(?=.*[@$!%*#?&])[A-Za-z\\d@$!%*#?&]+$",
             message = "비밀번호는 영문, 숫자, 특수문자를 포함해야 합니다")
    private String password;

    @NotBlank(message = "전화번호는 필수입니다")
    @Pattern(regexp = "^\\d{2,3}-\\d{3,4}-\\d{4}$", message = "전화번호 형식이 올바르지 않습니다")
    private String phoneNumber;

    @Min(value = 18, message = "나이는 18세 이상이어야 합니다")
    @Max(value = 100, message = "나이는 100세 이하여야 합니다")
    private Integer age;

    // Entity로 변환하는 메서드
    public User toEntity(PasswordEncoder passwordEncoder) {
        return User.builder()
            .name(this.name)
            .email(this.email)
            .password(passwordEncoder.encode(this.password))
            .phoneNumber(this.phoneNumber)
            .age(this.age)
            .active(true)
            .createdAt(LocalDateTime.now())
            .build();
    }
}

// Response DTO - 클라이언트에게 보내는 데이터
@Data
@Builder
@NoArgsConstructor
@AllArgsConstructor
public class UserResponse {

    private Long id;
    private String name;
    private String email;
    private String phoneNumber;
    private Integer age;
    private Boolean active;
    private LocalDateTime createdAt;
    private LocalDateTime updatedAt;

    // Entity에서 DTO로 변환하는 정적 메서드
    public static UserResponse from(User user) {
        return UserResponse.builder()
            .id(user.getId())
            .name(user.getName())
            .email(user.getEmail())
            .phoneNumber(user.getPhoneNumber())
            .age(user.getAge())
            .active(user.getActive())
            .createdAt(user.getCreatedAt())
            .updatedAt(user.getUpdatedAt())
            .build();
    }

    // List<Entity>를 List<DTO>로 변환
    public static List<UserResponse> from(List<User> users) {
        return users.stream()
            .map(UserResponse::from)
            .collect(Collectors.toList());
    }
}

// Update DTO
@Data
@NoArgsConstructor
@AllArgsConstructor
public class UpdateUserRequest {

    @Size(min = 2, max = 50, message = "이름은 2-50자 사이여야 합니다")
    private String name;

    @Pattern(regexp = "^\\d{2,3}-\\d{3,4}-\\d{4}$", message = "전화번호 형식이 올바르지 않습니다")
    private String phoneNumber;

    @Min(value = 18, message = "나이는 18세 이상이어야 합니다")
    @Max(value = 100, message = "나이는 100세 이하여야 합니다")
    private Integer age;

    // Entity 업데이트 메서드
    public void updateEntity(User user) {
        if (this.name != null) {
            user.setName(this.name);
        }
        if (this.phoneNumber != null) {
            user.setPhoneNumber(this.phoneNumber);
        }
        if (this.age != null) {
            user.setAge(this.age);
        }
        user.setUpdatedAt(LocalDateTime.now());
    }
}`})})]}),a.jsxs("div",{id:"builder-pattern",className:"card",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"🏗️ Builder 패턴"}),a.jsx("a",{href:"#table-of-contents",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:"↑ 목차로 가기"})]}),a.jsx("p",{className:"text-gray-600 mb-6",children:"복잡한 객체의 생성 과정을 단계별로 분리하여 가독성과 유연성을 제공하는 패턴입니다."}),a.jsx(Ve,{chart:`
              classDiagram
                class User {
                  -id: Long
                  -name: String
                  -email: String
                  -password: String
                  -phoneNumber: String
                  -age: Integer
                  -createdAt: LocalDateTime
                  -updatedAt: LocalDateTime
                  +builder() UserBuilder
                  +toBuilder() UserBuilder
                }

                class UserBuilder {
                  -id: Long
                  -name: String
                  -email: String
                  -password: String
                  -phoneNumber: String
                  -age: Integer
                  -createdAt: LocalDateTime
                  -updatedAt: LocalDateTime
                  +id(Long) UserBuilder
                  +name(String) UserBuilder
                  +email(String) UserBuilder
                  +password(String) UserBuilder
                  +phoneNumber(String) UserBuilder
                  +age(Integer) UserBuilder
                  +createdAt(LocalDateTime) UserBuilder
                  +updatedAt(LocalDateTime) UserBuilder
                  +build() User
                }

                class UserService {
                  -userRepository: UserRepository
                  +createUser(CreateUserRequest) User
                  +updateUser(Long, UpdateUserRequest) User
                }

                User --> UserBuilder : creates
                UserService --> UserBuilder : uses
                UserBuilder --> User : builds
            `,className:"mb-6"}),a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:`// Lombok @Builder 사용
@Entity
@Table(name = "users")
@Data
@Builder
@NoArgsConstructor
@AllArgsConstructor
public class User {

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    @Column(nullable = false)
    private String name;

    @Column(nullable = false, unique = true)
    private String email;

    @Column(nullable = false)
    private String password;

    private String phoneNumber;
    private Integer age;

    @Builder.Default
    private Boolean active = true;

    @Builder.Default
    private LocalDateTime createdAt = LocalDateTime.now();

    private LocalDateTime updatedAt;
}

// Builder 패턴 사용 예제
@Service
@RequiredArgsConstructor
public class UserService {

    private final UserRepository userRepository;
    private final PasswordEncoder passwordEncoder;

    public UserResponse createUser(CreateUserRequest request) {
        // Builder 패턴으로 객체 생성
        User user = User.builder()
            .name(request.getName())
            .email(request.getEmail())
            .password(passwordEncoder.encode(request.getPassword()))
            .phoneNumber(request.getPhoneNumber())
            .age(request.getAge())
            .active(true)
            .createdAt(LocalDateTime.now())
            .build();

        User savedUser = userRepository.save(user);
        return UserResponse.from(savedUser);
    }

    public UserResponse updateUser(Long id, UpdateUserRequest request) {
        User user = userRepository.findById(id)
            .orElseThrow(() -> new UserNotFoundException("사용자를 찾을 수 없습니다"));

        // Builder 패턴으로 업데이트된 객체 생성
        User updatedUser = user.toBuilder()
            .name(request.getName() != null ? request.getName() : user.getName())
            .phoneNumber(request.getPhoneNumber() != null ? request.getPhoneNumber() : user.getPhoneNumber())
            .age(request.getAge() != null ? request.getAge() : user.getAge())
            .updatedAt(LocalDateTime.now())
            .build();

        User savedUser = userRepository.save(updatedUser);
        return UserResponse.from(savedUser);
    }
}

// 커스텀 Builder 구현 예제
public class ApiResponse<T> {

    private final int status;
    private final String message;
    private final T data;
    private final LocalDateTime timestamp;

    private ApiResponse(Builder<T> builder) {
        this.status = builder.status;
        this.message = builder.message;
        this.data = builder.data;
        this.timestamp = builder.timestamp;
    }

    public static <T> Builder<T> builder() {
        return new Builder<>();
    }

    public static class Builder<T> {
        private int status;
        private String message;
        private T data;
        private LocalDateTime timestamp = LocalDateTime.now();

        public Builder<T> status(int status) {
            this.status = status;
            return this;
        }

        public Builder<T> message(String message) {
            this.message = message;
            return this;
        }

        public Builder<T> data(T data) {
            this.data = data;
            return this;
        }

        public Builder<T> timestamp(LocalDateTime timestamp) {
            this.timestamp = timestamp;
            return this;
        }

        public ApiResponse<T> build() {
            return new ApiResponse<>(this);
        }
    }

    // 편의 메서드들
    public static <T> ApiResponse<T> success(T data) {
        return ApiResponse.<T>builder()
            .status(200)
            .message("Success")
            .data(data)
            .build();
    }

    public static <T> ApiResponse<T> error(int status, String message) {
        return ApiResponse.<T>builder()
            .status(status)
            .message(message)
            .build();
    }
}`})})]}),a.jsxs("div",{id:"strategy-pattern",className:"card",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"🎯 Strategy 패턴"}),a.jsx("a",{href:"#table-of-contents",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:"↑ 목차로 가기"})]}),a.jsx("p",{className:"text-gray-600 mb-6",children:"알고리즘군을 정의하고, 각각을 캡슐화하여 상호 교환 가능하게 만드는 패턴입니다. Spring의 다형성과 의존성 주입을 활용하여 구현할 수 있습니다."}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"🎨 Strategy 패턴 다이어그램"}),a.jsx(Ve,{chart:`
                classDiagram
                    class PaymentStrategy {
                        <<interface>>
                        +process(PaymentRequest) PaymentResult
                        +getPaymentType() PaymentType
                    }

                    class CreditCardStrategy {
                        -creditCardService: CreditCardService
                        +process(PaymentRequest) PaymentResult
                        +getPaymentType() PaymentType
                    }

                    class BankTransferStrategy {
                        -bankService: BankService
                        +process(PaymentRequest) PaymentResult
                        +getPaymentType() PaymentType
                    }

                    class PayPalStrategy {
                        -payPalService: PayPalService
                        +process(PaymentRequest) PaymentResult
                        +getPaymentType() PaymentType
                    }

                    class PaymentService {
                        -strategies: List~PaymentStrategy~
                        +processPayment(PaymentRequest) PaymentResult
                        +getStrategy(PaymentType) PaymentStrategy
                    }

                    class Client {
                        +makePayment()
                    }

                    PaymentStrategy <|.. CreditCardStrategy : implements
                    PaymentStrategy <|.. BankTransferStrategy : implements
                    PaymentStrategy <|.. PayPalStrategy : implements

                    PaymentService o--> PaymentStrategy : uses
                    Client --> PaymentService : calls

                    note for PaymentStrategy "Spring @Component들이\\n런타임에 주입됨"
                    note for PaymentService "Strategy 선택은\\nPaymentType에 따라\\n동적으로 결정"
              `,className:"border-gray-200"})]}),a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:`// 결제 전략 인터페이스
public interface PaymentStrategy {
    PaymentResult process(PaymentRequest request);
    PaymentType getPaymentType();
}

// 신용카드 결제 전략
@Component
public class CreditCardPaymentStrategy implements PaymentStrategy {

    private final CreditCardService creditCardService;

    public CreditCardPaymentStrategy(CreditCardService creditCardService) {
        this.creditCardService = creditCardService;
    }

    @Override
    public PaymentResult process(PaymentRequest request) {
        // 신용카드 결제 로직
        return creditCardService.charge(request);
    }

    @Override
    public PaymentType getPaymentType() {
        return PaymentType.CREDIT_CARD;
    }
}

// 계좌이체 결제 전략
@Component
public class BankTransferPaymentStrategy implements PaymentStrategy {

    private final BankService bankService;

    public BankTransferPaymentStrategy(BankService bankService) {
        this.bankService = bankService;
    }

    @Override
    public PaymentResult process(PaymentRequest request) {
        // 계좌이체 결제 로직
        return bankService.transfer(request);
    }

    @Override
    public PaymentType getPaymentType() {
        return PaymentType.BANK_TRANSFER;
    }
}

// 페이팔 결제 전략
@Component
public class PayPalPaymentStrategy implements PaymentStrategy {

    private final PayPalService payPalService;

    public PayPalPaymentStrategy(PayPalService payPalService) {
        this.payPalService = payPalService;
    }

    @Override
    public PaymentResult process(PaymentRequest request) {
        // PayPal 결제 로직
        return payPalService.pay(request);
    }

    @Override
    public PaymentType getPaymentType() {
        return PaymentType.PAYPAL;
    }
}

// Strategy Context (전략을 사용하는 컨텍스트)
@Service
@RequiredArgsConstructor
public class PaymentService {

    private final List<PaymentStrategy> paymentStrategies;

    public PaymentResult processPayment(PaymentRequest request) {
        PaymentStrategy strategy = getPaymentStrategy(request.getPaymentType());

        if (strategy == null) {
            throw new UnsupportedPaymentTypeException(
                "지원하지 않는 결제 방식입니다: " + request.getPaymentType());
        }

        return strategy.process(request);
    }

    private PaymentStrategy getPaymentStrategy(PaymentType paymentType) {
        return paymentStrategies.stream()
            .filter(strategy -> strategy.getPaymentType() == paymentType)
            .findFirst()
            .orElse(null);
    }

    // 또는 Map을 사용한 최적화된 버전
    @PostConstruct
    public void initStrategies() {
        this.strategyMap = paymentStrategies.stream()
            .collect(Collectors.toMap(
                PaymentStrategy::getPaymentType,
                Function.identity()
            ));
    }

    private Map<PaymentType, PaymentStrategy> strategyMap;

    private PaymentStrategy getPaymentStrategyOptimized(PaymentType paymentType) {
        return strategyMap.get(paymentType);
    }
}

// 알림 전략 패턴 예제
public interface NotificationStrategy {
    void send(String recipient, String message);
    NotificationType getType();
}

@Component
public class EmailNotificationStrategy implements NotificationStrategy {

    private final EmailService emailService;

    @Override
    public void send(String recipient, String message) {
        emailService.sendEmail(recipient, "알림", message);
    }

    @Override
    public NotificationType getType() {
        return NotificationType.EMAIL;
    }
}

@Component
public class SmsNotificationStrategy implements NotificationStrategy {

    private final SmsService smsService;

    @Override
    public void send(String recipient, String message) {
        smsService.sendSms(recipient, message);
    }

    @Override
    public NotificationType getType() {
        return NotificationType.SMS;
    }
}

@Component
public class PushNotificationStrategy implements NotificationStrategy {

    private final PushService pushService;

    @Override
    public void send(String recipient, String message) {
        pushService.sendPush(recipient, message);
    }

    @Override
    public NotificationType getType() {
        return NotificationType.PUSH;
    }
}

@Service
@RequiredArgsConstructor
public class NotificationService {

    private final Map<NotificationType, NotificationStrategy> strategies;

    public NotificationService(List<NotificationStrategy> strategies) {
        this.strategies = strategies.stream()
            .collect(Collectors.toMap(
                NotificationStrategy::getType,
                Function.identity()
            ));
    }

    public void sendNotification(NotificationType type, String recipient, String message) {
        NotificationStrategy strategy = strategies.get(type);

        if (strategy == null) {
            throw new UnsupportedNotificationTypeException(
                "지원하지 않는 알림 유형입니다: " + type);
        }

        strategy.send(recipient, message);
    }

    // 여러 유형으로 동시 발송
    public void sendMultipleNotifications(List<NotificationType> types,
                                        String recipient, String message) {
        types.forEach(type -> sendNotification(type, recipient, message));
    }
}`})})]}),a.jsxs("div",{id:"factory-pattern",className:"card",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"🏭 Factory 패턴"}),a.jsx("a",{href:"#table-of-contents",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:"↑ 목차로 가기"})]}),a.jsx("p",{className:"text-gray-600 mb-6",children:"객체 생성 로직을 캡슐화하여 클라이언트 코드와 분리하고, 객체 생성을 위한 인터페이스를 제공하는 패턴입니다."}),a.jsx(Ve,{chart:`
              classDiagram
                class ReportGenerator {
                  <<interface>>
                  +generate(ReportData, OutputStream) void
                  +getReportType() ReportType
                }

                class PdfReportGenerator {
                  +generate(ReportData, OutputStream) void
                  +getReportType() ReportType
                }

                class ExcelReportGenerator {
                  +generate(ReportData, OutputStream) void
                  +getReportType() ReportType
                }

                class CsvReportGenerator {
                  +generate(ReportData, OutputStream) void
                  +getReportType() ReportType
                }

                class ReportGeneratorFactory {
                  -generators: Map~ReportType, ReportGenerator~
                  +createReportGenerator(ReportType) ReportGenerator
                  +getAllGenerators() List~ReportGenerator~
                  +isTypeSupported(ReportType) boolean
                }

                class ReportController {
                  -reportGeneratorFactory: ReportGeneratorFactory
                  +generateReport(ReportType, ReportData) ResponseEntity
                }

                ReportGenerator <|-- PdfReportGenerator
                ReportGenerator <|-- ExcelReportGenerator
                ReportGenerator <|-- CsvReportGenerator
                ReportGeneratorFactory --> ReportGenerator
                ReportController --> ReportGeneratorFactory
            `,className:"mb-6"}),a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:`// 보고서 생성기 인터페이스
public interface ReportGenerator {
    void generate(ReportData data, OutputStream outputStream);
    ReportType getReportType();
}

// PDF 보고서 생성기
@Component
public class PdfReportGenerator implements ReportGenerator {

    @Override
    public void generate(ReportData data, OutputStream outputStream) {
        // PDF 생성 로직
        try (PDDocument document = new PDDocument()) {
            PDPage page = new PDPage();
            document.addPage(page);

            PDPageContentStream contentStream = new PDPageContentStream(document, page);
            contentStream.beginText();
            contentStream.setFont(PDType1Font.HELVETICA, 12);
            contentStream.newLineAtOffset(25, 750);
            contentStream.showText(data.getTitle());
            contentStream.endText();
            contentStream.close();

            document.save(outputStream);
        } catch (IOException e) {
            throw new ReportGenerationException("PDF 생성 중 오류가 발생했습니다", e);
        }
    }

    @Override
    public ReportType getReportType() {
        return ReportType.PDF;
    }
}

// Excel 보고서 생성기
@Component
public class ExcelReportGenerator implements ReportGenerator {

    @Override
    public void generate(ReportData data, OutputStream outputStream) {
        // Excel 생성 로직
        try (Workbook workbook = new XSSFWorkbook()) {
            Sheet sheet = workbook.createSheet(data.getTitle());

            Row headerRow = sheet.createRow(0);
            headerRow.createCell(0).setCellValue("항목");
            headerRow.createCell(1).setCellValue("값");

            int rowNum = 1;
            for (Map.Entry<String, String> entry : data.getData().entrySet()) {
                Row row = sheet.createRow(rowNum++);
                row.createCell(0).setCellValue(entry.getKey());
                row.createCell(1).setCellValue(entry.getValue());
            }

            workbook.write(outputStream);
        } catch (IOException e) {
            throw new ReportGenerationException("Excel 생성 중 오류가 발생했습니다", e);
        }
    }

    @Override
    public ReportType getReportType() {
        return ReportType.EXCEL;
    }
}

// CSV 보고서 생성기
@Component
public class CsvReportGenerator implements ReportGenerator {

    @Override
    public void generate(ReportData data, OutputStream outputStream) {
        // CSV 생성 로직
        try (PrintWriter writer = new PrintWriter(new OutputStreamWriter(outputStream))) {
            writer.println("항목,값");

            for (Map.Entry<String, String> entry : data.getData().entrySet()) {
                writer.printf("%s,%s%n", entry.getKey(), entry.getValue());
            }
        }
    }

    @Override
    public ReportType getReportType() {
        return ReportType.CSV;
    }
}

// Factory 클래스
@Component
@RequiredArgsConstructor
public class ReportGeneratorFactory {

    private final List<ReportGenerator> generators;
    private Map<ReportType, ReportGenerator> generatorMap;

    @PostConstruct
    public void init() {
        this.generatorMap = generators.stream()
            .collect(Collectors.toMap(
                ReportGenerator::getReportType,
                Function.identity()
            ));
    }

    public ReportGenerator getGenerator(ReportType type) {
        ReportGenerator generator = generatorMap.get(type);

        if (generator == null) {
            throw new UnsupportedReportTypeException(
                "지원하지 않는 보고서 유형입니다: " + type);
        }

        return generator;
    }

    // 사용 가능한 보고서 유형 반환
    public Set<ReportType> getSupportedTypes() {
        return generatorMap.keySet();
    }
}

// Factory를 사용하는 서비스
@Service
@RequiredArgsConstructor
public class ReportService {

    private final ReportGeneratorFactory generatorFactory;
    private final ReportDataService reportDataService;

    public void generateReport(Long dataId, ReportType type, OutputStream outputStream) {
        // 데이터 조회
        ReportData data = reportDataService.getReportData(dataId);

        // Factory를 통해 적절한 생성기 획득
        ReportGenerator generator = generatorFactory.getGenerator(type);

        // 보고서 생성
        generator.generate(data, outputStream);
    }

    public byte[] generateReportAsBytes(Long dataId, ReportType type) {
        try (ByteArrayOutputStream outputStream = new ByteArrayOutputStream()) {
            generateReport(dataId, type, outputStream);
            return outputStream.toByteArray();
        } catch (IOException e) {
            throw new ReportGenerationException("보고서 생성 중 오류가 발생했습니다", e);
        }
    }
}

// 데이터베이스 Connection Factory 예제
@Component
public class DatabaseConnectionFactory {

    @Value("\${app.database.primary.url}")
    private String primaryUrl;

    @Value("\${app.database.secondary.url}")
    private String secondaryUrl;

    @Value("\${app.database.analytics.url}")
    private String analyticsUrl;

    public DataSource createDataSource(DatabaseType type) {
        HikariConfig config = new HikariConfig();

        switch (type) {
            case PRIMARY:
                config.setJdbcUrl(primaryUrl);
                config.setMaximumPoolSize(20);
                break;
            case SECONDARY:
                config.setJdbcUrl(secondaryUrl);
                config.setMaximumPoolSize(10);
                break;
            case ANALYTICS:
                config.setJdbcUrl(analyticsUrl);
                config.setMaximumPoolSize(5);
                config.setReadOnly(true);
                break;
            default:
                throw new IllegalArgumentException("지원하지 않는 데이터베이스 유형: " + type);
        }

        config.setConnectionTimeout(30000);
        config.setIdleTimeout(600000);
        config.setMaxLifetime(1800000);

        return new HikariDataSource(config);
    }
}`})})]}),a.jsxs("div",{id:"singleton-pattern",className:"card",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"🎯 Singleton 패턴"}),a.jsx("a",{href:"#table-of-contents",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:"↑ 목차로 가기"})]}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Spring에서는 기본적으로 Bean이 Singleton으로 관리됩니다. 애플리케이션 전역에서 단 하나의 인스턴스만 존재하도록 보장하는 패턴입니다."}),a.jsx(Ve,{chart:`
              classDiagram
                class ApplicationConfig {
                  <<@Component>>
                  -configMap: Map~String, String~
                  +ApplicationConfig()
                  -loadConfiguration() void
                  +getConfig(String) String
                  +updateConfig(String, String) void
                }

                class SpringContainer {
                  <<Spring IoC Container>>
                  +getBean(Class~T~) T
                  +registerSingleton(String, Object) void
                }

                class UserService {
                  -applicationConfig: ApplicationConfig
                  +processUser(User) void
                }

                class OrderService {
                  -applicationConfig: ApplicationConfig
                  +processOrder(Order) void
                }

                class NotificationService {
                  -applicationConfig: ApplicationConfig
                  +sendNotification(String) void
                }

                note for ApplicationConfig "Spring Boot에서는
@Component 어노테이션으로
자동 Singleton 관리"

                SpringContainer ..> ApplicationConfig : creates single instance
                UserService --> ApplicationConfig : uses same instance
                OrderService --> ApplicationConfig : uses same instance
                NotificationService --> ApplicationConfig : uses same instance
            `,className:"mb-6"}),a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:`// Spring Bean은 기본적으로 Singleton
@Component
public class ApplicationConfig {

    private final Map<String, String> configMap;

    public ApplicationConfig() {
        this.configMap = new HashMap<>();
        loadConfiguration();
    }

    private void loadConfiguration() {
        // 설정 파일에서 값을 로드
        configMap.put("app.name", "Spring Boot Hub");
        configMap.put("app.version", "1.0.0");
    }

    public String getConfig(String key) {
        return configMap.get(key);
    }

    public void updateConfig(String key, String value) {
        configMap.put(key, value);
    }
}

// 캐시 매니저 Singleton
@Component
public class CacheManager {

    private final Map<String, Object> cache;
    private final Map<String, LocalDateTime> expireTimeMap;

    public CacheManager() {
        this.cache = new ConcurrentHashMap<>();
        this.expireTimeMap = new ConcurrentHashMap<>();

        // 만료된 캐시를 정리하는 스케줄러 시작
        startCleanupScheduler();
    }

    public void put(String key, Object value, Duration expireAfter) {
        cache.put(key, value);
        expireTimeMap.put(key, LocalDateTime.now().plus(expireAfter));
    }

    public <T> Optional<T> get(String key, Class<T> type) {
        // 만료 체크
        LocalDateTime expireTime = expireTimeMap.get(key);
        if (expireTime != null && LocalDateTime.now().isAfter(expireTime)) {
            remove(key);
            return Optional.empty();
        }

        Object value = cache.get(key);
        if (value != null && type.isInstance(value)) {
            return Optional.of(type.cast(value));
        }

        return Optional.empty();
    }

    public void remove(String key) {
        cache.remove(key);
        expireTimeMap.remove(key);
    }

    public void clear() {
        cache.clear();
        expireTimeMap.clear();
    }

    public Set<String> getKeys() {
        return new HashSet<>(cache.keySet());
    }

    @Scheduled(fixedRate = 60000) // 1분마다 실행
    private void cleanupExpiredEntries() {
        LocalDateTime now = LocalDateTime.now();

        List<String> expiredKeys = expireTimeMap.entrySet().stream()
            .filter(entry -> now.isAfter(entry.getValue()))
            .map(Map.Entry::getKey)
            .collect(Collectors.toList());

        expiredKeys.forEach(this::remove);
    }

    private void startCleanupScheduler() {
        // Spring의 @Scheduled 사용
    }
}

// 로깅 매니저 Singleton
@Component
@Slf4j
public class AuditLogger {

    private final Queue<AuditLog> logQueue;
    private final AtomicLong sequenceNumber;

    public AuditLogger() {
        this.logQueue = new ConcurrentLinkedQueue<>();
        this.sequenceNumber = new AtomicLong(0);
    }

    public void logUserAction(String userId, String action, String details) {
        AuditLog auditLog = AuditLog.builder()
            .id(sequenceNumber.incrementAndGet())
            .userId(userId)
            .action(action)
            .details(details)
            .timestamp(LocalDateTime.now())
            .build();

        logQueue.offer(auditLog);

        log.info("Audit Log: User {} performed {} - {}", userId, action, details);
    }

    public void logSystemEvent(String event, String details) {
        AuditLog auditLog = AuditLog.builder()
            .id(sequenceNumber.incrementAndGet())
            .action("SYSTEM_EVENT")
            .details(event + ": " + details)
            .timestamp(LocalDateTime.now())
            .build();

        logQueue.offer(auditLog);

        log.info("System Event: {} - {}", event, details);
    }

    @Scheduled(fixedRate = 5000) // 5초마다 실행
    public void flushLogs() {
        List<AuditLog> logsToFlush = new ArrayList<>();

        AuditLog log;
        while ((log = logQueue.poll()) != null) {
            logsToFlush.add(log);

            // 배치 크기 제한
            if (logsToFlush.size() >= 100) {
                break;
            }
        }

        if (!logsToFlush.isEmpty()) {
            // 데이터베이스나 외부 시스템에 로그 저장
            persistLogs(logsToFlush);
        }
    }

    private void persistLogs(List<AuditLog> logs) {
        // 실제 구현에서는 Repository를 통해 저장
        log.debug("Persisting {} audit logs", logs.size());
    }
}

// Bean Scope 명시적 지정
@Component
@Scope("singleton") // 기본값이므로 생략 가능
public class GlobalStatistics {

    private final AtomicLong totalRequests;
    private final AtomicLong successfulRequests;
    private final AtomicLong failedRequests;
    private final Map<String, AtomicLong> endpointCounts;

    public GlobalStatistics() {
        this.totalRequests = new AtomicLong(0);
        this.successfulRequests = new AtomicLong(0);
        this.failedRequests = new AtomicLong(0);
        this.endpointCounts = new ConcurrentHashMap<>();
    }

    public void incrementTotalRequests() {
        totalRequests.incrementAndGet();
    }

    public void incrementSuccessfulRequests() {
        successfulRequests.incrementAndGet();
    }

    public void incrementFailedRequests() {
        failedRequests.incrementAndGet();
    }

    public void incrementEndpointCount(String endpoint) {
        endpointCounts.computeIfAbsent(endpoint, k -> new AtomicLong(0))
                     .incrementAndGet();
    }

    public StatisticsSnapshot getSnapshot() {
        Map<String, Long> endpointStats = endpointCounts.entrySet().stream()
            .collect(Collectors.toMap(
                Map.Entry::getKey,
                entry -> entry.getValue().get()
            ));

        return StatisticsSnapshot.builder()
            .totalRequests(totalRequests.get())
            .successfulRequests(successfulRequests.get())
            .failedRequests(failedRequests.get())
            .endpointCounts(endpointStats)
            .snapshotTime(LocalDateTime.now())
            .build();
    }

    public void reset() {
        totalRequests.set(0);
        successfulRequests.set(0);
        failedRequests.set(0);
        endpointCounts.clear();
    }
}

// 다른 Scope 예제들
@Component
@Scope("prototype") // 매번 새로운 인스턴스 생성
public class PrototypeBean {

    private final String id;
    private final LocalDateTime createdAt;

    public PrototypeBean() {
        this.id = UUID.randomUUID().toString();
        this.createdAt = LocalDateTime.now();
    }
}

@Component
@Scope(value = "request", proxyMode = ScopedProxyMode.TARGET_CLASS) // HTTP 요청당 하나
public class RequestScopedBean {

    private final Map<String, Object> requestData;

    public RequestScopedBean() {
        this.requestData = new HashMap<>();
    }

    public void setData(String key, Object value) {
        requestData.put(key, value);
    }

    public Object getData(String key) {
        return requestData.get(key);
    }
}

@Component
@Scope(value = "session", proxyMode = ScopedProxyMode.TARGET_CLASS) // HTTP 세션당 하나
public class SessionScopedBean {

    private String userId;
    private LocalDateTime loginTime;
    private final Map<String, Object> sessionData;

    public SessionScopedBean() {
        this.sessionData = new HashMap<>();
    }

    public void login(String userId) {
        this.userId = userId;
        this.loginTime = LocalDateTime.now();
    }

    public boolean isLoggedIn() {
        return userId != null;
    }
}`})})]}),a.jsxs("div",{id:"observer-pattern",className:"card",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"👁️ Observer 패턴 (Event-Driven)"}),a.jsx("a",{href:"#table-of-contents",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:"↑ 목차로 가기"})]}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Spring의 Event 시스템을 활용하여 Observer 패턴을 구현합니다. 객체 간의 느슨한 결합을 통해 변경 사항을 다른 객체들에게 알릴 수 있습니다."}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"🎨 Observer 패턴 (Spring Events) 다이어그램"}),a.jsx(Ve,{chart:`
                sequenceDiagram
                    participant Client
                    participant UserService as UserService<br/>(Publisher)
                    participant EventPublisher as ApplicationEventPublisher
                    participant EmailListener as EmailEventListener<br/>(@EventListener)
                    participant AuditListener as AuditEventListener<br/>(@EventListener)
                    participant NotificationListener as NotificationEventListener<br/>(@EventListener)

                    Client->>UserService: createUser(request)
                    UserService->>UserService: 사용자 생성 로직
                    UserService->>EventPublisher: publishEvent(UserRegisteredEvent)

                    par 병렬 처리
                        EventPublisher-->>EmailListener: UserRegisteredEvent
                        EmailListener->>EmailListener: 환영 이메일 발송
                        EmailListener-->>UserService: @Async 완료
                    and
                        EventPublisher-->>AuditListener: UserRegisteredEvent
                        AuditListener->>AuditListener: 감사 로그 기록
                        AuditListener-->>UserService: 동기 완료
                    and
                        EventPublisher-->>NotificationListener: UserRegisteredEvent
                        NotificationListener->>NotificationListener: 푸시 알림 발송
                        NotificationListener-->>UserService: @Async 완료
                    end

                    UserService->>Client: UserResponse

                    note over EventPublisher: Spring의 ApplicationEventPublisher가<br/>모든 @EventListener를 자동 탐지하여<br/>이벤트를 병렬로 전달
                    note over EmailListener,NotificationListener: @Async 어노테이션으로<br/>비동기 처리 가능
              `,className:"border-gray-200"})]}),a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:`// 도메인 이벤트 정의
public class UserRegisteredEvent {

    private final Long userId;
    private final String email;
    private final String name;
    private final LocalDateTime registeredAt;

    public UserRegisteredEvent(Long userId, String email, String name) {
        this.userId = userId;
        this.email = email;
        this.name = name;
        this.registeredAt = LocalDateTime.now();
    }

    // getters...
}

public class OrderCompletedEvent {

    private final Long orderId;
    private final Long userId;
    private final BigDecimal totalAmount;
    private final List<OrderItem> items;
    private final LocalDateTime completedAt;

    public OrderCompletedEvent(Long orderId, Long userId, BigDecimal totalAmount, List<OrderItem> items) {
        this.orderId = orderId;
        this.userId = userId;
        this.totalAmount = totalAmount;
        this.items = items;
        this.completedAt = LocalDateTime.now();
    }

    // getters...
}

// Event Publisher (Subject 역할)
@Service
@RequiredArgsConstructor
public class UserService {

    private final UserRepository userRepository;
    private final PasswordEncoder passwordEncoder;
    private final ApplicationEventPublisher eventPublisher;

    @Transactional
    public UserResponse createUser(CreateUserRequest request) {
        // 사용자 생성
        User user = User.builder()
            .name(request.getName())
            .email(request.getEmail())
            .password(passwordEncoder.encode(request.getPassword()))
            .active(true)
            .createdAt(LocalDateTime.now())
            .build();

        User savedUser = userRepository.save(user);

        // 이벤트 발행
        UserRegisteredEvent event = new UserRegisteredEvent(
            savedUser.getId(),
            savedUser.getEmail(),
            savedUser.getName()
        );
        eventPublisher.publishEvent(event);

        return UserResponse.from(savedUser);
    }
}

// Event Listeners (Observer 역할)
@Component
@Slf4j
@RequiredArgsConstructor
public class EmailEventListener {

    private final EmailService emailService;

    @EventListener
    @Async
    public void handleUserRegistered(UserRegisteredEvent event) {
        log.info("사용자 등록 이메일 발송: {}", event.getEmail());

        try {
            emailService.sendWelcomeEmail(
                event.getEmail(),
                event.getName()
            );
        } catch (Exception e) {
            log.error("환영 이메일 발송 실패: {}", event.getEmail(), e);
        }
    }

    @EventListener
    @Async
    public void handleOrderCompleted(OrderCompletedEvent event) {
        log.info("주문 완료 이메일 발송: 주문 ID {}", event.getOrderId());

        try {
            emailService.sendOrderConfirmationEmail(
                event.getUserId(),
                event.getOrderId(),
                event.getTotalAmount(),
                event.getItems()
            );
        } catch (Exception e) {
            log.error("주문 확인 이메일 발송 실패: 주문 ID {}", event.getOrderId(), e);
        }
    }
}

@Component
@Slf4j
@RequiredArgsConstructor
public class AuditEventListener {

    private final AuditService auditService;

    @EventListener
    public void handleUserRegistered(UserRegisteredEvent event) {
        log.info("사용자 등록 감사 로그: {}", event.getUserId());

        auditService.logUserAction(
            event.getUserId(),
            "USER_REGISTERED",
            "New user registered: " + event.getEmail()
        );
    }

    @EventListener
    public void handleOrderCompleted(OrderCompletedEvent event) {
        log.info("주문 완료 감사 로그: 주문 ID {}", event.getOrderId());

        auditService.logUserAction(
            event.getUserId(),
            "ORDER_COMPLETED",
            String.format("Order %d completed with amount %s",
                         event.getOrderId(),
                         event.getTotalAmount())
        );
    }
}

@Component
@Slf4j
@RequiredArgsConstructor
public class NotificationEventListener {

    private final NotificationService notificationService;
    private final UserRepository userRepository;

    @EventListener
    @Async
    public void handleUserRegistered(UserRegisteredEvent event) {
        log.info("사용자 등록 알림: {}", event.getUserId());

        try {
            // 관리자에게 알림
            notificationService.sendAdminNotification(
                "새로운 사용자가 등록되었습니다: " + event.getEmail()
            );

            // 사용자에게 환영 푸시 알림
            notificationService.sendPushNotification(
                event.getUserId(),
                "환영합니다!",
                "성공적으로 가입되었습니다."
            );
        } catch (Exception e) {
            log.error("등록 알림 발송 실패: {}", event.getUserId(), e);
        }
    }

    @EventListener
    @Async
    public void handleOrderCompleted(OrderCompletedEvent event) {
        log.info("주문 완료 알림: 주문 ID {}", event.getOrderId());

        try {
            User user = userRepository.findById(event.getUserId())
                .orElseThrow(() -> new UserNotFoundException("사용자를 찾을 수 없습니다"));

            notificationService.sendSmsNotification(
                user.getPhoneNumber(),
                String.format("주문이 완료되었습니다. 주문번호: %d", event.getOrderId())
            );
        } catch (Exception e) {
            log.error("주문 완료 알림 발송 실패: 주문 ID {}", event.getOrderId(), e);
        }
    }
}

// 통계 수집 리스너
@Component
@Slf4j
@RequiredArgsConstructor
public class StatisticsEventListener {

    private final GlobalStatistics globalStatistics;
    private final StatisticsRepository statisticsRepository;

    @EventListener
    public void handleUserRegistered(UserRegisteredEvent event) {
        globalStatistics.incrementUserRegistrations();

        // 일별 통계 업데이트
        statisticsRepository.incrementDailyUserRegistrations(
            event.getRegisteredAt().toLocalDate()
        );
    }

    @EventListener
    public void handleOrderCompleted(OrderCompletedEvent event) {
        globalStatistics.incrementOrderCompletions();
        globalStatistics.addRevenue(event.getTotalAmount());

        // 일별 통계 업데이트
        statisticsRepository.updateDailySales(
            event.getCompletedAt().toLocalDate(),
            event.getTotalAmount()
        );
    }
}

// 조건부 이벤트 리스너
@Component
@Slf4j
@RequiredArgsConstructor
public class ConditionalEventListener {

    private final VipService vipService;

    // 조건부 리스너 - SpEL 사용
    @EventListener(condition = "#event.totalAmount.compareTo(new java.math.BigDecimal('100000')) >= 0")
    public void handleHighValueOrder(OrderCompletedEvent event) {
        log.info("고액 주문 처리: 주문 ID {}, 금액 {}", event.getOrderId(), event.getTotalAmount());

        // VIP 혜택 제공
        vipService.processHighValueOrder(event.getUserId(), event.getOrderId());
    }

    // 특정 도메인 이메일만 처리
    @EventListener(condition = "#event.email.endsWith('@company.com')")
    public void handleCompanyUserRegistration(UserRegisteredEvent event) {
        log.info("회사 이메일 사용자 등록: {}", event.getEmail());

        // 특별한 처리 로직
    }
}

// 트랜잭션 이벤트 리스너
@Component
@Slf4j
@RequiredArgsConstructor
public class TransactionalEventListener {

    private final ReportService reportService;

    // 트랜잭션 커밋 후에만 실행
    @TransactionalEventListener(phase = TransactionPhase.AFTER_COMMIT)
    public void handleUserRegisteredAfterCommit(UserRegisteredEvent event) {
        log.info("트랜잭션 커밋 후 사용자 등록 처리: {}", event.getUserId());

        // 외부 시스템에 안전하게 알림
        reportService.notifyExternalSystem(event);
    }

    // 트랜잭션 롤백 시에만 실행
    @TransactionalEventListener(phase = TransactionPhase.AFTER_ROLLBACK)
    public void handleUserRegistrationFailure(UserRegisteredEvent event) {
        log.warn("사용자 등록 실패 처리: {}", event.getUserId());

        // 실패 처리 로직
    }
}

// 커스텀 이벤트 발행 서비스
@Service
@RequiredArgsConstructor
public class CustomEventPublisher {

    private final ApplicationEventPublisher eventPublisher;

    public void publishUserRegisteredEvent(User user) {
        UserRegisteredEvent event = new UserRegisteredEvent(
            user.getId(),
            user.getEmail(),
            user.getName()
        );
        eventPublisher.publishEvent(event);
    }

    public void publishOrderCompletedEvent(Order order) {
        OrderCompletedEvent event = new OrderCompletedEvent(
            order.getId(),
            order.getUserId(),
            order.getTotalAmount(),
            order.getOrderItems()
        );
        eventPublisher.publishEvent(event);
    }

    // 비동기 이벤트 발행
    @Async
    public void publishEventAsync(Object event) {
        eventPublisher.publishEvent(event);
    }
}`})})]}),a.jsxs("div",{id:"template-method",className:"card",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"📋 Template Method 패턴"}),a.jsx("a",{href:"#table-of-contents",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:"↑ 목차로 가기"})]}),a.jsx("p",{className:"text-gray-600 mb-6",children:"알고리즘의 구조를 정의하고, 하위 클래스에서 알고리즘의 특정 단계를 재정의할 수 있게 하는 패턴입니다."}),a.jsx(Ve,{chart:`
              classDiagram
                class DataProcessor {
                  <<abstract>>
                  +processData(String) ProcessResult ⭐template method
                  #validateData(String) boolean ⭐abstract
                  #transformData(String) String ⭐abstract
                  #saveData(String) boolean ⭐abstract
                  -logProcess(String) void
                  -handleError(Exception) void
                }

                class JsonDataProcessor {
                  #validateData(String) boolean
                  #transformData(String) String
                  #saveData(String) boolean
                }

                class XmlDataProcessor {
                  #validateData(String) boolean
                  #transformData(String) String
                  #saveData(String) boolean
                }

                class CsvDataProcessor {
                  #validateData(String) boolean
                  #transformData(String) String
                  #saveData(String) boolean
                }

                class DataProcessorService {
                  <<@Service>>
                  -processors: Map~DataType, DataProcessor~
                  +processDataByType(DataType, String) ProcessResult
                }

                DataProcessor <|-- JsonDataProcessor
                DataProcessor <|-- XmlDataProcessor
                DataProcessor <|-- CsvDataProcessor
                DataProcessorService --> DataProcessor

                note for DataProcessor "Template Method:
1. validateData()
2. transformData()
3. saveData()
4. return result"
            `,className:"mb-6"}),a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:`// 추상 템플릿 클래스
public abstract class DataProcessor {

    // Template Method - 알고리즘의 전체 구조 정의
    public final ProcessResult processData(String inputData) {
        try {
            // 1. 데이터 검증
            validateData(inputData);

            // 2. 데이터 전처리
            String preprocessedData = preprocessData(inputData);

            // 3. 핵심 처리 로직 (하위 클래스에서 구현)
            String processedData = doProcessData(preprocessedData);

            // 4. 후처리
            String finalData = postprocessData(processedData);

            // 5. 결과 생성
            ProcessResult result = createResult(finalData);

            // 6. 로깅 (선택적)
            if (shouldLog()) {
                logProcessing(inputData, result);
            }

            return result;

        } catch (Exception e) {
            return handleError(inputData, e);
        }
    }

    // 공통 구현 메서드들
    protected void validateData(String data) {
        if (data == null || data.trim().isEmpty()) {
            throw new IllegalArgumentException("입력 데이터가 비어있습니다");
        }
    }

    protected String preprocessData(String data) {
        return data.trim();
    }

    protected String postprocessData(String data) {
        return data;
    }

    protected ProcessResult createResult(String data) {
        return ProcessResult.builder()
            .data(data)
            .processedAt(LocalDateTime.now())
            .success(true)
            .build();
    }

    protected ProcessResult handleError(String inputData, Exception e) {
        return ProcessResult.builder()
            .originalData(inputData)
            .error(e.getMessage())
            .processedAt(LocalDateTime.now())
            .success(false)
            .build();
    }

    // Hook 메서드들 (선택적으로 오버라이드)
    protected boolean shouldLog() {
        return true;
    }

    protected void logProcessing(String inputData, ProcessResult result) {
        System.out.println(String.format("Processed: %s -> Success: %s",
                                       inputData, result.isSuccess()));
    }

    // 추상 메서드 - 하위 클래스에서 반드시 구현
    protected abstract String doProcessData(String data);
}

// JSON 데이터 프로세서
@Component
public class JsonDataProcessor extends DataProcessor {

    private final ObjectMapper objectMapper;

    public JsonDataProcessor() {
        this.objectMapper = new ObjectMapper();
    }

    @Override
    protected void validateData(String data) {
        super.validateData(data);

        try {
            objectMapper.readTree(data);
        } catch (Exception e) {
            throw new IllegalArgumentException("유효하지 않은 JSON 형식입니다", e);
        }
    }

    @Override
    protected String doProcessData(String data) {
        try {
            JsonNode jsonNode = objectMapper.readTree(data);

            // JSON 데이터 변환 로직
            ObjectNode result = objectMapper.createObjectNode();
            result.put("processed", true);
            result.put("processedAt", LocalDateTime.now().toString());
            result.set("original", jsonNode);

            return objectMapper.writeValueAsString(result);

        } catch (Exception e) {
            throw new RuntimeException("JSON 처리 중 오류가 발생했습니다", e);
        }
    }

    @Override
    protected boolean shouldLog() {
        return true;
    }

    @Override
    protected void logProcessing(String inputData, ProcessResult result) {
        System.out.println(String.format("JSON 처리 완료: 크기 %d bytes -> 성공: %s",
                                       inputData.length(), result.isSuccess()));
    }
}

// XML 데이터 프로세서
@Component
public class XmlDataProcessor extends DataProcessor {

    @Override
    protected void validateData(String data) {
        super.validateData(data);

        try {
            DocumentBuilderFactory.newInstance()
                .newDocumentBuilder()
                .parse(new ByteArrayInputStream(data.getBytes()));
        } catch (Exception e) {
            throw new IllegalArgumentException("유효하지 않은 XML 형식입니다", e);
        }
    }

    @Override
    protected String preprocessData(String data) {
        // XML 특별 전처리
        return super.preprocessData(data)
            .replaceAll("\\r\\n", "\\n")
            .replaceAll("\\r", "\\n");
    }

    @Override
    protected String doProcessData(String data) {
        try {
            // XML 처리 로직
            StringBuilder result = new StringBuilder();
            result.append("<?xml version=\\"1.0\\" encoding=\\"UTF-8\\"?>\\n");
            result.append("<processed>\\n");
            result.append("  <timestamp>").append(LocalDateTime.now()).append("</timestamp>\\n");
            result.append("  <original><![CDATA[").append(data).append("]]></original>\\n");
            result.append("</processed>");

            return result.toString();

        } catch (Exception e) {
            throw new RuntimeException("XML 처리 중 오류가 발생했습니다", e);
        }
    }

    @Override
    protected void logProcessing(String inputData, ProcessResult result) {
        System.out.println(String.format("XML 처리 완료: %s -> 성공: %s",
                                       "XML 데이터", result.isSuccess()));
    }
}

// CSV 데이터 프로세서
@Component
public class CsvDataProcessor extends DataProcessor {

    @Override
    protected void validateData(String data) {
        super.validateData(data);

        String[] lines = data.split("\\n");
        if (lines.length < 2) {
            throw new IllegalArgumentException("CSV는 최소 헤더와 1개 데이터 행이 필요합니다");
        }
    }

    @Override
    protected String doProcessData(String data) {
        String[] lines = data.split("\\n");
        StringBuilder result = new StringBuilder();

        // 헤더 추가
        result.append("processed_at,").append(lines[0]).append("\\n");

        // 데이터 행 처리
        for (int i = 1; i < lines.length; i++) {
            result.append(LocalDateTime.now()).append(",").append(lines[i]).append("\\n");
        }

        return result.toString();
    }

    @Override
    protected boolean shouldLog() {
        return false; // CSV는 로그 생략
    }
}

// 데이터 프로세서 팩토리와 함께 사용
@Service
@RequiredArgsConstructor
public class DataProcessingService {

    private final List<DataProcessor> processors;

    public ProcessResult processData(String data, DataType type) {
        DataProcessor processor = getProcessor(type);
        return processor.processData(data);
    }

    private DataProcessor getProcessor(DataType type) {
        return processors.stream()
            .filter(p -> supportsType(p, type))
            .findFirst()
            .orElseThrow(() -> new UnsupportedOperationException(
                "지원하지 않는 데이터 타입입니다: " + type));
    }

    private boolean supportsType(DataProcessor processor, DataType type) {
        switch (type) {
            case JSON:
                return processor instanceof JsonDataProcessor;
            case XML:
                return processor instanceof XmlDataProcessor;
            case CSV:
                return processor instanceof CsvDataProcessor;
            default:
                return false;
        }
    }
}

// 파일 처리를 위한 Template Method 예제
public abstract class FileProcessor {

    public final FileProcessResult processFile(String filePath) {
        try {
            // 1. 파일 검증
            validateFile(filePath);

            // 2. 파일 읽기
            String content = readFile(filePath);

            // 3. 내용 처리 (하위 클래스 구현)
            String processedContent = processContent(content);

            // 4. 백업 생성 (선택적)
            if (shouldCreateBackup()) {
                createBackup(filePath);
            }

            // 5. 결과 파일 쓰기
            String outputPath = getOutputPath(filePath);
            writeFile(outputPath, processedContent);

            // 6. 정리 작업
            cleanup(filePath, outputPath);

            return FileProcessResult.success(outputPath);

        } catch (Exception e) {
            return FileProcessResult.failure(e.getMessage());
        }
    }

    // 공통 구현 메서드들
    protected void validateFile(String filePath) {
        File file = new File(filePath);
        if (!file.exists()) {
            throw new IllegalArgumentException("파일이 존재하지 않습니다: " + filePath);
        }
        if (!file.canRead()) {
            throw new IllegalArgumentException("파일을 읽을 수 없습니다: " + filePath);
        }
    }

    protected String readFile(String filePath) throws IOException {
        return Files.readString(Paths.get(filePath));
    }

    protected void writeFile(String filePath, String content) throws IOException {
        Files.writeString(Paths.get(filePath), content);
    }

    protected void createBackup(String filePath) throws IOException {
        String backupPath = filePath + ".backup." + System.currentTimeMillis();
        Files.copy(Paths.get(filePath), Paths.get(backupPath));
    }

    protected void cleanup(String inputPath, String outputPath) {
        // 기본적으로는 정리 작업 없음
    }

    // Hook 메서드들
    protected boolean shouldCreateBackup() {
        return true;
    }

    protected String getOutputPath(String inputPath) {
        return inputPath.replaceAll("\\\\.[^.]+$", "_processed.txt");
    }

    // 추상 메서드
    protected abstract String processContent(String content);
}

// 텍스트 파일 처리 구현체
@Component
public class TextFileProcessor extends FileProcessor {

    @Override
    protected String processContent(String content) {
        // 텍스트 처리: 대문자 변환 + 줄 번호 추가
        String[] lines = content.split("\\n");
        StringBuilder result = new StringBuilder();

        for (int i = 0; i < lines.length; i++) {
            result.append(String.format("%03d: %s%n", i + 1, lines[i].toUpperCase()));
        }

        return result.toString();
    }

    @Override
    protected String getOutputPath(String inputPath) {
        return inputPath.replaceAll("\\\\.[^.]+$", "_processed.txt");
    }
}

// 로그 파일 처리 구현체
@Component
public class LogFileProcessor extends FileProcessor {

    @Override
    protected String processContent(String content) {
        // 로그 파일 처리: 에러 로그만 추출 + 타임스탬프 추가
        String[] lines = content.split("\\n");
        StringBuilder result = new StringBuilder();

        result.append("=== 에러 로그 추출 결과 ===\\n");
        result.append("생성시간: ").append(LocalDateTime.now()).append("\\n\\n");

        for (String line : lines) {
            if (line.toLowerCase().contains("error") ||
                line.toLowerCase().contains("exception")) {
                result.append(line).append("\\n");
            }
        }

        return result.toString();
    }

    @Override
    protected String getOutputPath(String inputPath) {
        return inputPath.replaceAll("\\\\.[^.]+$", "_errors.log");
    }

    @Override
    protected boolean shouldCreateBackup() {
        return false; // 로그 파일은 백업 생성 안함
    }
}`})})]}),a.jsxs("div",{id:"facade-pattern",className:"card",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"🎭 Facade 패턴"}),a.jsx("a",{href:"#table-of-contents",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:"↑ 목차로 가기"})]}),a.jsx("p",{className:"text-gray-600 mb-6",children:"복잡한 서브시스템에 대한 단순화된 인터페이스를 제공하여 클라이언트의 사용을 쉽게 만드는 패턴입니다."}),a.jsx(Ve,{chart:`
              classDiagram
                class UserRegistrationFacade {
                  <<@Service>>
                  -userValidationService: UserValidationService
                  -passwordEncodingService: PasswordEncodingService
                  -emailService: EmailService
                  -userRepository: UserRepository
                  -auditService: AuditService
                  +registerUser(CreateUserRequest) UserResponse
                  +registerUserWithWelcome(CreateUserRequest) UserResponse
                }

                class UserValidationService {
                  <<@Service>>
                  +validateUser(CreateUserRequest) ValidationResult
                  +checkEmailDuplicate(String) boolean
                  +validatePassword(String) boolean
                }

                class PasswordEncodingService {
                  <<@Service>>
                  +encodePassword(String) String
                  +matches(String, String) boolean
                }

                class EmailService {
                  <<@Service>>
                  +sendWelcomeEmail(User) void
                  +sendVerificationEmail(User) void
                }

                class UserRepository {
                  <<@Repository>>
                  +save(User) User
                  +findByEmail(String) Optional~User~
                }

                class AuditService {
                  <<@Service>>
                  +logUserRegistration(User) void
                  +createAuditLog(String, Object) void
                }

                class UserController {
                  -userRegistrationFacade: UserRegistrationFacade
                  +registerUser(CreateUserRequest) UserResponse
                }

                UserRegistrationFacade --> UserValidationService
                UserRegistrationFacade --> PasswordEncodingService
                UserRegistrationFacade --> EmailService
                UserRegistrationFacade --> UserRepository
                UserRegistrationFacade --> AuditService
                UserController --> UserRegistrationFacade

                note for UserRegistrationFacade "Facade는 복잡한 서브시스템을
단순한 인터페이스로 통합"
            `,className:"mb-6"}),a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:`// 복잡한 서브시스템들
@Service
@RequiredArgsConstructor
public class UserValidationService {

    public ValidationResult validateUser(CreateUserRequest request) {
        List<String> errors = new ArrayList<>();

        if (request.getName() == null || request.getName().trim().isEmpty()) {
            errors.add("이름은 필수입니다");
        }

        if (request.getEmail() == null || !isValidEmail(request.getEmail())) {
            errors.add("유효한 이메일이 필요합니다");
        }

        if (request.getPassword() == null || request.getPassword().length() < 8) {
            errors.add("비밀번호는 8자 이상이어야 합니다");
        }

        return ValidationResult.builder()
            .valid(errors.isEmpty())
            .errors(errors)
            .build();
    }

    private boolean isValidEmail(String email) {
        return email.contains("@") && email.contains(".");
    }
}

@Service
@RequiredArgsConstructor
public class UserPersistenceService {

    private final UserRepository userRepository;
    private final PasswordEncoder passwordEncoder;

    public User saveUser(CreateUserRequest request) {
        User user = User.builder()
            .name(request.getName())
            .email(request.getEmail())
            .password(passwordEncoder.encode(request.getPassword()))
            .active(true)
            .createdAt(LocalDateTime.now())
            .build();

        return userRepository.save(user);
    }

    public boolean emailExists(String email) {
        return userRepository.findByEmail(email).isPresent();
    }
}

@Service
@RequiredArgsConstructor
public class UserNotificationService {

    private final EmailService emailService;
    private final SmsService smsService;

    public void sendWelcomeNotifications(User user) {
        // 환영 이메일 발송
        emailService.sendWelcomeEmail(user.getEmail(), user.getName());

        // 관리자에게 알림
        emailService.sendAdminNotification(
            "새로운 사용자 등록: " + user.getEmail()
        );
    }

    public void sendVerificationCode(String email, String code) {
        emailService.sendVerificationCode(email, code);
    }
}

@Service
@RequiredArgsConstructor
public class UserAuditService {

    private final AuditLogger auditLogger;

    public void logUserRegistration(User user) {
        auditLogger.logUserAction(
            user.getId(),
            "USER_REGISTERED",
            "User registered with email: " + user.getEmail()
        );
    }

    public void logUserLogin(Long userId, String ipAddress) {
        auditLogger.logUserAction(
            userId,
            "USER_LOGIN",
            "User logged in from IP: " + ipAddress
        );
    }
}

// Facade 클래스 - 복잡한 서브시스템을 단순화
@Service
@RequiredArgsConstructor
@Transactional
public class UserManagementFacade {

    private final UserValidationService validationService;
    private final UserPersistenceService persistenceService;
    private final UserNotificationService notificationService;
    private final UserAuditService auditService;

    /**
     * 사용자 등록의 모든 과정을 처리하는 단순화된 인터페이스
     */
    public UserRegistrationResult registerUser(CreateUserRequest request) {
        try {
            // 1. 데이터 검증
            ValidationResult validation = validationService.validateUser(request);
            if (!validation.isValid()) {
                return UserRegistrationResult.failure(validation.getErrors());
            }

            // 2. 중복 이메일 확인
            if (persistenceService.emailExists(request.getEmail())) {
                return UserRegistrationResult.failure(
                    List.of("이미 사용 중인 이메일입니다")
                );
            }

            // 3. 사용자 저장
            User savedUser = persistenceService.saveUser(request);

            // 4. 알림 발송
            notificationService.sendWelcomeNotifications(savedUser);

            // 5. 감사 로그 기록
            auditService.logUserRegistration(savedUser);

            return UserRegistrationResult.success(
                UserResponse.from(savedUser)
            );

        } catch (Exception e) {
            return UserRegistrationResult.failure(
                List.of("사용자 등록 중 오류가 발생했습니다: " + e.getMessage())
            );
        }
    }

    /**
     * 사용자 로그인 처리
     */
    public LoginResult loginUser(LoginRequest request, String ipAddress) {
        try {
            // 로그인 로직 (인증, 토큰 생성 등)
            // ... 로그인 처리 코드 ...

            // 로그인 성공 시 감사 로그 기록
            auditService.logUserLogin(1L, ipAddress); // 실제로는 인증된 사용자 ID

            return LoginResult.success("로그인 성공");

        } catch (Exception e) {
            return LoginResult.failure("로그인 실패: " + e.getMessage());
        }
    }

    /**
     * 이메일 인증 처리
     */
    public VerificationResult sendEmailVerification(String email) {
        try {
            if (!persistenceService.emailExists(email)) {
                return VerificationResult.failure("존재하지 않는 이메일입니다");
            }

            String verificationCode = generateVerificationCode();
            notificationService.sendVerificationCode(email, verificationCode);

            return VerificationResult.success("인증 코드가 발송되었습니다");

        } catch (Exception e) {
            return VerificationResult.failure("인증 코드 발송 실패: " + e.getMessage());
        }
    }

    private String generateVerificationCode() {
        return String.valueOf((int)(Math.random() * 900000) + 100000);
    }
}

// 주문 처리를 위한 복잡한 Facade 예제
@Service
@RequiredArgsConstructor
@Transactional
public class OrderProcessingFacade {

    private final InventoryService inventoryService;
    private final PaymentService paymentService;
    private final ShippingService shippingService;
    private final OrderPersistenceService orderPersistenceService;
    private final OrderNotificationService orderNotificationService;
    private final OrderAuditService orderAuditService;

    /**
     * 주문 처리의 모든 과정을 하나의 메서드로 통합
     */
    public OrderResult processOrder(CreateOrderRequest request) {
        String transactionId = UUID.randomUUID().toString();

        try {
            // 1. 재고 확인 및 예약
            InventoryReservationResult inventoryResult =
                inventoryService.reserveItems(request.getItems());

            if (!inventoryResult.isSuccess()) {
                return OrderResult.failure("재고 부족: " + inventoryResult.getMessage());
            }

            // 2. 주문 생성 및 저장
            Order order = orderPersistenceService.createOrder(request);

            try {
                // 3. 결제 처리
                PaymentResult paymentResult = paymentService.processPayment(
                    order.getId(),
                    request.getPaymentInfo()
                );

                if (!paymentResult.isSuccess()) {
                    // 재고 예약 해제
                    inventoryService.releaseReservation(inventoryResult.getReservationId());
                    return OrderResult.failure("결제 실패: " + paymentResult.getMessage());
                }

                // 4. 배송 준비
                ShippingResult shippingResult = shippingService.scheduleShipping(
                    order.getId(),
                    request.getShippingAddress()
                );

                if (!shippingResult.isSuccess()) {
                    // 결제 취소 및 재고 해제
                    paymentService.refundPayment(paymentResult.getPaymentId());
                    inventoryService.releaseReservation(inventoryResult.getReservationId());
                    return OrderResult.failure("배송 준비 실패: " + shippingResult.getMessage());
                }

                // 5. 주문 상태 업데이트
                orderPersistenceService.updateOrderStatus(
                    order.getId(),
                    OrderStatus.CONFIRMED
                );

                // 6. 알림 발송
                orderNotificationService.sendOrderConfirmation(order);

                // 7. 감사 로그 기록
                orderAuditService.logOrderProcessing(order, transactionId);

                return OrderResult.success(
                    OrderResponse.from(order),
                    paymentResult.getPaymentId(),
                    shippingResult.getTrackingNumber()
                );

            } catch (Exception e) {
                // 오류 발생 시 모든 예약 해제
                inventoryService.releaseReservation(inventoryResult.getReservationId());
                throw e;
            }

        } catch (Exception e) {
            orderAuditService.logOrderFailure(request, transactionId, e.getMessage());
            return OrderResult.failure("주문 처리 중 오류가 발생했습니다: " + e.getMessage());
        }
    }

    /**
     * 주문 취소 처리
     */
    public CancelResult cancelOrder(Long orderId, String reason) {
        try {
            Order order = orderPersistenceService.findOrder(orderId);

            if (order == null) {
                return CancelResult.failure("존재하지 않는 주문입니다");
            }

            if (!canCancelOrder(order.getStatus())) {
                return CancelResult.failure("취소할 수 없는 주문 상태입니다");
            }

            // 결제 환불
            paymentService.refundOrder(orderId);

            // 재고 복구
            inventoryService.restoreInventory(orderId);

            // 배송 취소
            if (order.getStatus() == OrderStatus.SHIPPED) {
                shippingService.cancelShipping(orderId);
            }

            // 주문 상태 업데이트
            orderPersistenceService.updateOrderStatus(orderId, OrderStatus.CANCELLED);

            // 취소 알림
            orderNotificationService.sendCancellationNotification(order, reason);

            // 감사 로그
            orderAuditService.logOrderCancellation(orderId, reason);

            return CancelResult.success("주문이 성공적으로 취소되었습니다");

        } catch (Exception e) {
            return CancelResult.failure("주문 취소 중 오류가 발생했습니다: " + e.getMessage());
        }
    }

    private boolean canCancelOrder(OrderStatus status) {
        return status == OrderStatus.PENDING ||
               status == OrderStatus.CONFIRMED ||
               status == OrderStatus.SHIPPED;
    }
}

// Controller에서 Facade 사용 예제
@RestController
@RequestMapping("/api/users")
@RequiredArgsConstructor
public class UserController {

    private final UserManagementFacade userFacade;

    @PostMapping("/register")
    public ResponseEntity<ApiResponse<UserResponse>> registerUser(
            @Valid @RequestBody CreateUserRequest request) {

        UserRegistrationResult result = userFacade.registerUser(request);

        if (result.isSuccess()) {
            return ResponseEntity.ok(
                ApiResponse.success(result.getUser())
            );
        } else {
            return ResponseEntity.badRequest().body(
                ApiResponse.error(400, String.join(", ", result.getErrors()))
            );
        }
    }

    @PostMapping("/login")
    public ResponseEntity<ApiResponse<String>> login(
            @Valid @RequestBody LoginRequest request,
            HttpServletRequest httpRequest) {

        String ipAddress = getClientIpAddress(httpRequest);
        LoginResult result = userFacade.loginUser(request, ipAddress);

        if (result.isSuccess()) {
            return ResponseEntity.ok(
                ApiResponse.success(result.getMessage())
            );
        } else {
            return ResponseEntity.badRequest().body(
                ApiResponse.error(400, result.getMessage())
            );
        }
    }

    @PostMapping("/verify-email")
    public ResponseEntity<ApiResponse<String>> verifyEmail(
            @RequestBody VerificationRequest request) {

        VerificationResult result = userFacade.sendEmailVerification(request.getEmail());

        if (result.isSuccess()) {
            return ResponseEntity.ok(
                ApiResponse.success(result.getMessage())
            );
        } else {
            return ResponseEntity.badRequest().body(
                ApiResponse.error(400, result.getMessage())
            );
        }
    }

    private String getClientIpAddress(HttpServletRequest request) {
        String xForwardedFor = request.getHeader("X-Forwarded-For");
        if (xForwardedFor != null && !xForwardedFor.isEmpty()) {
            return xForwardedFor.split(",")[0].trim();
        }
        return request.getRemoteAddr();
    }
}`})})]}),a.jsxs("div",{id:"proxy-pattern",className:"card",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"🎭 Proxy 패턴"}),a.jsx("a",{href:"#table-of-contents",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:"↑ 목차로 가기"})]}),a.jsx("p",{className:"text-gray-600 mb-6",children:"실제 객체에 대한 대리자(프록시)를 제공하여 접근을 제어하거나 추가 기능을 제공하는 패턴입니다. Spring AOP의 핵심이며, @Transactional, @Aspect 등의 구현 원리입니다."}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-6",children:[a.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[a.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"🔄 Dynamic Proxy"}),a.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[a.jsx("li",{children:"• JDK Dynamic Proxy"}),a.jsx("li",{children:"• CGLIB Proxy"}),a.jsx("li",{children:"• 런타임 프록시 생성"}),a.jsx("li",{children:"• 인터페이스 기반/클래스 기반"})]})]}),a.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[a.jsx("h3",{className:"font-semibold text-green-900 mb-2",children:"🎯 AOP 적용"}),a.jsxs("ul",{className:"text-sm text-green-700 space-y-1",children:[a.jsx("li",{children:"• @Transactional"}),a.jsx("li",{children:"• @Cacheable"}),a.jsx("li",{children:"• @Async"}),a.jsx("li",{children:"• @PreAuthorize"})]})]}),a.jsxs("div",{className:"p-4 bg-purple-50 border border-purple-200 rounded-lg",children:[a.jsx("h3",{className:"font-semibold text-purple-900 mb-2",children:"⚡ 사용 사례"}),a.jsxs("ul",{className:"text-sm text-purple-700 space-y-1",children:[a.jsx("li",{children:"• 트랜잭션 관리"}),a.jsx("li",{children:"• 로깅 및 모니터링"}),a.jsx("li",{children:"• 보안 검사"}),a.jsx("li",{children:"• 캐싱"})]})]})]}),a.jsx(Ve,{chart:`
              classDiagram
                class UserService {
                  <<interface>>
                  +createUser(CreateUserRequest) User
                  +getUserById(Long) User
                  +deleteUser(Long) void
                }

                class UserServiceImpl {
                  <<@Service>>
                  -userRepository: UserRepository
                  -emailService: EmailService
                  +createUser(CreateUserRequest) User
                  +getUserById(Long) User
                  +deleteUser(Long) void
                }

                class UserServiceProxy {
                  <<Dynamic Proxy>>
                  -target: UserService
                  -transactionManager: PlatformTransactionManager
                  +createUser(CreateUserRequest) User ⭐with @Transactional
                  +getUserById(Long) User ⭐with caching
                  +deleteUser(Long) void ⭐with logging
                }

                class SpringAOPProxy {
                  <<Spring Framework>>
                  +createProxy(Object, List~Advisor~) Object
                  +applyAdvice(JoinPoint) Object
                }

                class TransactionAspect {
                  <<@Aspect>>
                  +around(ProceedingJoinPoint) Object
                  -beginTransaction() void
                  -commitTransaction() void
                  -rollbackTransaction() void
                }

                class UserController {
                  -userService: UserService ⭐injected proxy
                  +createUser(CreateUserRequest) ResponseEntity
                }

                UserService <|-- UserServiceImpl
                UserService <|-- UserServiceProxy
                UserServiceProxy --> UserServiceImpl : delegates to
                SpringAOPProxy --> UserServiceProxy : creates
                TransactionAspect --> UserServiceProxy : applies advice
                UserController --> UserServiceProxy : uses proxy

                note for UserServiceProxy "Spring은 런타임에
프록시를 생성하여
횡단 관심사를 적용"
            `,className:"mb-6"}),a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:`// 기본 서비스 인터페이스
public interface UserService {
    User createUser(CreateUserRequest request);
    User getUserById(Long id);
    void deleteUser(Long id);
}

// 실제 구현체
@Service
@Transactional(readOnly = true)
public class UserServiceImpl implements UserService {

    private final UserRepository userRepository;
    private final EmailService emailService;

    public UserServiceImpl(UserRepository userRepository, EmailService emailService) {
        this.userRepository = userRepository;
        this.emailService = emailService;
    }

    @Override
    @Transactional  // Spring이 프록시로 트랜잭션 관리
    public User createUser(CreateUserRequest request) {
        System.out.println("실제 사용자 생성 로직");

        User user = User.builder()
            .name(request.getName())
            .email(request.getEmail())
            .active(true)
            .createdAt(LocalDateTime.now())
            .build();

        User savedUser = userRepository.save(user);
        emailService.sendWelcomeEmail(savedUser.getEmail());

        return savedUser;
    }

    @Override
    @Cacheable("users")  // Spring이 프록시로 캐싱 처리
    public User getUserById(Long id) {
        System.out.println("실제 사용자 조회 로직");
        return userRepository.findById(id)
            .orElseThrow(() -> new UserNotFoundException("사용자를 찾을 수 없습니다"));
    }

    @Override
    @Transactional
    @PreAuthorize("hasRole('ADMIN')")  // Spring Security 프록시로 권한 검사
    public void deleteUser(Long id) {
        System.out.println("실제 사용자 삭제 로직");
        userRepository.deleteById(id);
    }
}

// AOP를 통한 커스텀 프록시 구현
@Aspect
@Component
@Slf4j
public class PerformanceMonitoringAspect {

    // 모든 서비스 메서드 실행 전후에 성능 측정
    @Around("execution(* com.springhub.service.*.*(..))")
    public Object measureExecutionTime(ProceedingJoinPoint joinPoint) throws Throwable {
        long startTime = System.currentTimeMillis();
        String methodName = joinPoint.getSignature().getName();
        String className = joinPoint.getTarget().getClass().getSimpleName();

        log.info("⏱️ 메서드 실행 시작: {}.{}", className, methodName);

        try {
            // 실제 메서드 실행 (프록시를 통한 위임)
            Object result = joinPoint.proceed();

            long endTime = System.currentTimeMillis();
            long duration = endTime - startTime;

            log.info("✅ 메서드 실행 완료: {}.{} - {}ms", className, methodName, duration);

            // 성능 임계값 체크
            if (duration > 5000) {
                log.warn("🐌 성능 경고: {}.{} 실행 시간이 {}ms로 임계값(5초)을 초과했습니다",
                        className, methodName, duration);
            }

            return result;

        } catch (Exception e) {
            long endTime = System.currentTimeMillis();
            long duration = endTime - startTime;

            log.error("❌ 메서드 실행 실패: {}.{} - {}ms, 오류: {}",
                     className, methodName, duration, e.getMessage());
            throw e;
        }
    }

    // 특정 어노테이션이 있는 메서드에만 로깅 적용
    @Around("@annotation(Loggable)")
    public Object logMethodExecution(ProceedingJoinPoint joinPoint) throws Throwable {
        String methodName = joinPoint.getSignature().getName();
        Object[] args = joinPoint.getArgs();

        log.info("📝 메서드 호출: {} - 매개변수: {}", methodName, Arrays.toString(args));

        Object result = joinPoint.proceed();

        log.info("📤 메서드 반환: {} - 결과: {}", methodName, result);

        return result;
    }
}

// 커스텀 어노테이션
@Target(ElementType.METHOD)
@Retention(RetentionPolicy.RUNTIME)
public @interface Loggable {
}

// 수동 프록시 구현 예제
public class SecurityProxyUserService implements UserService {

    private final UserService target;
    private final SecurityService securityService;

    public SecurityProxyUserService(UserService target, SecurityService securityService) {
        this.target = target;
        this.securityService = securityService;
    }

    @Override
    public User createUser(CreateUserRequest request) {
        // 보안 검사 (프록시의 추가 기능)
        if (!securityService.hasPermission("USER_CREATE")) {
            throw new AccessDeniedException("사용자 생성 권한이 없습니다");
        }

        // 입력 데이터 검증 (프록시의 추가 기능)
        validateUserRequest(request);

        // 감사 로깅 (프록시의 추가 기능)
        auditService.logUserAction("USER_CREATE_ATTEMPT", request.getEmail());

        try {
            // 실제 객체에 위임
            User result = target.createUser(request);

            // 성공 로깅 (프록시의 추가 기능)
            auditService.logUserAction("USER_CREATE_SUCCESS", result.getEmail());

            return result;

        } catch (Exception e) {
            // 실패 로깅 (프록시의 추가 기능)
            auditService.logUserAction("USER_CREATE_FAILURE", request.getEmail());
            throw e;
        }
    }

    @Override
    public User getUserById(Long id) {
        // 접근 로그 (프록시의 추가 기능)
        log.info("사용자 조회 시도: ID {}", id);

        // 캐시 확인 (프록시의 추가 기능)
        User cachedUser = cacheService.getUser(id);
        if (cachedUser != null) {
            log.info("캐시에서 사용자 반환: ID {}", id);
            return cachedUser;
        }

        // 실제 객체에 위임
        User user = target.getUserById(id);

        // 캐시 저장 (프록시의 추가 기능)
        cacheService.putUser(id, user);

        return user;
    }

    @Override
    public void deleteUser(Long id) {
        // 관리자 권한 확인 (프록시의 추가 기능)
        if (!securityService.hasRole("ADMIN")) {
            throw new AccessDeniedException("관리자 권한이 필요합니다");
        }

        // 삭제 전 백업 (프록시의 추가 기능)
        User userToDelete = target.getUserById(id);
        backupService.backupUser(userToDelete);

        // 실제 객체에 위임
        target.deleteUser(id);

        // 캐시 무효화 (프록시의 추가 기능)
        cacheService.evictUser(id);

        // 감사 로깅
        auditService.logUserAction("USER_DELETE", userToDelete.getEmail());
    }

    private void validateUserRequest(CreateUserRequest request) {
        if (request.getEmail().contains("@spam.com")) {
            throw new IllegalArgumentException("차단된 도메인입니다");
        }
    }
}

// 프록시 팩토리 구현
@Component
public class UserServiceProxyFactory {

    private final SecurityService securityService;
    private final CacheService cacheService;
    private final AuditService auditService;
    private final BackupService backupService;

    public UserServiceProxyFactory(SecurityService securityService,
                                  CacheService cacheService,
                                  AuditService auditService,
                                  BackupService backupService) {
        this.securityService = securityService;
        this.cacheService = cacheService;
        this.auditService = auditService;
        this.backupService = backupService;
    }

    public UserService createSecuredUserService(UserService target) {
        return new SecurityProxyUserService(target, securityService);
    }

    public UserService createCachedUserService(UserService target) {
        return new CachingProxyUserService(target, cacheService);
    }

    public UserService createFullyProxiedUserService(UserService target) {
        // 프록시 체인 구성
        UserService securedService = createSecuredUserService(target);
        UserService cachedService = createCachedUserService(securedService);
        return new AuditProxyUserService(cachedService, auditService);
    }
}

// Spring Configuration에서 프록시 설정
@Configuration
@EnableAspectJAutoProxy(proxyTargetClass = true)  // CGLIB 프록시 활성화
public class ProxyConfiguration {

    @Bean
    public UserService userService(UserRepository userRepository,
                                  EmailService emailService,
                                  UserServiceProxyFactory proxyFactory) {

        // 기본 구현체 생성
        UserService basicService = new UserServiceImpl(userRepository, emailService);

        // 프록시 체인 적용
        return proxyFactory.createFullyProxiedUserService(basicService);
    }
}

// 프록시 동작 테스트
@RestController
@RequestMapping("/api/proxy-demo")
public class ProxyDemoController {

    private final UserService userService;
    private final ApplicationContext applicationContext;

    public ProxyDemoController(UserService userService, ApplicationContext applicationContext) {
        this.userService = userService;
        this.applicationContext = applicationContext;
    }

    @GetMapping("/proxy-info")
    public Map<String, Object> getProxyInfo() {
        Map<String, Object> info = new HashMap<>();

        // 프록시 클래스 정보
        Class<?> proxyClass = userService.getClass();
        info.put("isProxy", AopUtils.isAopProxy(userService));
        info.put("isJdkProxy", AopUtils.isJdkDynamicProxy(userService));
        info.put("isCglibProxy", AopUtils.isCglibProxy(userService));
        info.put("proxyClass", proxyClass.getName());
        info.put("targetClass", AopUtils.getTargetClass(userService).getName());

        return info;
    }

    @PostMapping("/test-transaction")
    public ResponseEntity<String> testTransactionProxy(@RequestBody CreateUserRequest request) {
        try {
            // @Transactional 어노테이션으로 인해 Spring이 자동으로 프록시를 통해 트랜잭션 관리
            User user = userService.createUser(request);
            return ResponseEntity.ok("사용자 생성 완료 (프록시를 통한 트랜잭션 적용): " + user.getId());
        } catch (Exception e) {
            return ResponseEntity.badRequest().body("프록시 트랜잭션 처리 실패: " + e.getMessage());
        }
    }
}`})})]}),a.jsxs("div",{id:"command-pattern",className:"card",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"⚡ Command 패턴"}),a.jsx("a",{href:"#table-of-contents",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:"↑ 목차로 가기"})]}),a.jsx("p",{className:"text-gray-600 mb-6",children:"요청을 객체로 캡슐화하여 요청을 매개변수화하고, 큐에 저장하거나 로깅하고, 실행 취소 기능을 제공하는 패턴입니다. Spring Boot에서는 비즈니스 로직의 실행, 트랜잭션 관리, 이벤트 처리에 활용됩니다."}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-6",children:[a.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[a.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"🎯 핵심 구성요소"}),a.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[a.jsx("li",{children:"• Command 인터페이스"}),a.jsx("li",{children:"• ConcreteCommand 구현"}),a.jsx("li",{children:"• Receiver (실행 객체)"}),a.jsx("li",{children:"• Invoker (호출자)"})]})]}),a.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[a.jsx("h3",{className:"font-semibold text-green-900 mb-2",children:"✨ 주요 기능"}),a.jsxs("ul",{className:"text-sm text-green-700 space-y-1",children:[a.jsx("li",{children:"• 요청 큐잉"}),a.jsx("li",{children:"• 실행 취소/재실행"}),a.jsx("li",{children:"• 로깅 및 감사"}),a.jsx("li",{children:"• 매크로 명령"})]})]}),a.jsxs("div",{className:"p-4 bg-purple-50 border border-purple-200 rounded-lg",children:[a.jsx("h3",{className:"font-semibold text-purple-900 mb-2",children:"🚀 Spring Boot 활용"}),a.jsxs("ul",{className:"text-sm text-purple-700 space-y-1",children:[a.jsx("li",{children:"• CQRS 구현"}),a.jsx("li",{children:"• 비동기 처리"}),a.jsx("li",{children:"• 이벤트 소싱"}),a.jsx("li",{children:"• 배치 작업"})]})]})]}),a.jsx(Ve,{chart:`
              classDiagram
                class Command {
                  <<interface>>
                  +execute() void
                  +undo() void
                  +getDescription() String
                }

                class CreateUserCommand {
                  -userService: UserService
                  -request: CreateUserRequest
                  -createdUser: User
                  +execute() void
                  +undo() void
                  +getDescription() String
                }

                class DeleteUserCommand {
                  -userService: UserService
                  -userId: Long
                  -deletedUser: User
                  +execute() void
                  +undo() void
                  +getDescription() String
                }

                class CommandInvoker {
                  -history: List~Command~
                  +executeCommand(Command) void
                  +undoCommand() void
                  +getHistory() List~Command~
                }

                class UserService {
                  +createUser(CreateUserRequest) User
                  +deleteUser(Long) User
                  +restoreUser(User) User
                }

                Command <|-- CreateUserCommand
                Command <|-- DeleteUserCommand
                CommandInvoker --> Command
                CreateUserCommand --> UserService
                DeleteUserCommand --> UserService
            `,className:"mb-6"}),a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:`// 기본 Command 인터페이스
public interface Command {
    void execute();
    void undo();
    String getDescription();
}

// 사용자 생성 명령
@Component
public class CreateUserCommand implements Command {

    private final UserService userService;
    private final CreateUserRequest request;
    private User createdUser;

    public CreateUserCommand(UserService userService, CreateUserRequest request) {
        this.userService = userService;
        this.request = request;
    }

    @Override
    public void execute() {
        this.createdUser = userService.createUser(request);
        System.out.println("사용자 생성 완료: " + createdUser.getId());
    }

    @Override
    public void undo() {
        if (createdUser != null) {
            userService.deleteUser(createdUser.getId());
            System.out.println("사용자 생성 취소: " + createdUser.getId());
        }
    }

    @Override
    public String getDescription() {
        return "Create user: " + request.getEmail();
    }
}

// 사용자 업데이트 명령
@Component
public class UpdateUserCommand implements Command {

    private final UserService userService;
    private final Long userId;
    private final UpdateUserRequest request;
    private User previousState;

    public UpdateUserCommand(UserService userService, Long userId, UpdateUserRequest request) {
        this.userService = userService;
        this.userId = userId;
        this.request = request;
    }

    @Override
    public void execute() {
        // 이전 상태 백업
        this.previousState = userService.getUserById(userId);

        // 업데이트 실행
        userService.updateUser(userId, request);
        System.out.println("사용자 업데이트 완료: " + userId);
    }

    @Override
    public void undo() {
        if (previousState != null) {
            UpdateUserRequest rollbackRequest = UpdateUserRequest.builder()
                .name(previousState.getName())
                .phoneNumber(previousState.getPhoneNumber())
                .age(previousState.getAge())
                .build();

            userService.updateUser(userId, rollbackRequest);
            System.out.println("사용자 업데이트 취소: " + userId);
        }
    }

    @Override
    public String getDescription() {
        return "Update user: " + userId;
    }
}

// 이메일 발송 명령
@Component
public class SendEmailCommand implements Command {

    private final EmailService emailService;
    private final String recipient;
    private final String subject;
    private final String content;
    private boolean sent = false;

    public SendEmailCommand(EmailService emailService, String recipient,
                          String subject, String content) {
        this.emailService = emailService;
        this.recipient = recipient;
        this.subject = subject;
        this.content = content;
    }

    @Override
    public void execute() {
        emailService.sendEmail(recipient, subject, content);
        this.sent = true;
        System.out.println("이메일 발송 완료: " + recipient);
    }

    @Override
    public void undo() {
        if (sent) {
            // 실제로는 이메일을 취소할 수 없지만, 보상 액션을 수행
            String cancelSubject = "CANCELLED: " + subject;
            String cancelContent = "이전 이메일이 취소되었습니다.\\n\\n원본 내용:\\n" + content;
            emailService.sendEmail(recipient, cancelSubject, cancelContent);
            System.out.println("이메일 취소 알림 발송: " + recipient);
        }
    }

    @Override
    public String getDescription() {
        return "Send email to: " + recipient;
    }
}

// 명령 실행기 (Invoker)
@Service
public class CommandInvoker {

    private final Stack<Command> executedCommands = new Stack<>();
    private final Queue<Command> commandQueue = new LinkedList<>();

    // 즉시 실행
    public void executeCommand(Command command) {
        try {
            command.execute();
            executedCommands.push(command);
        } catch (Exception e) {
            System.err.println("명령 실행 실패: " + command.getDescription());
            throw e;
        }
    }

    // 큐에 추가 (나중에 실행)
    public void queueCommand(Command command) {
        commandQueue.offer(command);
        System.out.println("명령 큐에 추가: " + command.getDescription());
    }

    // 큐의 모든 명령 실행
    public void executeQueuedCommands() {
        while (!commandQueue.isEmpty()) {
            Command command = commandQueue.poll();
            executeCommand(command);
        }
    }

    // 마지막 명령 취소
    public void undoLastCommand() {
        if (!executedCommands.isEmpty()) {
            Command lastCommand = executedCommands.pop();
            try {
                lastCommand.undo();
                System.out.println("명령 취소 완료: " + lastCommand.getDescription());
            } catch (Exception e) {
                System.err.println("명령 취소 실패: " + lastCommand.getDescription());
                // 실패한 경우 다시 스택에 추가
                executedCommands.push(lastCommand);
                throw e;
            }
        } else {
            System.out.println("취소할 명령이 없습니다.");
        }
    }

    // 모든 명령 취소 (역순)
    public void undoAllCommands() {
        while (!executedCommands.isEmpty()) {
            undoLastCommand();
        }
    }

    // 실행된 명령 히스토리
    public List<String> getCommandHistory() {
        return executedCommands.stream()
            .map(Command::getDescription)
            .collect(Collectors.toList());
    }
}

// CQRS 패턴과 함께 사용하는 Command/Query 분리
public interface Query<T> {
    T execute();
    String getQueryName();
}

// 사용자 조회 쿼리
@Component
public class GetUserByIdQuery implements Query<User> {

    private final UserRepository userRepository;
    private final Long userId;

    public GetUserByIdQuery(UserRepository userRepository, Long userId) {
        this.userRepository = userRepository;
        this.userId = userId;
    }

    @Override
    public User execute() {
        return userRepository.findById(userId)
            .orElseThrow(() -> new UserNotFoundException("사용자를 찾을 수 없습니다: " + userId));
    }

    @Override
    public String getQueryName() {
        return "GetUserById: " + userId;
    }
}

// CQRS Command/Query 처리기
@Service
public class CqrsHandler {

    private final ApplicationContext applicationContext;
    private final CommandInvoker commandInvoker;

    public CqrsHandler(ApplicationContext applicationContext, CommandInvoker commandInvoker) {
        this.applicationContext = applicationContext;
        this.commandInvoker = commandInvoker;
    }

    // Command 처리 (상태 변경)
    public void handle(Command command) {
        commandInvoker.executeCommand(command);
    }

    // Query 처리 (데이터 조회)
    public <T> T handle(Query<T> query) {
        return query.execute();
    }

    // 비동기 Command 처리
    @Async
    public CompletableFuture<Void> handleAsync(Command command) {
        return CompletableFuture.runAsync(() -> {
            commandInvoker.executeCommand(command);
        });
    }
}

// 매크로 명령 (여러 명령을 하나로 묶음)
public class MacroCommand implements Command {

    private final List<Command> commands;
    private final List<Command> executedCommands = new ArrayList<>();

    public MacroCommand(List<Command> commands) {
        this.commands = commands;
    }

    @Override
    public void execute() {
        for (Command command : commands) {
            try {
                command.execute();
                executedCommands.add(command);
            } catch (Exception e) {
                // 실패 시 이미 실행된 명령들을 롤백
                undo();
                throw new RuntimeException("매크로 명령 실행 실패", e);
            }
        }
    }

    @Override
    public void undo() {
        // 실행된 명령들을 역순으로 취소
        for (int i = executedCommands.size() - 1; i >= 0; i--) {
            try {
                executedCommands.get(i).undo();
            } catch (Exception e) {
                System.err.println("매크로 명령 취소 중 오류: " + e.getMessage());
            }
        }
        executedCommands.clear();
    }

    @Override
    public String getDescription() {
        return "Macro command with " + commands.size() + " commands";
    }
}

// Command 패턴을 활용한 배치 작업
@Service
@RequiredArgsConstructor
public class BatchCommandProcessor {

    private final CommandInvoker commandInvoker;

    @Scheduled(fixedRate = 60000) // 1분마다 실행
    public void processBatchCommands() {
        List<Command> batchCommands = createBatchCommands();

        MacroCommand batchMacro = new MacroCommand(batchCommands);

        try {
            commandInvoker.executeCommand(batchMacro);
            System.out.println("배치 작업 완료: " + batchCommands.size() + "개 명령");
        } catch (Exception e) {
            System.err.println("배치 작업 실패: " + e.getMessage());
        }
    }

    private List<Command> createBatchCommands() {
        // 실제 구현에서는 데이터베이스나 큐에서 대기 중인 명령들을 조회
        return Arrays.asList(
            new CleanupTempFilesCommand(),
            new UpdateStatisticsCommand(),
            new SendDailyReportCommand()
        );
    }
}

// REST Controller에서 Command 패턴 활용
@RestController
@RequestMapping("/api/commands")
@RequiredArgsConstructor
public class CommandController {

    private final CommandInvoker commandInvoker;
    private final CqrsHandler cqrsHandler;
    private final UserService userService;
    private final EmailService emailService;

    @PostMapping("/users")
    public ResponseEntity<String> createUser(@Valid @RequestBody CreateUserRequest request) {
        Command createUserCommand = new CreateUserCommand(userService, request);

        try {
            cqrsHandler.handle(createUserCommand);
            return ResponseEntity.ok("사용자 생성 명령 실행 완료");
        } catch (Exception e) {
            return ResponseEntity.badRequest().body("명령 실행 실패: " + e.getMessage());
        }
    }

    @PutMapping("/users/{id}")
    public ResponseEntity<String> updateUser(@PathVariable Long id,
                                           @Valid @RequestBody UpdateUserRequest request) {
        Command updateUserCommand = new UpdateUserCommand(userService, id, request);

        try {
            cqrsHandler.handle(updateUserCommand);
            return ResponseEntity.ok("사용자 업데이트 명령 실행 완료");
        } catch (Exception e) {
            return ResponseEntity.badRequest().body("명령 실행 실패: " + e.getMessage());
        }
    }

    @PostMapping("/undo")
    public ResponseEntity<String> undoLastCommand() {
        try {
            commandInvoker.undoLastCommand();
            return ResponseEntity.ok("마지막 명령 취소 완료");
        } catch (Exception e) {
            return ResponseEntity.badRequest().body("명령 취소 실패: " + e.getMessage());
        }
    }

    @GetMapping("/history")
    public ResponseEntity<List<String>> getCommandHistory() {
        List<String> history = commandInvoker.getCommandHistory();
        return ResponseEntity.ok(history);
    }

    @PostMapping("/batch")
    public ResponseEntity<String> executeBatchCommands(@RequestBody List<CreateUserRequest> requests) {
        List<Command> commands = requests.stream()
            .map(request -> new CreateUserCommand(userService, request))
            .collect(Collectors.toList());

        MacroCommand batchCommand = new MacroCommand(commands);

        try {
            cqrsHandler.handle(batchCommand);
            return ResponseEntity.ok("배치 명령 실행 완료: " + commands.size() + "개");
        } catch (Exception e) {
            return ResponseEntity.badRequest().body("배치 명령 실행 실패: " + e.getMessage());
        }
    }
}`})})]}),a.jsxs("div",{id:"saga-pattern",className:"card",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"🔄 Saga 패턴"}),a.jsx("a",{href:"#table-of-contents",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:"↑ 목차로 가기"})]}),a.jsx("p",{className:"text-gray-600 mb-6",children:"마이크로서비스 환경에서 분산 트랜잭션을 관리하기 위한 패턴입니다. 각 서비스의 로컬 트랜잭션을 순차적으로 실행하고, 실패 시 보상 액션을 통해 일관성을 보장합니다."}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-6",children:[a.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[a.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"🎭 구현 방식"}),a.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[a.jsx("li",{children:"• Orchestration (중앙집중형)"}),a.jsx("li",{children:"• Choreography (분산형)"}),a.jsx("li",{children:"• Event Sourcing 연계"}),a.jsx("li",{children:"• State Machine 활용"})]})]}),a.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[a.jsx("h3",{className:"font-semibold text-green-900 mb-2",children:"🔧 핵심 기능"}),a.jsxs("ul",{className:"text-sm text-green-700 space-y-1",children:[a.jsx("li",{children:"• 분산 트랜잭션 관리"}),a.jsx("li",{children:"• 보상 액션 (Compensation)"}),a.jsx("li",{children:"• 장애 복구"}),a.jsx("li",{children:"• 일관성 보장"})]})]}),a.jsxs("div",{className:"p-4 bg-purple-50 border border-purple-200 rounded-lg",children:[a.jsx("h3",{className:"font-semibold text-purple-900 mb-2",children:"🌐 사용 사례"}),a.jsxs("ul",{className:"text-sm text-purple-700 space-y-1",children:[a.jsx("li",{children:"• 주문 처리 시스템"}),a.jsx("li",{children:"• 결제 처리"}),a.jsx("li",{children:"• 예약 시스템"}),a.jsx("li",{children:"• 배송 관리"})]})]})]}),a.jsx(Ve,{chart:`
              sequenceDiagram
                participant Client
                participant SagaOrchestrator
                participant OrderService
                participant PaymentService
                participant InventoryService
                participant ShippingService

                Client->>SagaOrchestrator: 주문 요청

                Note over SagaOrchestrator: Step 1: 주문 생성
                SagaOrchestrator->>OrderService: createOrder()
                OrderService-->>SagaOrchestrator: Order Created

                Note over SagaOrchestrator: Step 2: 결제 처리
                SagaOrchestrator->>PaymentService: processPayment()
                PaymentService-->>SagaOrchestrator: Payment Success

                Note over SagaOrchestrator: Step 3: 재고 예약
                SagaOrchestrator->>InventoryService: reserveInventory()
                InventoryService-->>SagaOrchestrator: Inventory Reserved

                Note over SagaOrchestrator: Step 4: 배송 준비
                SagaOrchestrator->>ShippingService: prepareShipping()
                ShippingService-->>SagaOrchestrator: Shipping Failed ❌

                Note over SagaOrchestrator: 보상 액션 시작
                SagaOrchestrator->>InventoryService: cancelReservation()
                InventoryService-->>SagaOrchestrator: Reservation Cancelled

                SagaOrchestrator->>PaymentService: refundPayment()
                PaymentService-->>SagaOrchestrator: Payment Refunded

                SagaOrchestrator->>OrderService: cancelOrder()
                OrderService-->>SagaOrchestrator: Order Cancelled

                SagaOrchestrator-->>Client: 주문 실패 (모든 트랜잭션 롤백)
            `,className:"mb-6"}),a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:`// Saga Step 인터페이스
public interface SagaStep {
    String getStepName();
    void execute(SagaContext context);
    void compensate(SagaContext context);
    boolean canExecute(SagaContext context);
}

// Saga 컨텍스트 (상태 공유)
@Data
@Builder
@NoArgsConstructor
@AllArgsConstructor
public class SagaContext {

    private String sagaId;
    private String transactionId;
    private Map<String, Object> data;
    private List<String> executedSteps;
    private List<String> failedSteps;
    private SagaStatus status;
    private LocalDateTime createdAt;
    private LocalDateTime updatedAt;

    public void addExecutedStep(String stepName) {
        if (executedSteps == null) {
            executedSteps = new ArrayList<>();
        }
        executedSteps.add(stepName);
    }

    public void addFailedStep(String stepName) {
        if (failedSteps == null) {
            failedSteps = new ArrayList<>();
        }
        failedSteps.add(stepName);
    }

    public <T> T getData(String key, Class<T> type) {
        Object value = data.get(key);
        return type.isInstance(value) ? type.cast(value) : null;
    }

    public void setData(String key, Object value) {
        if (data == null) {
            data = new HashMap<>();
        }
        data.put(key, value);
    }
}

// Saga 상태 열거형
public enum SagaStatus {
    STARTED,
    IN_PROGRESS,
    COMPLETED,
    FAILED,
    COMPENSATING,
    COMPENSATED
}

// 주문 생성 단계
@Component
public class CreateOrderStep implements SagaStep {

    private final OrderService orderService;

    public CreateOrderStep(OrderService orderService) {
        this.orderService = orderService;
    }

    @Override
    public String getStepName() {
        return "CREATE_ORDER";
    }

    @Override
    public void execute(SagaContext context) {
        CreateOrderRequest request = context.getData("orderRequest", CreateOrderRequest.class);

        if (request == null) {
            throw new IllegalStateException("주문 요청 데이터가 없습니다");
        }

        try {
            Order order = orderService.createOrder(request);
            context.setData("orderId", order.getId());
            context.setData("order", order);

            System.out.println("주문 생성 완료: " + order.getId());

        } catch (Exception e) {
            System.err.println("주문 생성 실패: " + e.getMessage());
            throw e;
        }
    }

    @Override
    public void compensate(SagaContext context) {
        Long orderId = context.getData("orderId", Long.class);

        if (orderId != null) {
            try {
                orderService.cancelOrder(orderId);
                System.out.println("주문 취소 완료 (보상): " + orderId);
            } catch (Exception e) {
                System.err.println("주문 취소 실패 (보상): " + e.getMessage());
            }
        }
    }

    @Override
    public boolean canExecute(SagaContext context) {
        CreateOrderRequest request = context.getData("orderRequest", CreateOrderRequest.class);
        return request != null && request.getItems() != null && !request.getItems().isEmpty();
    }
}

// 재고 예약 단계
@Component
public class ReserveInventoryStep implements SagaStep {

    private final InventoryService inventoryService;

    public ReserveInventoryStep(InventoryService inventoryService) {
        this.inventoryService = inventoryService;
    }

    @Override
    public String getStepName() {
        return "RESERVE_INVENTORY";
    }

    @Override
    public void execute(SagaContext context) {
        Order order = context.getData("order", Order.class);

        if (order == null) {
            throw new IllegalStateException("주문 정보가 없습니다");
        }

        try {
            List<String> reservationIds = new ArrayList<>();

            for (OrderItem item : order.getItems()) {
                String reservationId = inventoryService.reserveItem(
                    item.getProductId(),
                    item.getQuantity()
                );
                reservationIds.add(reservationId);
            }

            context.setData("reservationIds", reservationIds);
            System.out.println("재고 예약 완료: " + reservationIds.size() + "개 항목");

        } catch (Exception e) {
            System.err.println("재고 예약 실패: " + e.getMessage());
            throw e;
        }
    }

    @Override
    public void compensate(SagaContext context) {
        @SuppressWarnings("unchecked")
        List<String> reservationIds = context.getData("reservationIds", List.class);

        if (reservationIds != null) {
            for (String reservationId : reservationIds) {
                try {
                    inventoryService.releaseReservation(reservationId);
                    System.out.println("재고 예약 해제 완료 (보상): " + reservationId);
                } catch (Exception e) {
                    System.err.println("재고 예약 해제 실패 (보상): " + e.getMessage());
                }
            }
        }
    }

    @Override
    public boolean canExecute(SagaContext context) {
        Order order = context.getData("order", Order.class);
        return order != null && order.getItems() != null && !order.getItems().isEmpty();
    }
}

// 결제 처리 단계
@Component
public class ProcessPaymentStep implements SagaStep {

    private final PaymentService paymentService;

    public ProcessPaymentStep(PaymentService paymentService) {
        this.paymentService = paymentService;
    }

    @Override
    public String getStepName() {
        return "PROCESS_PAYMENT";
    }

    @Override
    public void execute(SagaContext context) {
        Order order = context.getData("order", Order.class);

        if (order == null) {
            throw new IllegalStateException("주문 정보가 없습니다");
        }

        try {
            PaymentRequest paymentRequest = PaymentRequest.builder()
                .orderId(order.getId())
                .amount(order.getTotalAmount())
                .paymentMethod(order.getPaymentMethod())
                .build();

            PaymentResult paymentResult = paymentService.processPayment(paymentRequest);

            if (paymentResult.isSuccess()) {
                context.setData("paymentId", paymentResult.getPaymentId());
                context.setData("paymentResult", paymentResult);
                System.out.println("결제 처리 완료: " + paymentResult.getPaymentId());
            } else {
                throw new PaymentException("결제 처리 실패: " + paymentResult.getMessage());
            }

        } catch (Exception e) {
            System.err.println("결제 처리 실패: " + e.getMessage());
            throw e;
        }
    }

    @Override
    public void compensate(SagaContext context) {
        String paymentId = context.getData("paymentId", String.class);

        if (paymentId != null) {
            try {
                paymentService.refundPayment(paymentId);
                System.out.println("결제 환불 완료 (보상): " + paymentId);
            } catch (Exception e) {
                System.err.println("결제 환불 실패 (보상): " + e.getMessage());
            }
        }
    }

    @Override
    public boolean canExecute(SagaContext context) {
        Order order = context.getData("order", Order.class);
        return order != null && order.getTotalAmount() != null && order.getTotalAmount().compareTo(BigDecimal.ZERO) > 0;
    }
}

// 배송 준비 단계
@Component
public class PrepareShippingStep implements SagaStep {

    private final ShippingService shippingService;

    public PrepareShippingStep(ShippingService shippingService) {
        this.shippingService = shippingService;
    }

    @Override
    public String getStepName() {
        return "PREPARE_SHIPPING";
    }

    @Override
    public void execute(SagaContext context) {
        Order order = context.getData("order", Order.class);

        if (order == null) {
            throw new IllegalStateException("주문 정보가 없습니다");
        }

        try {
            ShippingRequest shippingRequest = ShippingRequest.builder()
                .orderId(order.getId())
                .address(order.getShippingAddress())
                .items(order.getItems())
                .build();

            ShippingResult shippingResult = shippingService.prepareShipping(shippingRequest);

            context.setData("trackingNumber", shippingResult.getTrackingNumber());
            context.setData("shippingResult", shippingResult);

            System.out.println("배송 준비 완료: " + shippingResult.getTrackingNumber());

        } catch (Exception e) {
            System.err.println("배송 준비 실패: " + e.getMessage());
            throw e;
        }
    }

    @Override
    public void compensate(SagaContext context) {
        String trackingNumber = context.getData("trackingNumber", String.class);

        if (trackingNumber != null) {
            try {
                shippingService.cancelShipping(trackingNumber);
                System.out.println("배송 취소 완료 (보상): " + trackingNumber);
            } catch (Exception e) {
                System.err.println("배송 취소 실패 (보상): " + e.getMessage());
            }
        }
    }

    @Override
    public boolean canExecute(SagaContext context) {
        Order order = context.getData("order", Order.class);
        return order != null && order.getShippingAddress() != null;
    }
}

// Saga 오케스트레이터 (중앙집중형)
@Service
@RequiredArgsConstructor
public class OrderSagaOrchestrator {

    private final List<SagaStep> sagaSteps;
    private final SagaContextRepository sagaContextRepository;
    private final ApplicationEventPublisher eventPublisher;

    @PostConstruct
    public void initSteps() {
        // 실행 순서 정의
        Collections.sort(sagaSteps, (s1, s2) -> {
            List<String> stepOrder = Arrays.asList(
                "CREATE_ORDER",
                "RESERVE_INVENTORY",
                "PROCESS_PAYMENT",
                "PREPARE_SHIPPING"
            );
            return Integer.compare(
                stepOrder.indexOf(s1.getStepName()),
                stepOrder.indexOf(s2.getStepName())
            );
        });
    }

    public SagaContext startSaga(CreateOrderRequest orderRequest) {
        String sagaId = UUID.randomUUID().toString();

        SagaContext context = SagaContext.builder()
            .sagaId(sagaId)
            .transactionId(UUID.randomUUID().toString())
            .status(SagaStatus.STARTED)
            .createdAt(LocalDateTime.now())
            .build();

        context.setData("orderRequest", orderRequest);

        sagaContextRepository.save(context);

        // 비동기로 saga 실행
        executeNextStep(context);

        return context;
    }

    @Async
    public void executeNextStep(SagaContext context) {
        try {
            context.setStatus(SagaStatus.IN_PROGRESS);
            sagaContextRepository.save(context);

            for (SagaStep step : sagaSteps) {
                if (context.getExecutedSteps() == null ||
                    !context.getExecutedSteps().contains(step.getStepName())) {

                    if (step.canExecute(context)) {
                        executeStep(step, context);
                    } else {
                        throw new IllegalStateException(
                            "단계 실행 조건을 만족하지 않습니다: " + step.getStepName());
                    }
                }
            }

            // 모든 단계 완료
            context.setStatus(SagaStatus.COMPLETED);
            sagaContextRepository.save(context);

            // 완료 이벤트 발행
            eventPublisher.publishEvent(new SagaCompletedEvent(context.getSagaId()));

        } catch (Exception e) {
            handleSagaFailure(context, e);
        }
    }

    private void executeStep(SagaStep step, SagaContext context) {
        try {
            step.execute(context);
            context.addExecutedStep(step.getStepName());
            sagaContextRepository.save(context);

        } catch (Exception e) {
            context.addFailedStep(step.getStepName());
            throw new SagaExecutionException("Saga 단계 실행 실패: " + step.getStepName(), e);
        }
    }

    private void handleSagaFailure(SagaContext context, Exception e) {
        System.err.println("Saga 실행 실패: " + e.getMessage());

        context.setStatus(SagaStatus.FAILED);
        sagaContextRepository.save(context);

        // 보상 액션 시작
        startCompensation(context);
    }

    @Async
    public void startCompensation(SagaContext context) {
        try {
            context.setStatus(SagaStatus.COMPENSATING);
            sagaContextRepository.save(context);

            // 실행된 단계들을 역순으로 보상
            if (context.getExecutedSteps() != null) {
                for (int i = context.getExecutedSteps().size() - 1; i >= 0; i--) {
                    String stepName = context.getExecutedSteps().get(i);

                    SagaStep step = sagaSteps.stream()
                        .filter(s -> s.getStepName().equals(stepName))
                        .findFirst()
                        .orElse(null);

                    if (step != null) {
                        try {
                            step.compensate(context);
                            System.out.println("보상 액션 완료: " + stepName);
                        } catch (Exception e) {
                            System.err.println("보상 액션 실패: " + stepName + " - " + e.getMessage());
                            // 보상 실패해도 계속 진행
                        }
                    }
                }
            }

            context.setStatus(SagaStatus.COMPENSATED);
            sagaContextRepository.save(context);

            // 보상 완료 이벤트 발행
            eventPublisher.publishEvent(new SagaCompensatedEvent(context.getSagaId()));

        } catch (Exception e) {
            System.err.println("Saga 보상 처리 실패: " + e.getMessage());
        }
    }

    // Saga 상태 조회
    public SagaContext getSagaStatus(String sagaId) {
        return sagaContextRepository.findById(sagaId)
            .orElseThrow(() -> new SagaNotFoundException("Saga를 찾을 수 없습니다: " + sagaId));
    }
}

// Saga 이벤트들
public class SagaCompletedEvent {
    private final String sagaId;
    // constructors, getters
}

public class SagaCompensatedEvent {
    private final String sagaId;
    // constructors, getters
}

// REST Controller에서 Saga 패턴 활용
@RestController
@RequestMapping("/api/orders")
@RequiredArgsConstructor
public class OrderSagaController {

    private final OrderSagaOrchestrator sagaOrchestrator;

    @PostMapping
    public ResponseEntity<OrderSagaResponse> createOrder(@Valid @RequestBody CreateOrderRequest request) {
        try {
            SagaContext context = sagaOrchestrator.startSaga(request);

            OrderSagaResponse response = OrderSagaResponse.builder()
                .sagaId(context.getSagaId())
                .transactionId(context.getTransactionId())
                .status(context.getStatus())
                .message("주문 처리 시작")
                .build();

            return ResponseEntity.accepted().body(response);

        } catch (Exception e) {
            return ResponseEntity.badRequest().body(
                OrderSagaResponse.builder()
                    .message("주문 처리 실패: " + e.getMessage())
                    .build()
            );
        }
    }

    @GetMapping("/saga/{sagaId}")
    public ResponseEntity<SagaContext> getSagaStatus(@PathVariable String sagaId) {
        try {
            SagaContext context = sagaOrchestrator.getSagaStatus(sagaId);
            return ResponseEntity.ok(context);
        } catch (SagaNotFoundException e) {
            return ResponseEntity.notFound().build();
        }
    }
}

// Saga 저장소 인터페이스
public interface SagaContextRepository {
    void save(SagaContext context);
    Optional<SagaContext> findById(String sagaId);
    List<SagaContext> findByStatus(SagaStatus status);
}

// 메모리 기반 Saga 저장소 구현
@Repository
public class InMemorySagaContextRepository implements SagaContextRepository {

    private final Map<String, SagaContext> sagaStore = new ConcurrentHashMap<>();

    @Override
    public void save(SagaContext context) {
        context.setUpdatedAt(LocalDateTime.now());
        sagaStore.put(context.getSagaId(), context);
    }

    @Override
    public Optional<SagaContext> findById(String sagaId) {
        return Optional.ofNullable(sagaStore.get(sagaId));
    }

    @Override
    public List<SagaContext> findByStatus(SagaStatus status) {
        return sagaStore.values().stream()
            .filter(context -> context.getStatus() == status)
            .collect(Collectors.toList());
    }
}`})})]}),a.jsxs("div",{id:"decorator-pattern",className:"card",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"🎨 Decorator 패턴"}),a.jsx("a",{href:"#table-of-contents",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:"↑ 목차로 가기"})]}),a.jsx("p",{className:"text-gray-600 mb-6",children:"객체에 새로운 기능을 동적으로 추가하는 패턴입니다. Spring AOP와 함께 사용하면 더욱 강력합니다."}),a.jsx(Ve,{chart:`
              classDiagram
                class NotificationSender {
                  <<interface>>
                  +send(String, String) void
                  +getType() String
                }

                class BasicEmailSender {
                  <<@Component>>
                  +send(String, String) void
                  +getType() String
                }

                class NotificationDecorator {
                  <<abstract>>
                  #sender: NotificationSender
                  +NotificationDecorator(NotificationSender)
                  +send(String, String) void
                  +getType() String
                }

                class EncryptionDecorator {
                  -encryptionService: EncryptionService
                  +send(String, String) void
                  -encrypt(String) String
                }

                class LoggingDecorator {
                  -logger: Logger
                  +send(String, String) void
                  -logSending(String, String) void
                }

                class RetryDecorator {
                  -maxRetries: int
                  -retryDelay: long
                  +send(String, String) void
                  -executeWithRetry(Runnable) void
                }

                class NotificationService {
                  <<@Service>>
                  -notificationSender: NotificationSender
                  +sendNotification(String, String) void
                  +sendSecureNotification(String, String) void
                }

                NotificationSender <|-- BasicEmailSender
                NotificationSender <|-- NotificationDecorator
                NotificationDecorator <|-- EncryptionDecorator
                NotificationDecorator <|-- LoggingDecorator
                NotificationDecorator <|-- RetryDecorator
                NotificationDecorator --> NotificationSender : wraps
                NotificationService --> NotificationSender : uses

                note for NotificationDecorator "Decorator는 기본 객체를 감싸며
추가 기능을 투명하게 제공"
            `,className:"mb-6"}),a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:`// 기본 인터페이스
public interface NotificationSender {
    void send(String recipient, String message);
    String getType();
}

// 기본 구현체
@Component
public class BasicNotificationSender implements NotificationSender {

    @Override
    public void send(String recipient, String message) {
        System.out.println(String.format("Basic notification to %s: %s", recipient, message));
    }

    @Override
    public String getType() {
        return "BASIC";
    }
}

// 데코레이터 기본 클래스
public abstract class NotificationDecorator implements NotificationSender {

    protected final NotificationSender wrapped;

    public NotificationDecorator(NotificationSender wrapped) {
        this.wrapped = wrapped;
    }

    @Override
    public void send(String recipient, String message) {
        wrapped.send(recipient, message);
    }

    @Override
    public String getType() {
        return wrapped.getType();
    }
}

// 로깅 데코레이터
@Component
public class LoggingNotificationDecorator extends NotificationDecorator {

    private static final Logger log = LoggerFactory.getLogger(LoggingNotificationDecorator.class);

    public LoggingNotificationDecorator(NotificationSender wrapped) {
        super(wrapped);
    }

    @Override
    public void send(String recipient, String message) {
        log.info("알림 발송 시작 - 수신자: {}, 메시지: {}", recipient, message);

        long startTime = System.currentTimeMillis();

        try {
            super.send(recipient, message);

            long duration = System.currentTimeMillis() - startTime;
            log.info("알림 발송 완료 - 소요시간: {}ms", duration);

        } catch (Exception e) {
            log.error("알림 발송 실패 - 수신자: {}, 오류: {}", recipient, e.getMessage(), e);
            throw e;
        }
    }

    @Override
    public String getType() {
        return "LOGGED_" + super.getType();
    }
}

// 재시도 데코레이터
@Component
public class RetryNotificationDecorator extends NotificationDecorator {

    private static final Logger log = LoggerFactory.getLogger(RetryNotificationDecorator.class);
    private final int maxRetries;
    private final long retryDelay;

    public RetryNotificationDecorator(NotificationSender wrapped, int maxRetries, long retryDelay) {
        super(wrapped);
        this.maxRetries = maxRetries;
        this.retryDelay = retryDelay;
    }

    public RetryNotificationDecorator(NotificationSender wrapped) {
        this(wrapped, 3, 1000); // 기본값: 3번 재시도, 1초 간격
    }

    @Override
    public void send(String recipient, String message) {
        int attempt = 0;
        Exception lastException = null;

        while (attempt <= maxRetries) {
            try {
                super.send(recipient, message);

                if (attempt > 0) {
                    log.info("알림 발송 성공 - 재시도 {}번째에 성공", attempt);
                }

                return; // 성공 시 종료

            } catch (Exception e) {
                lastException = e;
                attempt++;

                if (attempt <= maxRetries) {
                    log.warn("알림 발송 실패 ({}번째 시도) - {}초 후 재시도: {}",
                           attempt, retryDelay / 1000, e.getMessage());

                    try {
                        Thread.sleep(retryDelay);
                    } catch (InterruptedException ie) {
                        Thread.currentThread().interrupt();
                        throw new RuntimeException("재시도 대기 중 인터럽트 발생", ie);
                    }
                }
            }
        }

        log.error("알림 발송 최종 실패 - 모든 재시도 실패");
        throw new RuntimeException("알림 발송 실패: " + lastException.getMessage(), lastException);
    }

    @Override
    public String getType() {
        return "RETRY_" + super.getType();
    }
}

// 암호화 데코레이터
@Component
public class EncryptionNotificationDecorator extends NotificationDecorator {

    private final EncryptionService encryptionService;

    public EncryptionNotificationDecorator(NotificationSender wrapped,
                                         EncryptionService encryptionService) {
        super(wrapped);
        this.encryptionService = encryptionService;
    }

    @Override
    public void send(String recipient, String message) {
        String encryptedMessage = encryptionService.encrypt(message);
        super.send(recipient, encryptedMessage);
    }

    @Override
    public String getType() {
        return "ENCRYPTED_" + super.getType();
    }
}

// 검증 데코레이터
@Component
public class ValidationNotificationDecorator extends NotificationDecorator {

    public ValidationNotificationDecorator(NotificationSender wrapped) {
        super(wrapped);
    }

    @Override
    public void send(String recipient, String message) {
        validateRecipient(recipient);
        validateMessage(message);

        super.send(recipient, message);
    }

    private void validateRecipient(String recipient) {
        if (recipient == null || recipient.trim().isEmpty()) {
            throw new IllegalArgumentException("수신자는 필수입니다");
        }

        if (!isValidEmail(recipient) && !isValidPhoneNumber(recipient)) {
            throw new IllegalArgumentException("유효하지 않은 수신자 형식입니다");
        }
    }

    private void validateMessage(String message) {
        if (message == null || message.trim().isEmpty()) {
            throw new IllegalArgumentException("메시지 내용은 필수입니다");
        }

        if (message.length() > 1000) {
            throw new IllegalArgumentException("메시지는 1000자 이하여야 합니다");
        }
    }

    private boolean isValidEmail(String email) {
        return email.contains("@") && email.contains(".");
    }

    private boolean isValidPhoneNumber(String phone) {
        return phone.matches("^\\d{2,3}-\\d{3,4}-\\d{4}$");
    }

    @Override
    public String getType() {
        return "VALIDATED_" + super.getType();
    }
}

// 캐싱 데코레이터
@Component
public class CachingNotificationDecorator extends NotificationDecorator {

    private final Map<String, LocalDateTime> recentNotifications;
    private final Duration cacheTime;

    public CachingNotificationDecorator(NotificationSender wrapped, Duration cacheTime) {
        super(wrapped);
        this.recentNotifications = new ConcurrentHashMap<>();
        this.cacheTime = cacheTime;
    }

    public CachingNotificationDecorator(NotificationSender wrapped) {
        this(wrapped, Duration.ofMinutes(5)); // 기본 5분 캐싱
    }

    @Override
    public void send(String recipient, String message) {
        String cacheKey = createCacheKey(recipient, message);
        LocalDateTime lastSent = recentNotifications.get(cacheKey);

        if (lastSent != null &&
            LocalDateTime.now().isBefore(lastSent.plus(cacheTime))) {

            System.out.println(String.format(
                "중복 알림 방지 - 수신자: %s (마지막 발송: %s)",
                recipient, lastSent));
            return;
        }

        super.send(recipient, message);
        recentNotifications.put(cacheKey, LocalDateTime.now());

        // 오래된 캐시 항목 정리
        cleanupOldCacheEntries();
    }

    private String createCacheKey(String recipient, String message) {
        return recipient + ":" + message.hashCode();
    }

    private void cleanupOldCacheEntries() {
        LocalDateTime cutoff = LocalDateTime.now().minus(cacheTime);

        recentNotifications.entrySet().removeIf(
            entry -> entry.getValue().isBefore(cutoff)
        );
    }

    @Override
    public String getType() {
        return "CACHED_" + super.getType();
    }
}

// 데코레이터 빌더
@Component
public class NotificationDecoratorBuilder {

    private final EncryptionService encryptionService;

    public NotificationDecoratorBuilder(EncryptionService encryptionService) {
        this.encryptionService = encryptionService;
    }

    public NotificationSender buildNotificationSender(NotificationSender base,
                                                     Set<DecoratorType> decoratorTypes) {
        NotificationSender current = base;

        // 데코레이터 적용 순서가 중요함
        if (decoratorTypes.contains(DecoratorType.VALIDATION)) {
            current = new ValidationNotificationDecorator(current);
        }

        if (decoratorTypes.contains(DecoratorType.ENCRYPTION)) {
            current = new EncryptionNotificationDecorator(current, encryptionService);
        }

        if (decoratorTypes.contains(DecoratorType.CACHING)) {
            current = new CachingNotificationDecorator(current);
        }

        if (decoratorTypes.contains(DecoratorType.RETRY)) {
            current = new RetryNotificationDecorator(current);
        }

        if (decoratorTypes.contains(DecoratorType.LOGGING)) {
            current = new LoggingNotificationDecorator(current);
        }

        return current;
    }
}

// 사용 예제 서비스
@Service
@RequiredArgsConstructor
public class NotificationService {

    private final NotificationDecoratorBuilder decoratorBuilder;
    private final BasicNotificationSender basicSender;

    public void sendBasicNotification(String recipient, String message) {
        basicSender.send(recipient, message);
    }

    public void sendSecureNotification(String recipient, String message) {
        Set<DecoratorType> decorators = Set.of(
            DecoratorType.VALIDATION,
            DecoratorType.ENCRYPTION,
            DecoratorType.LOGGING
        );

        NotificationSender sender = decoratorBuilder.buildNotificationSender(
            basicSender, decorators
        );

        sender.send(recipient, message);
    }

    public void sendReliableNotification(String recipient, String message) {
        Set<DecoratorType> decorators = Set.of(
            DecoratorType.VALIDATION,
            DecoratorType.CACHING,
            DecoratorType.RETRY,
            DecoratorType.LOGGING
        );

        NotificationSender sender = decoratorBuilder.buildNotificationSender(
            basicSender, decorators
        );

        sender.send(recipient, message);
    }

    public void sendFullFeaturedNotification(String recipient, String message) {
        Set<DecoratorType> decorators = EnumSet.allOf(DecoratorType.class);

        NotificationSender sender = decoratorBuilder.buildNotificationSender(
            basicSender, decorators
        );

        sender.send(recipient, message);
    }
}

// HTTP 클라이언트 데코레이터 예제
public interface HttpClient {
    String get(String url);
    String post(String url, String body);
}

@Component
public class BasicHttpClient implements HttpClient {

    @Override
    public String get(String url) {
        // 기본 HTTP GET 구현
        return "GET response from " + url;
    }

    @Override
    public String post(String url, String body) {
        // 기본 HTTP POST 구현
        return "POST response from " + url + " with body: " + body;
    }
}

// HTTP 클라이언트 데코레이터
public abstract class HttpClientDecorator implements HttpClient {

    protected final HttpClient wrapped;

    public HttpClientDecorator(HttpClient wrapped) {
        this.wrapped = wrapped;
    }

    @Override
    public String get(String url) {
        return wrapped.get(url);
    }

    @Override
    public String post(String url, String body) {
        return wrapped.post(url, body);
    }
}

// 로깅 HTTP 클라이언트 데코레이터
@Component
public class LoggingHttpClientDecorator extends HttpClientDecorator {

    private static final Logger log = LoggerFactory.getLogger(LoggingHttpClientDecorator.class);

    public LoggingHttpClientDecorator(HttpClient wrapped) {
        super(wrapped);
    }

    @Override
    public String get(String url) {
        log.info("HTTP GET 요청 시작: {}", url);
        long startTime = System.currentTimeMillis();

        try {
            String response = super.get(url);
            long duration = System.currentTimeMillis() - startTime;
            log.info("HTTP GET 완료: {} ({}ms)", url, duration);
            return response;

        } catch (Exception e) {
            log.error("HTTP GET 실패: {} - {}", url, e.getMessage());
            throw e;
        }
    }

    @Override
    public String post(String url, String body) {
        log.info("HTTP POST 요청 시작: {}", url);
        long startTime = System.currentTimeMillis();

        try {
            String response = super.post(url, body);
            long duration = System.currentTimeMillis() - startTime;
            log.info("HTTP POST 완료: {} ({}ms)", url, duration);
            return response;

        } catch (Exception e) {
            log.error("HTTP POST 실패: {} - {}", url, e.getMessage());
            throw e;
        }
    }
}

// 재시도 HTTP 클라이언트 데코레이터
@Component
public class RetryHttpClientDecorator extends HttpClientDecorator {

    private final int maxRetries;
    private final long retryDelay;

    public RetryHttpClientDecorator(HttpClient wrapped, int maxRetries, long retryDelay) {
        super(wrapped);
        this.maxRetries = maxRetries;
        this.retryDelay = retryDelay;
    }

    @Override
    public String get(String url) {
        return executeWithRetry(() -> super.get(url), "GET", url);
    }

    @Override
    public String post(String url, String body) {
        return executeWithRetry(() -> super.post(url, body), "POST", url);
    }

    private String executeWithRetry(Supplier<String> operation, String method, String url) {
        int attempt = 0;
        Exception lastException = null;

        while (attempt <= maxRetries) {
            try {
                return operation.get();

            } catch (Exception e) {
                lastException = e;
                attempt++;

                if (attempt <= maxRetries) {
                    try {
                        Thread.sleep(retryDelay);
                    } catch (InterruptedException ie) {
                        Thread.currentThread().interrupt();
                        throw new RuntimeException("재시도 대기 중 인터럽트", ie);
                    }
                }
            }
        }

        throw new RuntimeException(
            String.format("%s %s 요청 실패 (최대 재시도 횟수 초과)", method, url),
            lastException
        );
    }
}

// 데코레이터 타입 열거형
public enum DecoratorType {
    VALIDATION,
    ENCRYPTION,
    CACHING,
    RETRY,
    LOGGING
}`})})]}),a.jsxs("div",{className:"card bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"🎯 디자인 패턴 선택 가이드"}),a.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"🏗️ 구조적 문제 해결"}),a.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"MVC 패턴"}),": 기본 아키텍처 구성"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Repository 패턴"}),": 데이터 접근 추상화"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"DTO 패턴"}),": 계층 간 데이터 전송"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Facade 패턴"}),": 복잡한 시스템 단순화"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Proxy 패턴"}),": AOP 및 트랜잭션 관리"]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"⚙️ 행위적 문제 해결"}),a.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Strategy 패턴"}),": 알고리즘 선택 및 교체"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Observer 패턴"}),": 이벤트 기반 통신"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Template Method"}),": 공통 알고리즘 구조"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Command 패턴"}),": 요청 캡슐화 및 실행 취소"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Decorator 패턴"}),": 기능의 동적 추가"]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"🏭 생성적 문제 해결"}),a.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Factory 패턴"}),": 객체 생성 로직 캡슐화"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Builder 패턴"}),": 복잡한 객체 단계별 생성"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Singleton 패턴"}),": 전역 상태 관리"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"DI 패턴"}),": 의존성 외부 주입"]})]})]}),a.jsxs("div",{className:"lg:col-span-3",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"🌐 마이크로서비스 및 분산 시스템"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsx("div",{children:a.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Saga 패턴"}),": 분산 트랜잭션 관리"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Event Sourcing"}),": 상태 변경 이력 관리"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"CQRS"}),": 명령/조회 책임 분리"]})]})}),a.jsx("div",{children:a.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Circuit Breaker"}),": 장애 전파 방지"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"API Gateway"}),": 단일 진입점"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Service Mesh"}),": 서비스 간 통신"]})]})})]})]}),a.jsxs("div",{className:"lg:col-span-3",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"💡 Spring Boot 특징"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsx("div",{children:a.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Convention over Configuration"}),": 설정보다 관례"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Auto-configuration"}),": 자동 구성"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Annotation 기반"}),": 선언적 프로그래밍"]})]})}),a.jsx("div",{children:a.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"AOP 통합"}),": 관점 지향 프로그래밍"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Event-Driven"}),": 이벤트 기반 아키텍처"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Reactive Support"}),": 비동기 논블로킹"]})]})})]})]})]}),a.jsx("div",{className:"mt-6 p-4 bg-white rounded-lg border border-blue-200",children:a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx("strong",{children:"💡 Tip:"}),"실제 프로젝트에서는 여러 패턴을 조합하여 사용하는 것이 일반적입니다. 각 패턴의 특징을 이해하고 상황에 맞게 적절히 선택하여 사용하세요."]})}),a.jsxs("div",{className:"mt-6 p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"📚 주요 StackOverflow 이슈 해결"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-700 mb-2",children:'🔄 "Spring Boot에서 if-else 대신 Strategy 패턴 사용"'}),a.jsx("p",{className:"text-gray-600 mb-3",children:"→ PaymentStrategy와 NotificationStrategy 예제로 해결"}),a.jsx("p",{className:"font-medium text-gray-700 mb-2",children:'🏭 "DI 환경에서 Factory 패턴이 유용한가?"'}),a.jsx("p",{className:"text-gray-600 mb-3",children:"→ ReportGeneratorFactory와 @Bean 메서드 활용 설명"}),a.jsx("p",{className:"font-medium text-gray-700 mb-2",children:'🎭 "Spring AOP와 Proxy 패턴의 관계"'}),a.jsx("p",{className:"text-gray-600 mb-3",children:"→ @Transactional, @Aspect 동작 원리 상세 구현"}),a.jsx("p",{className:"font-medium text-gray-700 mb-2",children:'⚡ "Command 패턴과 CQRS 구현 방법"'}),a.jsx("p",{className:"text-gray-600",children:"→ CommandInvoker, Undo/Redo 기능, 배치 처리 예제"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-700 mb-2",children:'👁️ "Spring Event 시스템과 Observer 패턴"'}),a.jsx("p",{className:"text-gray-600 mb-3",children:"→ @EventListener, ApplicationEventPublisher 실전 활용"}),a.jsx("p",{className:"font-medium text-gray-700 mb-2",children:'🏗️ "Spring Boot 프로젝트의 MVC 구조 분석"'}),a.jsx("p",{className:"text-gray-600 mb-3",children:"→ @RestController, @Service, Repository 계층 분리"}),a.jsx("p",{className:"font-medium text-gray-700 mb-2",children:'🔧 "Template Method vs Spring Template 클래스"'}),a.jsx("p",{className:"text-gray-600 mb-3",children:"→ JdbcTemplate과 커스텀 템플릿 구현 비교"}),a.jsx("p",{className:"font-medium text-gray-700 mb-2",children:'🔄 "마이크로서비스 분산 트랜잭션 Saga 패턴"'}),a.jsx("p",{className:"text-gray-600",children:"→ Orchestration vs Choreography, 보상 액션 구현"})]})]})]})]})]})]})}function j6(){const e=[{title:"자동 설정",description:"Spring Boot의 핵심 기능인 Auto-Configuration의 동작 원리와 커스텀 구현 방법",link:"/principles/auto-configuration",icon:"🔧",status:"완료",topics:["조건부 어노테이션","spring.factories","커스텀 자동 설정","디버깅 도구"]},{title:"IoC Container",description:"제어의 역전과 의존성 주입의 핵심 개념 및 Spring Container의 동작 방식",link:"/principles/ioc-container",icon:"🔄",status:"완료",topics:["의존성 주입","Bean 생명주기","Bean Scope","생명주기 콜백"]},{title:"AOP",description:"관점 지향 프로그래밍을 통한 횡단 관심사 분리와 Spring AOP 구현",link:"/principles/aop",icon:"🎯",status:"완료",topics:["Aspect","Pointcut","Advice","Proxy Pattern"]},{title:"스타터 의존성",description:"Spring Boot Starter의 구조와 의존성 관리 메커니즘",link:"/principles/starters",icon:"📦",status:"완료",topics:["Starter 구조","의존성 전이","BOM","버전 관리"]},{title:"조건부 설정",description:"Conditional 어노테이션을 활용한 유연한 설정 시스템",link:"/principles/conditional",icon:"⚙️",status:"완료",topics:["@ConditionalOnClass","@ConditionalOnBean","Profile","Environment"]},{title:"액추에이터",description:"Spring Boot Actuator를 통한 애플리케이션 모니터링과 관리",link:"/principles/actuator",icon:"📊",status:"완료",topics:["Health Check","Metrics","Info Endpoint","Custom Actuator"]}];return a.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"⚡ Spring Boot 핵심 원리"}),a.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Spring Boot의 핵심 메커니즘과 동작 원리를 깊이 있게 이해하고, 실제 구현 예시와 모범 사례를 통해 전문성을 높여보세요."})]}),a.jsx("div",{className:"space-y-8",children:a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((t,r)=>a.jsxs("div",{className:"card group hover:shadow-lg transition-shadow",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:"text-3xl",children:t.icon}),a.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${t.status==="완료"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:t.status})]}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3 group-hover:text-blue-600 transition-colors",children:t.title}),a.jsx("p",{className:"text-gray-600 mb-4 text-sm leading-relaxed",children:t.description}),a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"주요 주제"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:t.topics.map((i,n)=>a.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 text-xs rounded-md",children:i},n))})]}),t.status==="완료"?a.jsx(Pe,{to:t.link,className:"inline-flex items-center text-blue-600 hover:text-blue-800 font-medium text-sm",children:"자세히 보기 →"}):a.jsx("span",{className:"text-gray-400 font-medium text-sm",children:"곧 업데이트 예정"})]},r))})})]})}function _6(){const e=[{title:"코드 생산성 및 보일러플레이트 감소",icon:"⚡",color:"blue",tools:[{name:"Lombok",description:"@Getter, @Setter, @Data, @Builder 등의 애너테이션으로 보일러플레이트 코드 자동 생성",features:["컴파일 타임 코드 생성","JPA 엔티티/DTO 작성 최적화","IDE 통합 지원"],useCase:"Entity, DTO 클래스의 getter/setter 자동 생성"},{name:"MapStruct",description:"객체 매핑 자동화 도구 (엔티티 ↔ DTO 변환)",features:["@Mapper 애너테이션","성능 효율적 매핑","타입 안전성"],useCase:"Entity와 DTO 간 자동 매핑 코드 생성"},{name:"AutoValue / Immutables",description:"불변 객체 생성 간소화",features:["@Value.Immutable","값 객체 생성","Lombok 대안"],useCase:"Value Object, Data Transfer Object 생성"}]},{title:"데이터 접근 및 ORM",icon:"🗄️",color:"green",tools:[{name:"Spring Data JPA",description:"JPA 기반 리포지토리 인터페이스 자동 구현",features:["@Repository 자동 구현","메서드 이름 규칙 쿼리","CRUD 자동 생성"],useCase:"findByName, existsById 등 간단한 쿼리 메서드"},{name:"QueryDSL",description:"타입 안전한 동적 쿼리 작성",features:["컴파일 타임 쿼리 검증","IDE 자동완성","복잡한 쿼리 지원"],useCase:"복잡한 검색 조건이 있는 동적 쿼리"},{name:"Jooq",description:"SQL 중심의 타입 안전 쿼리 생성",features:["스키마 기반 코드 생성","SQL 친화적","타입 안전성"],useCase:"SQL을 직접 제어하고 싶은 복잡한 쿼리"}]},{title:"REST API 개발",icon:"🌐",color:"purple",tools:[{name:"Spring Web / WebFlux",description:"RESTful API 개발 (MVC & 반응형)",features:["@RestController","@GetMapping","반응형 프로그래밍"],useCase:"REST API 엔드포인트 구현"},{name:"OpenAPI / Swagger",description:"API 명세 자동 생성 및 문서화",features:["API 문서 자동 생성","Swagger UI","클라이언트 코드 생성"],useCase:"API 문서화 및 테스트 인터페이스 제공"},{name:"Rest Assured",description:"REST API 테스트 자동화",features:["간결한 테스트 문법","BDD 스타일","응답 검증"],useCase:"API 통합 테스트 및 검증"}]},{title:"템플릿 엔진",icon:"📄",color:"orange",tools:[{name:"Thymeleaf",description:"서버 측 HTML 템플릿 렌더링",features:["Spring Boot 통합","동적 UI 생성","표준 HTML 문법"],useCase:"서버 사이드 렌더링 웹 페이지"},{name:"Freemarker",description:"고성능 템플릿 엔진",features:["커스터마이징 용이","복잡한 뷰 렌더링","Thymeleaf 대안"],useCase:"복잡한 템플릿 로직이 필요한 경우"}]},{title:"테스트 도구",icon:"🧪",color:"red",tools:[{name:"JUnit 5",description:"단위 테스트 및 통합 테스트",features:["@SpringBootTest","파라미터화 테스트","Nested 테스트"],useCase:"단위/통합 테스트 작성"},{name:"Mockito",description:"모의 객체(Mock) 생성 및 테스트",features:["의존성 모킹","@MockBean","Behavior 검증"],useCase:"외부 의존성을 격리한 단위 테스트"},{name:"Testcontainers",description:"Docker 컨테이너 기반 통합 테스트",features:["실제 환경 테스트","DB/메시지큐 테스트","격리된 테스트"],useCase:"데이터베이스, 외부 서비스와의 통합 테스트"}]},{title:"모니터링 및 로깅",icon:"📊",color:"indigo",tools:[{name:"Spring Boot Actuator",description:"애플리케이션 상태 모니터링",features:["/actuator 엔드포인트","헬스 체크","메트릭 제공"],useCase:"운영 환경 애플리케이션 모니터링"},{name:"Micrometer",description:"메트릭 수집 및 모니터링 통합",features:["Prometheus 연동","Grafana 통합","분산 추적"],useCase:"모니터링 시스템과의 메트릭 연동"},{name:"Logback / SLF4J",description:"로깅 프레임워크",features:["구조화된 로깅","로그 레벨 제어","다양한 Appender"],useCase:"애플리케이션 로그 관리 및 분석"}]},{title:"빌드 및 배포",icon:"🔧",color:"yellow",tools:[{name:"Maven / Gradle",description:"프로젝트 빌드 및 의존성 관리",features:["스타터 의존성","플러그인 생태계","빌드 자동화"],useCase:"프로젝트 빌드 및 의존성 관리"},{name:"Spring Boot DevTools",description:"개발 중 빠른 리로딩",features:["자동 재시작","리로드 기능","개발 생산성 향상"],useCase:"개발 중 코드 변경 시 즉시 반영"},{name:"JHipster",description:"전체 애플리케이션 생성 도구",features:["풀스택 코드 생성","엔티티 생성","UI 코드 자동화"],useCase:"Spring Boot + React/Angular 풀스택 프로젝트 생성"}]},{title:"비동기 및 메시징",icon:"📡",color:"teal",tools:[{name:"Spring Kafka",description:"Apache Kafka 통합",features:["@KafkaListener","메시지 기반 처리","분산 스트리밍"],useCase:"대용량 메시지 스트리밍 처리"},{name:"Spring AMQP",description:"RabbitMQ 기반 메시지 큐",features:["메시지 큐 처리","@RabbitListener","신뢰성 있는 메시징"],useCase:"메시지 기반 비동기 처리"},{name:"Project Reactor",description:"반응형 프로그래밍 지원",features:["비동기 스트림","WebFlux 통합","대용량 처리"],useCase:"대규모 트래픽의 비동기 처리"}]},{title:"보안",icon:"🔒",color:"gray",tools:[{name:"Spring Security",description:"인증 및 권한 관리",features:["OAuth2 지원","JWT 토큰","다양한 인증 방식"],useCase:"웹 애플리케이션 보안 구현"},{name:"Keycloak",description:"외부 IDP 인증/인가",features:["SSO 구현","다중 프로토콜","사용자 관리"],useCase:"중앙화된 인증 서버 구축"}]},{title:"기타 유용한 도구",icon:"🛠️",color:"pink",tools:[{name:"Flyway / Liquibase",description:"데이터베이스 마이그레이션",features:["스키마 버전 관리","자동 마이그레이션","SQL/XML 지원"],useCase:"데이터베이스 스키마 변경 관리"},{name:"Spring Cloud",description:"마이크로서비스 아키텍처",features:["서비스 디스커버리","Config Server","회로 차단기"],useCase:"분산 마이크로서비스 시스템 구축"},{name:"Docker Compose",description:"컨테이너화 및 환경 구성",features:["멀티 컨테이너 관리","환경 격리","CI/CD 통합"],useCase:"개발/테스트 환경 컨테이너 구성"}]}],t=r=>{const i={blue:"border-blue-200 bg-blue-50 text-blue-800",green:"border-green-200 bg-green-50 text-green-800",purple:"border-purple-200 bg-purple-50 text-purple-800",orange:"border-orange-200 bg-orange-50 text-orange-800",red:"border-red-200 bg-red-50 text-red-800",indigo:"border-indigo-200 bg-indigo-50 text-indigo-800",yellow:"border-yellow-200 bg-yellow-50 text-yellow-800",teal:"border-teal-200 bg-teal-50 text-teal-800",gray:"border-gray-200 bg-gray-50 text-gray-800",pink:"border-pink-200 bg-pink-50 text-pink-800"};return i[r]||i.blue};return a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"🛠️ Spring Boot 개발 도구"}),a.jsx("p",{className:"text-xl text-gray-600 max-w-4xl mx-auto",children:"개발 생산성을 높이고 코드 작성 및 유지보수를 간소화하는 다양한 라이브러리와 프레임워크를 소개합니다. 보일러플레이트 코드 감소부터 모니터링, 배포까지 다양한 영역에서 활용할 수 있는 도구들을 카테고리별로 정리했습니다."})]}),a.jsxs("div",{id:"table-of-contents",className:"card bg-gray-50 mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"📋 카테고리별 도구 목차"}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map((r,i)=>a.jsxs("a",{href:`#category-${i}`,className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-white transition-colors",children:[a.jsx("span",{className:"text-2xl",children:r.icon}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium text-gray-900",children:r.title}),a.jsxs("div",{className:"text-sm text-gray-600",children:[r.tools.length,"개 도구"]})]})]},i))})]}),a.jsx("div",{className:"space-y-12",children:e.map((r,i)=>a.jsxs("div",{id:`category-${i}`,className:"card",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("span",{className:"text-3xl",children:r.icon}),a.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:r.title})]}),a.jsx("a",{href:"#table-of-contents",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:"↑ 목차로 가기"})]}),a.jsx("div",{className:"grid lg:grid-cols-2 gap-6",children:r.tools.map((n,s)=>a.jsxs("div",{className:"border rounded-lg p-6 hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:n.name}),a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full border ${t(r.color)}`,children:r.title.split(" ")[0]})]}),a.jsx("p",{className:"text-gray-600 mb-4 text-sm leading-relaxed",children:n.description}),a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"주요 특징"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:n.features.map((o,l)=>a.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded",children:o},l))})]}),a.jsxs("div",{className:"border-t pt-3",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"활용 사례"}),a.jsx("p",{className:"text-sm text-gray-600 italic",children:n.useCase})]})]},s))})]},i))}),a.jsx("div",{className:"card bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200 mt-12",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"🚀 다음 단계"}),a.jsx("p",{className:"text-gray-600 mb-6 max-w-2xl mx-auto",children:"이러한 도구들을 프로젝트에 적용해보고 싶다면, 각 도구의 공식 문서를 참고하여 점진적으로 도입해보세요. 모든 도구를 한번에 사용할 필요는 없으며, 프로젝트의 요구사항에 맞는 도구를 선별적으로 활용하는 것이 중요합니다."}),a.jsxs("div",{className:"flex justify-center space-x-4",children:[a.jsx(Pe,{to:"/principles",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"핵심 원리 학습하기 →"}),a.jsx(Pe,{to:"/gradle",className:"inline-flex items-center px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"실제 예제 보기 →"})]})]})})]})}function N6(){return a.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[a.jsx("nav",{className:"mb-8",children:a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[a.jsx(Pe,{to:"/principles",className:"hover:text-blue-600",children:"핵심 원리"}),a.jsx("span",{children:"/"}),a.jsx("span",{className:"text-gray-900 font-medium",children:"자동 설정"})]})}),a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"🔧 자동 설정 (Auto-Configuration)"}),a.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Spring Boot의 가장 핵심적인 기능인 자동 설정의 동작 원리와 실제 구현 방법을 상세히 알아보세요."})]}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{id:"table-of-contents",className:"card bg-gray-50",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"📋 목차"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("a",{href:"#definition",className:"block text-blue-600 hover:text-blue-800",children:"1. 정의"}),a.jsx("a",{href:"#working-principle",className:"block text-blue-600 hover:text-blue-800",children:"2. 동작 원리"}),a.jsx("a",{href:"#benefits",className:"block text-blue-600 hover:text-blue-800",children:"3. 이점"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("a",{href:"#implementation",className:"block text-blue-600 hover:text-blue-800",children:"4. 구현 예시"}),a.jsx("a",{href:"#best-practices",className:"block text-blue-600 hover:text-blue-800",children:"5. 모범 사례"}),a.jsx("a",{href:"#references",className:"block text-blue-600 hover:text-blue-800",children:"6. 추가 참고 자료"})]})]})]}),a.jsxs("div",{id:"definition",className:"card",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"📖 정의"}),a.jsx("a",{href:"#table-of-contents",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:"↑ 목차로 가기"})]}),a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:a.jsxs("p",{className:"text-gray-700",children:[a.jsx("strong",{children:"자동 설정(Auto-Configuration)"}),'은 Spring Boot의 가장 핵심적인 기능으로, 클래스패스에 있는 JAR 파일들과 정의한 Bean들을 바탕으로 애플리케이션을 자동으로 설정하는 메커니즘입니다. 개발자가 명시적으로 설정하지 않아도 Spring Boot가 "관례에 의한 설정(Convention over Configuration)" 원칙에 따라 합리적인 기본값으로 애플리케이션을 구성합니다.']})})]}),a.jsxs("div",{id:"working-principle",className:"card",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"🎨 동작 원리"}),a.jsx("a",{href:"#table-of-contents",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:"↑ 목차로 가기"})]}),a.jsx(Ve,{chart:`
              graph TD
                  A["Spring Boot 애플리케이션 시작"] --> B["클래스패스 스캔"]
                  B --> C{"spring.factories<br/>파일 발견?"}
                  C -->|Yes| D["Auto-Configuration<br/>클래스 로딩"]
                  C -->|No| E["기본 설정으로 진행"]

                  D --> F["조건부 어노테이션 평가"]
                  F --> G{"클래스 존재 조건<br/>만족?"}
                  G -->|Yes| H{"Bean 미존재 조건<br/>만족?"}
                  G -->|No| I["해당 설정 스킵"]

                  H -->|Yes| J["Bean 자동 생성<br/>및 등록"]
                  H -->|No| K["사용자 정의<br/>Bean 사용"]

                  J --> L["설정 적용 완료"]
                  K --> L
                  I --> L
                  E --> L

                  L --> M["애플리케이션 컨텍스트<br/>준비 완료"]

                  classDef startEnd fill:#e1f5fe,stroke:#01579b,stroke-width:2px
                  classDef decision fill:#fff3e0,stroke:#ef6c00,stroke-width:2px
                  classDef process fill:#e8f5e8,stroke:#2e7d32,stroke-width:2px

                  class A,M startEnd
                  class C,G,H decision
                  class B,D,F,J,K,L process
            `,className:"mb-6"})]}),a.jsxs("div",{id:"benefits",className:"card",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"✨ 이점"}),a.jsx("a",{href:"#table-of-contents",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:"↑ 목차로 가기"})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-green-900 mb-3",children:"🚀 개발 생산성 향상"}),a.jsxs("ul",{className:"text-sm text-green-800 space-y-2",children:[a.jsx("li",{children:"• 반복적인 설정 코드 제거"}),a.jsx("li",{children:"• 빠른 프로토타이핑 가능"}),a.jsx("li",{children:"• 학습 곡선 완화"}),a.jsx("li",{children:"• 표준화된 설정 관리"})]})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-blue-900 mb-3",children:"🔧 유지보수성"}),a.jsxs("ul",{className:"text-sm text-blue-800 space-y-2",children:[a.jsx("li",{children:"• 일관된 설정 구조"}),a.jsx("li",{children:"• 버전 업그레이드 용이성"}),a.jsx("li",{children:"• 설정 오류 감소"}),a.jsx("li",{children:"• 모범 사례 자동 적용"})]})]})]})]}),a.jsxs("div",{id:"implementation",className:"card",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"💻 구현 예시"}),a.jsx("a",{href:"#table-of-contents",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:"↑ 목차로 가기"})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h4",{className:"text-md font-medium text-gray-700 mb-3",children:"🗄️ DataSource 자동 설정"}),a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:`// Spring Boot의 DataSource 자동 설정 클래스 (일부)
@Configuration(proxyBeanMethods = false)
@ConditionalOnClass({ DataSource.class, EmbeddedDatabaseType.class })
@ConditionalOnMissingBean(type = "javax.sql.DataSource")
@EnableConfigurationProperties(DataSourceProperties.class)
@Import({ DataSourcePoolMetadataProvidersConfiguration.class,
          DataSourceInitializationConfiguration.class })
public class DataSourceAutoConfiguration {

    @Configuration(proxyBeanMethods = false)
    @Conditional(EmbeddedDatabaseCondition.class)
    @ConditionalOnMissingBean({ DataSource.class, XADataSource.class })
    @Import(EmbeddedDataSourceConfiguration.class)
    protected static class EmbeddedDatabaseConfiguration {
    }

    @Configuration(proxyBeanMethods = false)
    @Conditional(PooledDataSourceCondition.class)
    @ConditionalOnMissingBean({ DataSource.class, XADataSource.class })
    protected static class PooledDataSourceConfiguration {

        @Bean
        @Primary
        DataSource dataSource(DataSourceProperties properties) {
            // HikariCP가 클래스패스에 있으면 HikariDataSource 생성
            return properties.initializeDataSourceBuilder()
                           .type(HikariDataSource.class)
                           .build();
        }
    }
}`})})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h4",{className:"text-md font-medium text-gray-700 mb-3",children:"🛠️ 커스텀 자동 설정 만들기"}),a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:`// 1. 설정 Properties 클래스
@ConfigurationProperties(prefix = "myapp.email")
@Data
public class EmailProperties {
    private String host = "localhost";
    private int port = 587;
    private String username;
    private String password;
    private boolean enabled = true;
}

// 2. 자동 설정 대상 서비스 클래스
public class EmailService {
    private final EmailProperties properties;

    public EmailService(EmailProperties properties) {
        this.properties = properties;
    }

    public void sendEmail(String to, String subject, String body) {
        if (!properties.isEnabled()) {
            System.out.println("Email sending is disabled");
            return;
        }

        // 실제 이메일 전송 로직
        System.out.printf("Sending email to %s via %s:%d%n",
                         to, properties.getHost(), properties.getPort());
    }
}

// 3. 자동 설정 클래스
@Configuration
@ConditionalOnClass(EmailService.class)  // EmailService 클래스가 클래스패스에 있을 때
@ConditionalOnProperty(
    prefix = "myapp.email",
    name = "enabled",
    havingValue = "true",
    matchIfMissing = true     // 속성이 없어도 true로 간주
)
@EnableConfigurationProperties(EmailProperties.class)
public class EmailAutoConfiguration {

    @Bean
    @ConditionalOnMissingBean    // 사용자가 EmailService를 직접 정의하지 않았을 때만
    public EmailService emailService(EmailProperties emailProperties) {
        return new EmailService(emailProperties);
    }
}

// 4. spring.factories 파일에 등록
// META-INF/spring.factories
org.springframework.boot.autoconfigure.EnableAutoConfiguration=\\
com.myapp.autoconfigure.EmailAutoConfiguration

// 5. application.yml에서 설정
myapp:
  email:
    host: smtp.gmail.com
    port: 587
    username: myemail@gmail.com
    password: mypassword
    enabled: true`})})]})]}),a.jsxs("div",{id:"best-practices",className:"card",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"🏆 모범 사례"}),a.jsx("a",{href:"#table-of-contents",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:"↑ 목차로 가기"})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"✅ 권장사항"}),a.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:a.jsxs("ul",{className:"text-sm text-green-800 space-y-2",children:[a.jsxs("li",{children:["• ",a.jsx("strong",{children:"@ConditionalOnMissingBean"})," 활용으로 사용자 설정 우선 적용"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"@ConfigurationProperties"}),"로 타입 안전한 설정 관리"]}),a.jsx("li",{children:"• 합리적인 기본값 제공"}),a.jsx("li",{children:"• 명확한 조건부 설정 사용"}),a.jsx("li",{children:"• 설정 검증 로직 포함"})]})})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"❌ 주의사항"}),a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:a.jsxs("ul",{className:"text-sm text-red-800 space-y-2",children:[a.jsx("li",{children:"• 과도한 자동 설정으로 인한 복잡성 증가"}),a.jsx("li",{children:"• 조건부 설정 남용 금지"}),a.jsx("li",{children:"• 순환 의존성 발생 가능성 주의"}),a.jsx("li",{children:"• 디버깅 어려움 고려"}),a.jsx("li",{children:"• 성능 영향 최소화"})]})})]})]})]}),a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"🎯 실제 활용 예시"}),a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:`// 자동 설정 동작 확인하기
@SpringBootApplication
public class MyApplication {
    public static void main(String[] args) {
        ConfigurableApplicationContext context =
            SpringApplication.run(MyApplication.class, args);

        // 자동으로 생성된 Bean들 확인
        String[] beanNames = context.getBeanDefinitionNames();
        Arrays.stream(beanNames)
              .filter(name -> name.contains("dataSource") ||
                             name.contains("jpa") ||
                             name.contains("transaction"))
              .forEach(System.out::println);

        // DataSource가 자동으로 설정되었는지 확인
        DataSource dataSource = context.getBean(DataSource.class);
        System.out.println("DataSource: " + dataSource.getClass().getName());
    }
}

// application.yml - 최소한의 설정만으로 동작
spring:
  datasource:
    url: jdbc:h2:mem:testdb    # H2 DataSource 자동 설정
    driver-class-name: org.h2.Driver
  jpa:
    hibernate:
      ddl-auto: create-drop    # JPA 자동 설정
    show-sql: true

# 결과:
# - HikariDataSource 자동 생성
# - JpaTransactionManager 자동 생성
# - EntityManagerFactory 자동 생성
# - 모든 JPA Repository 자동 스캔 및 구현체 생성`})})]}),a.jsxs("div",{id:"references",className:"card",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"📚 추가 참고 자료"}),a.jsx("a",{href:"#table-of-contents",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:"↑ 목차로 가기"})]}),a.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"📖 공식 문서"}),a.jsxs("ul",{className:"text-sm text-gray-700 space-y-2",children:[a.jsxs("li",{children:["• ",a.jsx("a",{href:"https://docs.spring.io/spring-boot/docs/current/reference/html/using.html#using.auto-configuration",className:"text-blue-600 hover:text-blue-800",target:"_blank",rel:"noopener noreferrer",children:"Spring Boot Auto-Configuration 공식 가이드"})]}),a.jsxs("li",{children:["• ",a.jsx("a",{href:"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.developing-auto-configuration",className:"text-blue-600 hover:text-blue-800",target:"_blank",rel:"noopener noreferrer",children:"커스텀 Auto-Configuration 개발 가이드"})]}),a.jsxs("li",{children:["• ",a.jsx("a",{href:"https://docs.spring.io/spring-boot/docs/current/reference/html/appendix-auto-configuration-classes.html",className:"text-blue-600 hover:text-blue-800",target:"_blank",rel:"noopener noreferrer",children:"Auto-Configuration 클래스 전체 목록"})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"🛠️ 디버깅 도구"}),a.jsxs("ul",{className:"text-sm text-gray-700 space-y-2",children:[a.jsxs("li",{children:["• ",a.jsx("code",{className:"bg-gray-200 px-2 py-1 rounded",children:"--debug"})," 플래그로 자동 설정 리포트 확인"]}),a.jsxs("li",{children:["• ",a.jsx("code",{className:"bg-gray-200 px-2 py-1 rounded",children:"@EnableAutoConfiguration(exclude=...)"}),"로 특정 설정 제외"]}),a.jsxs("li",{children:["• Spring Boot Actuator의 ",a.jsx("code",{className:"bg-gray-200 px-2 py-1 rounded",children:"/conditions"})," 엔드포인트 활용"]}),a.jsx("li",{children:"• IDE의 Spring Boot 플러그인 사용"})]})]})]})})]}),a.jsx("div",{className:"text-center",children:a.jsx(Pe,{to:"/principles",className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors",children:"← 핵심 원리 목록으로 돌아가기"})})]})]})}function T6(){return a.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[a.jsx("nav",{className:"mb-8",children:a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[a.jsx(Pe,{to:"/principles",className:"hover:text-blue-600",children:"핵심 원리"}),a.jsx("span",{children:"/"}),a.jsx("span",{className:"text-gray-900 font-medium",children:"IoC Container"})]})}),a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"🔄 제어의 역전 (IoC Container)"}),a.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Spring Framework의 핵심인 IoC Container와 의존성 주입의 동작 원리를 깊이 있게 알아보세요."})]}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{id:"table-of-contents",className:"card bg-gray-50",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"📋 목차"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("a",{href:"#definition",className:"block text-blue-600 hover:text-blue-800",children:"1. 정의"}),a.jsx("a",{href:"#working-principle",className:"block text-blue-600 hover:text-blue-800",children:"2. 동작 원리"}),a.jsx("a",{href:"#benefits",className:"block text-blue-600 hover:text-blue-800",children:"3. 이점"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("a",{href:"#implementation",className:"block text-blue-600 hover:text-blue-800",children:"4. 구현 예시"}),a.jsx("a",{href:"#best-practices",className:"block text-blue-600 hover:text-blue-800",children:"5. 모범 사례"}),a.jsx("a",{href:"#references",className:"block text-blue-600 hover:text-blue-800",children:"6. 추가 참고 자료"})]})]})]}),a.jsxs("div",{id:"definition",className:"card",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"📖 정의"}),a.jsx("a",{href:"#table-of-contents",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:"↑ 목차로 가기"})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsxs("p",{className:"text-gray-700 mb-4",children:[a.jsx("strong",{children:"제어의 역전(IoC, Inversion of Control)"}),"은 객체의 생성과 의존성 관리의 제어권을 개발자가 아닌 프레임워크가 가지는 설계 원칙입니다. Spring의 IoC Container는 이 원칙을 구현한 핵심 컴포넌트로, 객체의 생명주기를 관리하고 의존성을 자동으로 주입합니다."]}),a.jsxs("p",{className:"text-gray-700",children:["전통적인 방식에서는 객체가 직접 의존 객체를 생성하고 관리했지만, IoC에서는 이 역할을 컨테이너가 담당하여",a.jsx("strong",{children:"의존성 주입(Dependency Injection)"}),"을 통해 객체 간의 결합도를 낮추고 유연성을 높입니다."]})]})]}),a.jsxs("div",{id:"working-principle",className:"card",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"🎨 동작 원리"}),a.jsx("a",{href:"#table-of-contents",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:"↑ 목차로 가기"})]}),a.jsx(Ve,{chart:`
              graph TD
                  A["Spring 애플리케이션 시작"] --> B["컴포넌트 스캔"]
                  B --> C["Bean 정의 수집"]
                  C --> D["의존성 분석"]

                  D --> E["Bean 생성 순서 결정"]
                  E --> F{"순환 의존성<br/>체크"}
                  F -->|No Cycle| G["Bean 인스턴스 생성"]
                  F -->|Cycle Detected| H["순환 의존성 해결<br/>또는 오류"]

                  G --> I["의존성 주입 실행"]
                  I --> J["초기화 메서드 호출"]
                  J --> K["Bean 등록 완료"]

                  H --> L["애플리케이션 시작 실패"]
                  K --> M["Application Context<br/>준비 완료"]

                  classDef startEnd fill:#e1f5fe,stroke:#01579b,stroke-width:2px
                  classDef decision fill:#fff3e0,stroke:#ef6c00,stroke-width:2px
                  classDef process fill:#e8f5e8,stroke:#2e7d32,stroke-width:2px
                  classDef error fill:#ffebee,stroke:#c62828,stroke-width:2px

                  class A,M startEnd
                  class F decision
                  class B,C,D,E,G,I,J,K process
                  class H,L error
            `,className:"mb-6"})]}),a.jsxs("div",{id:"benefits",className:"card",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"✨ 이점"}),a.jsx("a",{href:"#table-of-contents",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:"↑ 목차로 가기"})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-green-900 mb-3",children:"🔗 낮은 결합도"}),a.jsxs("ul",{className:"text-sm text-green-800 space-y-2",children:[a.jsx("li",{children:"• 객체 간 직접적인 의존성 제거"}),a.jsx("li",{children:"• 인터페이스 기반 설계 촉진"}),a.jsx("li",{children:"• 모듈 간 독립성 향상"}),a.jsx("li",{children:"• 코드 변경 영향 범위 최소화"})]})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-blue-900 mb-3",children:"🧪 테스트 용이성"}),a.jsxs("ul",{className:"text-sm text-blue-800 space-y-2",children:[a.jsx("li",{children:"• Mock 객체 주입 간편"}),a.jsx("li",{children:"• 단위 테스트 작성 용이"}),a.jsx("li",{children:"• 테스트 격리성 보장"}),a.jsx("li",{children:"• TDD 개발 방식 지원"})]})]}),a.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-purple-900 mb-3",children:"♻️ 재사용성"}),a.jsxs("ul",{className:"text-sm text-purple-800 space-y-2",children:[a.jsx("li",{children:"• 컴포넌트 재사용성 증대"}),a.jsx("li",{children:"• 설정 기반 구성 변경"}),a.jsx("li",{children:"• 플러그인 아키텍처 지원"}),a.jsx("li",{children:"• 확장 가능한 구조"})]})]}),a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-yellow-900 mb-3",children:"🏗️ 생명주기 관리"}),a.jsxs("ul",{className:"text-sm text-yellow-800 space-y-2",children:[a.jsx("li",{children:"• 객체 생성/소멸 자동화"}),a.jsx("li",{children:"• 싱글톤/프로토타입 스코프 관리"}),a.jsx("li",{children:"• 리소스 해제 자동화"}),a.jsx("li",{children:"• 초기화/소멸 콜백 지원"})]})]})]})]}),a.jsxs("div",{id:"implementation",className:"card",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"💻 구현 예시"}),a.jsx("a",{href:"#table-of-contents",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:"↑ 목차로 가기"})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"🔄 전통적인 방식 vs IoC 방식 비교"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-red-700 mb-3",children:"❌ 전통적인 방식 (높은 결합도)"}),a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:`public class OrderService {
    private PaymentService paymentService;
    private InventoryService inventoryService;
    private EmailService emailService;

    public OrderService() {
        // 직접 의존성 생성 - 강한 결합
        this.paymentService = new PaymentService();
        this.inventoryService = new InventoryService();
        this.emailService = new EmailService();
    }

    public void processOrder(Order order) {
        // 비즈니스 로직
        paymentService.charge(order.getAmount());
        inventoryService.reserve(order.getItems());
        emailService.sendConfirmation(order.getEmail());
    }
}`})})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-green-700 mb-3",children:"✅ IoC 방식 (낮은 결합도)"}),a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:`@Service
public class OrderService {
    private final PaymentService paymentService;
    private final InventoryService inventoryService;
    private final EmailService emailService;

    // Constructor Injection - IoC Container가 주입
    public OrderService(PaymentService paymentService,
                       InventoryService inventoryService,
                       EmailService emailService) {
        this.paymentService = paymentService;
        this.inventoryService = inventoryService;
        this.emailService = emailService;
    }

    public void processOrder(Order order) {
        // 동일한 비즈니스 로직
        paymentService.charge(order.getAmount());
        inventoryService.reserve(order.getItems());
        emailService.sendConfirmation(order.getEmail());
    }
}`})})]})]})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"💉 의존성 주입 방법"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-green-700 mb-3",children:"✅ Constructor Injection (권장)"}),a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:`@Service
public class UserService {
    private final UserRepository userRepository;
    private final EmailService emailService;

    // 생성자 주입 - 불변성 보장, 필수 의존성 명시
    public UserService(UserRepository userRepository, EmailService emailService) {
        this.userRepository = userRepository;
        this.emailService = emailService;
    }

    // @Autowired 생략 가능 (생성자가 하나인 경우)
}`})})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-yellow-700 mb-3",children:"⚠️ Setter Injection (선택적 의존성)"}),a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:`@Service
public class NotificationService {
    private EmailService emailService;
    private SmsService smsService;

    @Autowired(required = false)  // 선택적 의존성
    public void setEmailService(EmailService emailService) {
        this.emailService = emailService;
    }

    @Autowired(required = false)
    public void setSmsService(SmsService smsService) {
        this.smsService = smsService;
    }

    public void sendNotification(String message) {
        if (emailService != null) {
            emailService.send(message);
        }
        if (smsService != null) {
            smsService.send(message);
        }
    }
}`})})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-red-700 mb-3",children:"❌ Field Injection (비권장)"}),a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:`@Service
public class ProductService {

    @Autowired
    private ProductRepository productRepository;  // 테스트 어려움

    @Autowired
    private PriceCalculator priceCalculator;      // 불변성 보장 불가

    // 생성자나 setter가 없어 테스트 시 Mock 주입이 어려움
}`})})]})]})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"🔄 Bean 생명주기 관리"}),a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:`@Component
public class DatabaseConnectionManager {

    private Connection connection;

    // 1. Bean 생성 후 초기화
    @PostConstruct
    public void initialize() {
        System.out.println("데이터베이스 연결 초기화");
        // connection = createConnection();
    }

    // 2. Bean 소멸 전 정리
    @PreDestroy
    public void cleanup() {
        System.out.println("데이터베이스 연결 해제");
        if (connection != null) {
            // connection.close();
        }
    }

    // InitializingBean 인터페이스 구현 방식
    @Component
    public class AlternativeLifecycleBean implements InitializingBean, DisposableBean {

        @Override
        public void afterPropertiesSet() throws Exception {
            // 초기화 로직
            System.out.println("InitializingBean.afterPropertiesSet() 호출");
        }

        @Override
        public void destroy() throws Exception {
            // 소멸 로직
            System.out.println("DisposableBean.destroy() 호출");
        }
    }
}

// 설정 클래스에서 Bean 정의
@Configuration
public class AppConfig {

    @Bean(initMethod = "customInit", destroyMethod = "customDestroy")
    public MyService myService() {
        return new MyService();
    }
}`})})]})]}),a.jsxs("div",{id:"best-practices",className:"card",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"🏆 모범 사례"}),a.jsx("a",{href:"#table-of-contents",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:"↑ 목차로 가기"})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"✅ 권장사항"}),a.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:a.jsxs("ul",{className:"text-sm text-green-800 space-y-2",children:[a.jsxs("li",{children:["• ",a.jsx("strong",{children:"Constructor Injection"})," 우선 사용"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"final 키워드"}),"로 불변성 보장"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"인터페이스 기반 설계"}),"로 결합도 최소화"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"@Component 스캔"})," 활용한 자동 등록"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"단일 책임 원칙"})," 준수"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"순환 의존성"})," 방지"]})]})})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"❌ 주의사항"}),a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:a.jsxs("ul",{className:"text-sm text-red-800 space-y-2",children:[a.jsxs("li",{children:["• ",a.jsx("strong",{children:"Field Injection"})," 사용 지양"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"God Object"})," 패턴 방지"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"과도한 의존성"})," 주입 지양"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"런타임 의존성"})," 체크 부족"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"Bean Scope"})," 무분별한 사용"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"정적 팩토리 메서드"})," 남용"]})]})})]})]})]}),a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"🔢 Bean Scope 종류"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"🎯 Singleton (기본값)"}),a.jsx("p",{className:"text-sm text-blue-800",children:"IoC Container당 하나의 인스턴스만 생성"}),a.jsx("div",{className:"code-block mt-2",children:a.jsx("pre",{className:"text-xs",children:`@Component  // 기본적으로 Singleton
public class SingletonService {}`})})]}),a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-green-900 mb-2",children:"🔄 Prototype"}),a.jsx("p",{className:"text-sm text-green-800",children:"요청할 때마다 새로운 인스턴스 생성"}),a.jsx("div",{className:"code-block mt-2",children:a.jsx("pre",{className:"text-xs",children:`@Component
@Scope("prototype")
public class PrototypeService {}`})})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-yellow-900 mb-2",children:"🌐 Request (Web)"}),a.jsx("p",{className:"text-sm text-yellow-800",children:"HTTP 요청당 하나의 인스턴스"}),a.jsx("div",{className:"code-block mt-2",children:a.jsx("pre",{className:"text-xs",children:`@Component
@Scope("request")
public class RequestScopedService {}`})})]}),a.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-purple-900 mb-2",children:"📅 Session (Web)"}),a.jsx("p",{className:"text-sm text-purple-800",children:"HTTP 세션당 하나의 인스턴스"}),a.jsx("div",{className:"code-block mt-2",children:a.jsx("pre",{className:"text-xs",children:`@Component
@Scope("session")
public class SessionScopedService {}`})})]})]})]})]}),a.jsxs("div",{id:"references",className:"card",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"📚 추가 참고 자료"}),a.jsx("a",{href:"#table-of-contents",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:"↑ 목차로 가기"})]}),a.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"📖 공식 문서"}),a.jsxs("ul",{className:"text-sm text-gray-700 space-y-2",children:[a.jsxs("li",{children:["• ",a.jsx("a",{href:"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans",className:"text-blue-600 hover:text-blue-800",target:"_blank",rel:"noopener noreferrer",children:"Spring IoC Container 공식 가이드"})]}),a.jsxs("li",{children:["• ",a.jsx("a",{href:"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-dependencies",className:"text-blue-600 hover:text-blue-800",target:"_blank",rel:"noopener noreferrer",children:"의존성 주입 상세 가이드"})]}),a.jsxs("li",{children:["• ",a.jsx("a",{href:"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-scopes",className:"text-blue-600 hover:text-blue-800",target:"_blank",rel:"noopener noreferrer",children:"Bean Scope 완전 가이드"})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"🛠️ 실용 도구"}),a.jsxs("ul",{className:"text-sm text-gray-700 space-y-2",children:[a.jsxs("li",{children:["• ",a.jsx("code",{className:"bg-gray-200 px-2 py-1 rounded",children:"@PostConstruct"})," / ",a.jsx("code",{className:"bg-gray-200 px-2 py-1 rounded",children:"@PreDestroy"})," 생명주기 관리"]}),a.jsxs("li",{children:["• ",a.jsx("code",{className:"bg-gray-200 px-2 py-1 rounded",children:"@Qualifier"}),"로 Bean 구별"]}),a.jsxs("li",{children:["• ",a.jsx("code",{className:"bg-gray-200 px-2 py-1 rounded",children:"@Primary"}),"로 우선순위 지정"]}),a.jsxs("li",{children:["• ",a.jsx("code",{className:"bg-gray-200 px-2 py-1 rounded",children:"ApplicationContext"}),"로 런타임 Bean 접근"]})]})]})]})})]}),a.jsx("div",{className:"text-center",children:a.jsx(Pe,{to:"/principles",className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors",children:"← 핵심 원리 목록으로 돌아가기"})})]})]})}function E6(){return a.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[a.jsx("nav",{className:"mb-8",children:a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[a.jsx(Pe,{to:"/principles",className:"hover:text-blue-600",children:"핵심 원리"}),a.jsx("span",{children:"/"}),a.jsx("span",{className:"text-gray-900 font-medium",children:"스타터 의존성"})]})}),a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"📦 스타터 의존성 (Spring Boot Starters)"}),a.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Spring Boot Starter의 구조와 의존성 관리 메커니즘을 통해 효율적인 프로젝트 설정 방법을 학습하세요."})]}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{id:"table-of-contents",className:"card bg-gray-50",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"📋 목차"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("a",{href:"#definition",className:"block text-blue-600 hover:text-blue-800",children:"1. 정의"}),a.jsx("a",{href:"#structure",className:"block text-blue-600 hover:text-blue-800",children:"2. 구조 및 동작 원리"}),a.jsx("a",{href:"#benefits",className:"block text-blue-600 hover:text-blue-800",children:"3. 이점"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("a",{href:"#implementation",className:"block text-blue-600 hover:text-blue-800",children:"4. 구현 예시"}),a.jsx("a",{href:"#best-practices",className:"block text-blue-600 hover:text-blue-800",children:"5. 모범 사례"}),a.jsx("a",{href:"#references",className:"block text-blue-600 hover:text-blue-800",children:"6. 추가 참고 자료"})]})]})]}),a.jsxs("div",{id:"definition",className:"card",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"📖 정의"}),a.jsx("a",{href:"#table-of-contents",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:"↑ 목차로 가기"})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsxs("p",{className:"text-gray-700",children:[a.jsx("strong",{children:"Spring Boot Starters"}),"는 특정 기능을 위해 필요한 의존성들을 미리 패키징한 의존성 패키지입니다. 개발자가 복잡한 의존성 관리나 버전 호환성을 신경 쓰지 않고도, 단 하나의 starter 의존성만 추가하면 관련된 모든 라이브러리와 자동 설정이 함께 제공되어 즉시 사용할 수 있는 환경을 구성해줍니다."]}),a.jsx("div",{className:"mt-4 bg-white rounded-lg p-3 border",children:a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx("strong",{children:"핵심 개념:"}),' "Convention over Configuration" + "Opinionated Defaults"',a.jsx("br",{}),"스프링 부트가 제공하는 관례적 설정과 합리적 기본값을 통해 복잡한 설정 없이 바로 개발에 집중할 수 있게 해줍니다."]})})]})]}),a.jsxs("div",{id:"structure",className:"card",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"🎨 구조 및 동작 원리"}),a.jsx("a",{href:"#table-of-contents",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:"↑ 목차로 가기"})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Starter 의존성 해결 과정"}),a.jsx(Ve,{chart:`
                graph TD
                    A["프로젝트에 Starter 추가<br/>(예: spring-boot-starter-web)"] --> B["Maven/Gradle<br/>의존성 해결"]
                    B --> C["Starter POM/BOM<br/>파일 분석"]
                    C --> D["전이 의존성<br/>자동 다운로드"]

                    D --> E["필수 라이브러리 포함"]
                    D --> F["Auto-Configuration<br/>클래스 포함"]
                    D --> G["기본 설정<br/>프로퍼티 포함"]

                    E --> H["Spring MVC"]
                    E --> I["Jackson JSON"]
                    E --> J["Tomcat 내장 서버"]
                    E --> K["Validation"]

                    F --> L["WebMvcAutoConfiguration"]
                    F --> M["JacksonAutoConfiguration"]
                    F --> N["TomcatAutoConfiguration"]

                    G --> O["기본 포트 8080"]
                    G --> P["JSON 직렬화 설정"]
                    G --> Q["정적 리소스 매핑"]

                    H --> R["즉시 사용 가능한<br/>Spring Boot 애플리케이션"]
                    I --> R
                    J --> R
                    L --> R
                    M --> R
                    N --> R
                    O --> R
                    P --> R
                    Q --> R

                    classDef starter fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
                    classDef dependency fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px
                    classDef auto fill:#e8f5e8,stroke:#388e3c,stroke-width:2px
                    classDef result fill:#fff3e0,stroke:#f57c00,stroke-width:2px

                    class A,C starter
                    class B,D,E,H,I,J,K dependency
                    class F,L,M,N,G,O,P,Q auto
                    class R result
              `,className:"mb-6"})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"주요 Starter 종류"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-green-900 mb-3",children:"🌐 웹 개발"}),a.jsxs("ul",{className:"text-sm text-green-800 space-y-1",children:[a.jsxs("li",{children:["• ",a.jsx("code",{children:"spring-boot-starter-web"})," - Spring MVC, REST API"]}),a.jsxs("li",{children:["• ",a.jsx("code",{children:"spring-boot-starter-webflux"})," - Reactive Web"]}),a.jsxs("li",{children:["• ",a.jsx("code",{children:"spring-boot-starter-thymeleaf"})," - 템플릿 엔진"]}),a.jsxs("li",{children:["• ",a.jsx("code",{children:"spring-boot-starter-websocket"})," - WebSocket"]})]})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-blue-900 mb-3",children:"🗄️ 데이터"}),a.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[a.jsxs("li",{children:["• ",a.jsx("code",{children:"spring-boot-starter-data-jpa"})," - JPA, Hibernate"]}),a.jsxs("li",{children:["• ",a.jsx("code",{children:"spring-boot-starter-data-mongodb"})," - MongoDB"]}),a.jsxs("li",{children:["• ",a.jsx("code",{children:"spring-boot-starter-data-redis"})," - Redis"]}),a.jsxs("li",{children:["• ",a.jsx("code",{children:"spring-boot-starter-jdbc"})," - JDBC"]})]})]}),a.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-purple-900 mb-3",children:"🔒 보안"}),a.jsxs("ul",{className:"text-sm text-purple-800 space-y-1",children:[a.jsxs("li",{children:["• ",a.jsx("code",{children:"spring-boot-starter-security"})," - Spring Security"]}),a.jsxs("li",{children:["• ",a.jsx("code",{children:"spring-boot-starter-oauth2-client"})," - OAuth2"]}),a.jsxs("li",{children:["• ",a.jsx("code",{children:"spring-boot-starter-oauth2-resource-server"})]})]})]}),a.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-orange-900 mb-3",children:"📊 모니터링"}),a.jsxs("ul",{className:"text-sm text-orange-800 space-y-1",children:[a.jsxs("li",{children:["• ",a.jsx("code",{children:"spring-boot-starter-actuator"})," - 모니터링"]}),a.jsxs("li",{children:["• ",a.jsx("code",{children:"spring-boot-starter-test"})," - 테스트"]}),a.jsxs("li",{children:["• ",a.jsx("code",{children:"spring-boot-starter-validation"})," - 유효성 검사"]})]})]})]})]})]}),a.jsxs("div",{id:"benefits",className:"card",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"✨ 이점"}),a.jsx("a",{href:"#table-of-contents",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:"↑ 목차로 가기"})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-green-900 mb-3",children:"🚀 개발 효율성"}),a.jsxs("ul",{className:"text-sm text-green-800 space-y-2",children:[a.jsxs("li",{children:["• ",a.jsx("strong",{children:"즉시 시작"})," - 복잡한 설정 없이 바로 개발 가능"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"의존성 간소화"})," - 하나의 starter로 모든 관련 라이브러리 포함"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"버전 호환성"})," - 테스트된 의존성 조합으로 안정성 보장"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"학습 곡선 완화"})," - 초보자도 쉽게 접근 가능"]})]})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-blue-900 mb-3",children:"🔧 관리 편의성"}),a.jsxs("ul",{className:"text-sm text-blue-800 space-y-2",children:[a.jsxs("li",{children:["• ",a.jsx("strong",{children:"중앙집중 관리"})," - Spring Boot BOM에서 버전 관리"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"업그레이드 용이"})," - Spring Boot 버전만 올리면 모든 의존성 업데이트"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"충돌 방지"})," - 검증된 의존성 조합으로 버전 충돌 최소화"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"표준화"})," - 팀 내 일관된 의존성 사용"]})]})]}),a.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-purple-900 mb-3",children:"⚡ 성능 최적화"}),a.jsxs("ul",{className:"text-sm text-purple-800 space-y-2",children:[a.jsxs("li",{children:["• ",a.jsx("strong",{children:"최적화된 기본 설정"})," - 프로덕션 환경에 적합한 기본값"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"불필요한 의존성 제거"})," - 필요한 것만 포함"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"조건부 로딩"})," - 필요할 때만 Bean 생성"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"메모리 효율"})," - 최적화된 라이브러리 조합"]})]})]}),a.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-orange-900 mb-3",children:"🛡️ 안정성"}),a.jsxs("ul",{className:"text-sm text-orange-800 space-y-2",children:[a.jsxs("li",{children:["• ",a.jsx("strong",{children:"검증된 조합"})," - Spring 팀이 테스트한 의존성"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"보안 업데이트"})," - 자동화된 보안 패치"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"호환성 보장"})," - 다른 Spring 프로젝트와의 호환성"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"장기 지원"})," - LTS 버전을 통한 안정적 지원"]})]})]})]})]}),a.jsxs("div",{id:"implementation",className:"card",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"💻 구현 예시"}),a.jsx("a",{href:"#table-of-contents",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:"↑ 목차로 가기"})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"🌐 웹 애플리케이션 Starter"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-md font-medium text-gray-700 mb-3",children:"Maven (pom.xml)"}),a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:`<dependencies>
    <!-- 웹 애플리케이션을 위한 모든 의존성이 포함됨 -->
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-web</artifactId>
    </dependency>

    <!-- 포함되는 주요 라이브러리들:
         - spring-web, spring-webmvc
         - spring-boot-starter-tomcat (내장 서버)
         - spring-boot-starter-json (Jackson)
         - spring-boot-starter-validation
    -->
</dependencies>`})})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-md font-medium text-gray-700 mb-3",children:"Gradle (build.gradle)"}),a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:`dependencies {
    // 웹 애플리케이션을 위한 모든 의존성이 포함됨
    implementation 'org.springframework.boot:spring-boot-starter-web'

    // 자동으로 포함되는 의존성들:
    // - Spring MVC 및 REST 기능
    // - 내장 Tomcat 서버
    // - Jackson JSON 라이브러리
    // - Validation 기능
}`})})]})]})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"🗄️ JPA 데이터 접근 예시"}),a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:`// 1. Starter 의존성 추가 (Maven)
<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-data-jpa</artifactId>
</dependency>
<dependency>
    <groupId>com.h2database</groupId>
    <artifactId>h2</artifactId>
    <scope>runtime</scope>
</dependency>

// 2. 엔티티 정의
@Entity
@Table(name = "users")
public class User {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    @Column(nullable = false)
    private String name;

    @Column(unique = true)
    private String email;

    // constructors, getters, setters...
}

// 3. Repository 인터페이스 (구현체 자동 생성됨)
@Repository
public interface UserRepository extends JpaRepository<User, Long> {
    List<User> findByNameContaining(String name);
    Optional<User> findByEmail(String email);
}

// 4. Service 클래스
@Service
@Transactional
public class UserService {
    private final UserRepository userRepository;

    public UserService(UserRepository userRepository) {
        this.userRepository = userRepository;
    }

    public User createUser(String name, String email) {
        User user = new User(name, email);
        return userRepository.save(user);  // JPA가 자동으로 SQL 생성
    }

    public List<User> searchUsers(String keyword) {
        return userRepository.findByNameContaining(keyword);
    }
}

// 5. application.yml 설정 (최소한의 설정만 필요)
spring:
  datasource:
    url: jdbc:h2:mem:testdb
    driver-class-name: org.h2.Driver
  jpa:
    hibernate:
      ddl-auto: create-drop
    show-sql: true
  h2:
    console:
      enabled: true

# 결과:
# - EntityManager, TransactionManager 자동 설정
# - Repository 구현체 자동 생성
# - H2 콘솔 자동 활성화
# - SQL 쿼리 자동 생성 및 실행`})})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"🛠️ 커스텀 Starter 만들기"}),a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:`// 1. 커스텀 Starter 프로젝트 구조
my-custom-starter/
├── pom.xml
└── src/main/
    ├── java/com/mycompany/starter/
    │   ├── MyServiceAutoConfiguration.java
    │   ├── MyService.java
    │   └── MyServiceProperties.java
    └── resources/META-INF/
        └── spring.factories

// 2. Properties 설정 클래스
@ConfigurationProperties(prefix = "myservice")
@Data
public class MyServiceProperties {
    private boolean enabled = true;
    private String apiUrl = "https://api.example.com";
    private int timeout = 5000;
    private String apiKey;
}

// 3. 서비스 클래스
public class MyService {
    private final MyServiceProperties properties;

    public MyService(MyServiceProperties properties) {
        this.properties = properties;
    }

    public String callApi(String endpoint) {
        if (!properties.isEnabled()) {
            return "Service disabled";
        }

        // API 호출 로직
        return "API Response from: " + properties.getApiUrl() + endpoint;
    }
}

// 4. Auto-Configuration 클래스
@Configuration
@ConditionalOnProperty(prefix = "myservice", name = "enabled", havingValue = "true", matchIfMissing = true)
@EnableConfigurationProperties(MyServiceProperties.class)
public class MyServiceAutoConfiguration {

    @Bean
    @ConditionalOnMissingBean
    public MyService myService(MyServiceProperties properties) {
        return new MyService(properties);
    }
}

// 5. spring.factories 파일
org.springframework.boot.autoconfigure.EnableAutoConfiguration=\\
com.mycompany.starter.MyServiceAutoConfiguration

// 6. pom.xml (Starter 프로젝트)
<dependencies>
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-autoconfigure</artifactId>
    </dependency>
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-configuration-processor</artifactId>
        <optional>true</optional>
    </dependency>
</dependencies>

// 7. 사용하는 애플리케이션에서
<dependency>
    <groupId>com.mycompany</groupId>
    <artifactId>my-custom-starter</artifactId>
    <version>1.0.0</version>
</dependency>

// 8. application.yml
myservice:
  enabled: true
  api-url: https://custom-api.com
  timeout: 10000
  api-key: your-api-key-here`})})]})]}),a.jsxs("div",{id:"best-practices",className:"card",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"🏆 모범 사례"}),a.jsx("a",{href:"#table-of-contents",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:"↑ 목차로 가기"})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"✅ 권장사항"}),a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 space-y-3",children:[a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium text-green-900",children:"📦 Starter 선택 원칙"}),a.jsxs("ul",{className:"text-sm text-green-800 space-y-1 mt-1",children:[a.jsx("li",{children:"• 공식 Spring Boot Starter 우선 사용"}),a.jsx("li",{children:"• 최소한의 필요한 Starter만 추가"}),a.jsx("li",{children:"• 특정 기능별로 세분화된 Starter 선택"})]})]}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium text-green-900",children:"🔧 의존성 관리"}),a.jsxs("ul",{className:"text-sm text-green-800 space-y-1 mt-1",children:[a.jsx("li",{children:"• Spring Boot BOM 활용한 버전 관리"}),a.jsx("li",{children:"• 불필요한 의존성 명시적 제외"}),a.jsxs("li",{children:["• ",a.jsx("code",{children:"spring-boot-dependencies"})," 버전 정보 확인"]})]})]}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium text-green-900",children:"🏗️ 커스텀 Starter 개발"}),a.jsxs("ul",{className:"text-sm text-green-800 space-y-1 mt-1",children:[a.jsxs("li",{children:["• 명명 규칙: ",a.jsx("code",{children:"xxx-spring-boot-starter"})]}),a.jsx("li",{children:"• Auto-Configuration 분리 설계"}),a.jsx("li",{children:"• Properties 클래스로 설정 외부화"}),a.jsx("li",{children:"• 조건부 Bean 등록 활용"})]})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"❌ 주의사항"}),a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 space-y-3",children:[a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium text-red-900",children:"⚠️ 의존성 충돌"}),a.jsxs("ul",{className:"text-sm text-red-800 space-y-1 mt-1",children:[a.jsx("li",{children:"• 같은 기능의 여러 Starter 동시 사용 금지"}),a.jsx("li",{children:"• 버전 명시적 지정으로 인한 충돌 주의"}),a.jsx("li",{children:"• Transitive dependency 버전 충돌 확인"})]})]}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium text-red-900",children:"🔍 성능 고려사항"}),a.jsxs("ul",{className:"text-sm text-red-800 space-y-1 mt-1",children:[a.jsx("li",{children:"• 사용하지 않는 Starter 추가로 인한 무거운 애플리케이션"}),a.jsx("li",{children:"• 불필요한 Auto-Configuration 로딩 방지"}),a.jsx("li",{children:"• Classpath scanning 범위 최소화"})]})]}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium text-red-900",children:"📋 관리 문제"}),a.jsxs("ul",{className:"text-sm text-red-800 space-y-1 mt-1",children:[a.jsx("li",{children:"• 의존성 트리 복잡성으로 인한 디버깅 어려움"}),a.jsx("li",{children:"• 암묵적 의존성에 의한 예상치 못한 동작"}),a.jsx("li",{children:"• 버전 업그레이드 시 호환성 검증 필수"})]})]})]})]})]}),a.jsxs("div",{className:"mt-6",children:[a.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"💡 실제 사용 팁"}),a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:`// 의존성 제외 예시
<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-web</artifactId>
    <exclusions>
        <!-- 내장 Tomcat 대신 Jetty 사용 시 -->
        <exclusion>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-tomcat</artifactId>
        </exclusion>
    </exclusions>
</dependency>

<!-- Jetty로 교체 -->
<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-jetty</artifactId>
</dependency>

// 의존성 트리 확인 명령어
mvn dependency:tree
gradle dependencies

// 특정 Auto-Configuration 비활성화
@SpringBootApplication(exclude = {DataSourceAutoConfiguration.class})
public class MyApplication {
    public static void main(String[] args) {
        SpringApplication.run(MyApplication.class, args);
    }
}`})})})]})]}),a.jsxs("div",{id:"references",className:"card",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"📚 추가 참고 자료"}),a.jsx("a",{href:"#table-of-contents",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:"↑ 목차로 가기"})]}),a.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"📖 공식 문서"}),a.jsxs("ul",{className:"text-sm text-gray-700 space-y-2",children:[a.jsxs("li",{children:["• ",a.jsx("a",{href:"https://docs.spring.io/spring-boot/docs/current/reference/html/using.html#using.build-systems.starters",className:"text-blue-600 hover:text-blue-800",target:"_blank",rel:"noopener noreferrer",children:"Spring Boot Starters 공식 가이드"})]}),a.jsxs("li",{children:["• ",a.jsx("a",{href:"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.developing-auto-configuration",className:"text-blue-600 hover:text-blue-800",target:"_blank",rel:"noopener noreferrer",children:"커스텀 Starter 개발 가이드"})]}),a.jsxs("li",{children:["• ",a.jsx("a",{href:"https://docs.spring.io/spring-boot/docs/current/reference/html/appendix-dependency-versions.html",className:"text-blue-600 hover:text-blue-800",target:"_blank",rel:"noopener noreferrer",children:"의존성 버전 관리 문서"})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"🛠️ 개발 도구"}),a.jsxs("ul",{className:"text-sm text-gray-700 space-y-2",children:[a.jsxs("li",{children:["• ",a.jsx("a",{href:"https://start.spring.io/",className:"text-blue-600 hover:text-blue-800",target:"_blank",rel:"noopener noreferrer",children:"Spring Initializr"})," - 프로젝트 생성 도구"]}),a.jsxs("li",{children:["• ",a.jsx("code",{className:"bg-gray-200 px-2 py-1 rounded",children:"mvn dependency:tree"})," - Maven 의존성 트리 확인"]}),a.jsxs("li",{children:["• ",a.jsx("code",{className:"bg-gray-200 px-2 py-1 rounded",children:"gradle dependencies"})," - Gradle 의존성 확인"]}),a.jsx("li",{children:"• IDE 플러그인 (IntelliJ Spring Boot, VS Code Spring)"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"📋 전체 Starter 목록"}),a.jsxs("ul",{className:"text-sm text-gray-700 space-y-2",children:[a.jsxs("li",{children:["• ",a.jsx("a",{href:"https://docs.spring.io/spring-boot/docs/current/reference/html/using.html#using.build-systems.starters",className:"text-blue-600 hover:text-blue-800",target:"_blank",rel:"noopener noreferrer",children:"공식 Starter 전체 목록"})]}),a.jsxs("li",{children:["• ",a.jsx("a",{href:"https://github.com/spring-projects/spring-boot/tree/main/spring-boot-project/spring-boot-starters",className:"text-blue-600 hover:text-blue-800",target:"_blank",rel:"noopener noreferrer",children:"GitHub Starters 소스코드"})]}),a.jsx("li",{children:"• Spring Boot Release Notes - 새로운 Starter 정보"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"🎓 학습 자료"}),a.jsxs("ul",{className:"text-sm text-gray-700 space-y-2",children:[a.jsx("li",{children:"• Spring Boot 의존성 관리 모범 사례"}),a.jsx("li",{children:"• Starter vs Library 선택 가이드"}),a.jsx("li",{children:"• 마이크로서비스에서의 Starter 활용법"}),a.jsx("li",{children:"• 엔터프라이즈 환경에서의 커스텀 Starter 구축"})]})]})]})})]})]})]})}function A6(){return a.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[a.jsx("nav",{className:"mb-8",children:a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[a.jsx(Pe,{to:"/principles",className:"hover:text-blue-600",children:"핵심 원리"}),a.jsx("span",{children:"/"}),a.jsx("span",{className:"text-gray-900 font-medium",children:"AOP"})]})}),a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"🎯 관점 지향 프로그래밍 (AOP)"}),a.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Spring AOP를 통한 횡단 관심사 분리와 관점 지향 프로그래밍의 핵심 개념을 학습하세요."})]}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{id:"table-of-contents",className:"card bg-gray-50",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"📋 목차"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("a",{href:"#definition",className:"block text-blue-600 hover:text-blue-800",children:"1. 정의"}),a.jsx("a",{href:"#working-principle",className:"block text-blue-600 hover:text-blue-800",children:"2. 동작 원리"}),a.jsx("a",{href:"#benefits",className:"block text-blue-600 hover:text-blue-800",children:"3. 이점"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("a",{href:"#implementation",className:"block text-blue-600 hover:text-blue-800",children:"4. 구현 예시"}),a.jsx("a",{href:"#best-practices",className:"block text-blue-600 hover:text-blue-800",children:"5. 모범 사례"}),a.jsx("a",{href:"#references",className:"block text-blue-600 hover:text-blue-800",children:"6. 추가 참고 자료"})]})]})]}),a.jsxs("div",{id:"definition",className:"card",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"📖 정의"}),a.jsx("a",{href:"#table-of-contents",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:"↑ 목차로 가기"})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsxs("p",{className:"text-gray-700",children:[a.jsx("strong",{children:"AOP(Aspect-Oriented Programming)"}),"는 횡단 관심사(Cross-cutting Concerns)를 분리하여 코드의 모듈성을 높이는 프로그래밍 패러다임입니다. Spring AOP는 런타임에 프록시 기반으로 동작하며, 핵심 비즈니스 로직과 부가 기능(로깅, 트랜잭션, 보안 등)을 분리하여 코드의 가독성과 유지보수성을 향상시킵니다."]}),a.jsx("div",{className:"mt-4 bg-white rounded-lg p-3 border",children:a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx("strong",{children:"핵심 개념:"}),a.jsx("br",{}),"• ",a.jsx("strong",{children:"Aspect"}),": 횡단 관심사를 모듈화한 것",a.jsx("br",{}),"• ",a.jsx("strong",{children:"Join Point"}),": 프로그램 실행 중 특정 지점 (메서드 호출, 객체 생성 등)",a.jsx("br",{}),"• ",a.jsx("strong",{children:"Pointcut"}),": Join Point를 선택하는 표현식",a.jsx("br",{}),"• ",a.jsx("strong",{children:"Advice"}),": 특정 Join Point에서 실행되는 코드"]})})]})]}),a.jsxs("div",{id:"working-principle",className:"card",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-2xl font-semibent text-gray-900",children:"🎨 동작 원리"}),a.jsx("a",{href:"#table-of-contents",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:"↑ 목차로 가기"})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Spring AOP 프록시 동작 과정"}),a.jsx(Ve,{chart:`
                graph TD
                    A["클라이언트 요청"] --> B["Spring Container"]
                    B --> C{"AOP 적용 대상<br/>메서드 호출?"}

                    C -->|Yes| D["프록시 객체 생성<br/>(JDK Dynamic Proxy<br/>or CGLIB)"]
                    C -->|No| E["실제 객체 직접 호출"]

                    D --> F["Before Advice<br/>실행"]
                    F --> G["실제 메서드<br/>실행"]
                    G --> H{"예외 발생?"}

                    H -->|No| I["After Returning<br/>Advice 실행"]
                    H -->|Yes| J["After Throwing<br/>Advice 실행"]

                    I --> K["After Advice<br/>실행"]
                    J --> K
                    K --> L["Around Advice<br/>후처리"]

                    L --> M["결과 반환"]
                    E --> M

                    classDef client fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
                    classDef proxy fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px
                    classDef advice fill:#e8f5e8,stroke:#388e3c,stroke-width:2px
                    classDef result fill:#fff3e0,stroke:#f57c00,stroke-width:2px

                    class A,B client
                    class D,C proxy
                    class F,G,I,J,K,L advice
                    class M,E result
              `,className:"mb-6"})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"주요 AOP 개념"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-green-900 mb-3",children:"🎯 Advice 종류"}),a.jsxs("ul",{className:"text-sm text-green-800 space-y-1",children:[a.jsxs("li",{children:["• ",a.jsx("strong",{children:"@Before"})," - 메서드 실행 전"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"@After"})," - 메서드 실행 후 (항상)"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"@AfterReturning"})," - 정상 반환 후"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"@AfterThrowing"})," - 예외 발생 시"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"@Around"})," - 메서드 실행 전후"]})]})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-blue-900 mb-3",children:"📍 Pointcut 표현식"}),a.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[a.jsxs("li",{children:["• ",a.jsx("code",{children:"execution()"})," - 메서드 실행"]}),a.jsxs("li",{children:["• ",a.jsx("code",{children:"within()"})," - 특정 타입 내부"]}),a.jsxs("li",{children:["• ",a.jsx("code",{children:"args()"})," - 특정 인수 타입"]}),a.jsxs("li",{children:["• ",a.jsx("code",{children:"@annotation()"})," - 특정 어노테이션"]}),a.jsxs("li",{children:["• ",a.jsx("code",{children:"bean()"})," - 특정 빈 이름"]})]})]})]})]})]}),a.jsxs("div",{id:"benefits",className:"card",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"✨ 이점"}),a.jsx("a",{href:"#table-of-contents",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:"↑ 목차로 가기"})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-green-900 mb-3",children:"🔧 코드 품질 향상"}),a.jsxs("ul",{className:"text-sm text-green-800 space-y-2",children:[a.jsxs("li",{children:["• ",a.jsx("strong",{children:"관심사 분리"})," - 핵심 로직과 부가 기능 분리"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"코드 중복 제거"})," - 공통 관심사의 중앙 집중화"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"가독성 향상"})," - 비즈니스 로직에 집중 가능"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"재사용성"})," - Aspect의 다양한 클래스 적용"]})]})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-blue-900 mb-3",children:"🛠️ 유지보수성"}),a.jsxs("ul",{className:"text-sm text-blue-800 space-y-2",children:[a.jsxs("li",{children:["• ",a.jsx("strong",{children:"단일 책임 원칙"})," - 각 클래스의 명확한 역할"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"개방 폐쇄 원칙"})," - 기존 코드 변경 없이 기능 추가"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"느슨한 결합"})," - 핵심 로직과 부가 기능의 독립성"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"테스트 용이성"})," - 각 관심사별 독립적 테스트"]})]})]}),a.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-purple-900 mb-3",children:"⚡ 개발 효율성"}),a.jsxs("ul",{className:"text-sm text-purple-800 space-y-2",children:[a.jsxs("li",{children:["• ",a.jsx("strong",{children:"선언적 프로그래밍"})," - 어노테이션 기반 간단한 적용"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"반복 코드 최소화"})," - 횡단 관심사의 자동화"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"동적 적용"})," - 런타임에 유연한 기능 적용"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"비침투적"})," - 기존 코드 수정 없이 기능 추가"]})]})]}),a.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-orange-900 mb-3",children:"🏢 엔터프라이즈 기능"}),a.jsxs("ul",{className:"text-sm text-orange-800 space-y-2",children:[a.jsxs("li",{children:["• ",a.jsx("strong",{children:"트랜잭션 관리"})," - @Transactional 자동 처리"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"보안 검증"})," - 권한 체크 자동화"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"로깅 및 모니터링"})," - 실행 시간, 파라미터 추적"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"캐싱"})," - @Cacheable 투명한 캐시 처리"]})]})]})]})]}),a.jsxs("div",{id:"implementation",className:"card",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"💻 구현 예시"}),a.jsx("a",{href:"#table-of-contents",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:"↑ 목차로 가기"})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"📝 로깅 Aspect 구현"}),a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:`// 1. AOP 의존성 추가 (Maven)
<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-aop</artifactId>
</dependency>

// 2. Aspect 클래스 정의
@Aspect
@Component
@Slf4j
public class LoggingAspect {

    // 모든 서비스 클래스의 public 메서드에 적용
    @Pointcut("execution(* com.example.service..*(..))")
    public void serviceLayer() {}

    // 메서드 실행 전 로깅
    @Before("serviceLayer()")
    public void logMethodEntry(JoinPoint joinPoint) {
        String methodName = joinPoint.getSignature().getName();
        String className = joinPoint.getTarget().getClass().getSimpleName();
        Object[] args = joinPoint.getArgs();

        log.info("→ {}#{} 시작 - 파라미터: {}",
                className, methodName, Arrays.toString(args));
    }

    // 메서드 정상 완료 후 로깅
    @AfterReturning(pointcut = "serviceLayer()", returning = "result")
    public void logMethodExit(JoinPoint joinPoint, Object result) {
        String methodName = joinPoint.getSignature().getName();
        String className = joinPoint.getTarget().getClass().getSimpleName();

        log.info("← {}#{} 완료 - 반환값: {}",
                className, methodName, result);
    }

    // 예외 발생 시 로깅
    @AfterThrowing(pointcut = "serviceLayer()", throwing = "exception")
    public void logMethodException(JoinPoint joinPoint, Exception exception) {
        String methodName = joinPoint.getSignature().getName();
        String className = joinPoint.getTarget().getClass().getSimpleName();

        log.error("✗ {}#{} 예외 발생: {}",
                className, methodName, exception.getMessage());
    }
}

// 3. 메인 애플리케이션에서 AOP 활성화
@SpringBootApplication
@EnableAspectJAutoProxy  // AOP 활성화 (Spring Boot에서는 자동)
public class Application {
    public static void main(String[] args) {
        SpringApplication.run(Application.class, args);
    }
}

// 4. 테스트 대상 서비스
@Service
public class UserService {

    public User createUser(String name, String email) {
        // 비즈니스 로직에 집중 - 로깅은 AOP가 자동 처리
        User user = new User(name, email);

        // 유효성 검증
        if (name == null || name.trim().isEmpty()) {
            throw new IllegalArgumentException("이름은 필수입니다");
        }

        return userRepository.save(user);
    }
}

// 실행 결과 로그:
// INFO → UserService#createUser 시작 - 파라미터: [John Doe, john@example.com]
// INFO ← UserService#createUser 완료 - 반환값: User{id=1, name=John Doe}

// 예외 시 로그:
// INFO → UserService#createUser 시작 - 파라미터: [null, john@example.com]
// ERROR ✗ UserService#createUser 예외 발생: 이름은 필수입니다`})})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"⏱️ 실행 시간 측정 Aspect"}),a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:`// 1. 커스텀 어노테이션 정의
@Target(ElementType.METHOD)
@Retention(RetentionPolicy.RUNTIME)
public @interface TimeLog {
    String value() default "";  // 설명
}

// 2. 시간 측정 Aspect
@Aspect
@Component
@Slf4j
public class PerformanceAspect {

    @Around("@annotation(timeLog)")
    public Object measureExecutionTime(ProceedingJoinPoint joinPoint, TimeLog timeLog)
            throws Throwable {

        long startTime = System.currentTimeMillis();
        String methodName = joinPoint.getSignature().getName();
        String description = timeLog.value().isEmpty() ? methodName : timeLog.value();

        try {
            Object result = joinPoint.proceed();  // 실제 메서드 실행

            long executionTime = System.currentTimeMillis() - startTime;
            log.info("⏱️ [{}] 실행시간: {}ms", description, executionTime);

            // 성능 임계치 검사
            if (executionTime > 1000) {
                log.warn("🐌 [{}] 성능 주의: {}ms (1초 초과)", description, executionTime);
            }

            return result;

        } catch (Exception e) {
            long executionTime = System.currentTimeMillis() - startTime;
            log.error("❌ [{}] 실행시간: {}ms (예외 발생: {})",
                     description, executionTime, e.getMessage());
            throw e;
        }
    }
}

// 3. 사용 예시
@Service
public class DataService {

    @TimeLog("대용량 데이터 처리")
    public List<Data> processLargeDataset(List<RawData> rawData) {
        // 시간이 오래 걸리는 작업
        return rawData.stream()
                     .map(this::transformData)
                     .collect(Collectors.toList());
    }

    @TimeLog
    public Data findDataById(Long id) {
        return dataRepository.findById(id).orElse(null);
    }
}

// 실행 결과:
// INFO ⏱️ [대용량 데이터 처리] 실행시간: 1250ms
// WARN 🐌 [대용량 데이터 처리] 성능 주의: 1250ms (1초 초과)
// INFO ⏱️ [findDataById] 실행시간: 45ms`})})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"🔒 보안 및 트랜잭션 Aspect"}),a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:`// 1. 보안 검증 어노테이션
@Target(ElementType.METHOD)
@Retention(RetentionPolicy.RUNTIME)
public @interface RequireAuth {
    String role() default "USER";
}

// 2. 보안 Aspect
@Aspect
@Component
@Slf4j
public class SecurityAspect {

    @Autowired
    private AuthenticationService authService;

    @Before("@annotation(requireAuth)")
    public void checkAuthentication(JoinPoint joinPoint, RequireAuth requireAuth) {
        String requiredRole = requireAuth.role();
        String currentUser = authService.getCurrentUser();

        if (currentUser == null) {
            log.warn("🚫 인증되지 않은 사용자의 접근 시도: {}",
                    joinPoint.getSignature().getName());
            throw new UnauthorizedException("로그인이 필요합니다");
        }

        if (!authService.hasRole(currentUser, requiredRole)) {
            log.warn("🚫 권한 없음: {} (필요 권한: {})", currentUser, requiredRole);
            throw new ForbiddenException("권한이 부족합니다");
        }

        log.info("✅ 인증 성공: {} (권한: {})", currentUser, requiredRole);
    }
}

// 3. 캐시 Aspect (Spring Cache와 유사)
@Aspect
@Component
public class CacheAspect {

    private final Map<String, Object> cache = new ConcurrentHashMap<>();

    @Around("execution(* com.example.service..find*(..))")
    public Object cacheResult(ProceedingJoinPoint joinPoint) throws Throwable {
        // 캐시 키 생성
        String cacheKey = generateCacheKey(joinPoint);

        // 캐시에서 조회
        if (cache.containsKey(cacheKey)) {
            log.info("💾 캐시 히트: {}", cacheKey);
            return cache.get(cacheKey);
        }

        // 캐시 미스 - 실제 메서드 실행
        Object result = joinPoint.proceed();

        // 결과를 캐시에 저장
        cache.put(cacheKey, result);
        log.info("📝 캐시 저장: {}", cacheKey);

        return result;
    }

    private String generateCacheKey(ProceedingJoinPoint joinPoint) {
        return joinPoint.getSignature().getName() + "_" +
               Arrays.toString(joinPoint.getArgs());
    }
}

// 4. 실제 사용 예시
@Service
@Transactional  // Spring의 트랜잭션 AOP
public class OrderService {

    @RequireAuth(role = "ADMIN")
    public void cancelAllOrders() {
        // 관리자만 실행 가능한 위험한 작업
        orderRepository.deleteAll();
    }

    @RequireAuth(role = "USER")
    @TimeLog("주문 생성")
    public Order createOrder(OrderRequest request) {
        // 일반 사용자도 가능한 주문 생성
        // 트랜잭션, 인증, 시간측정이 모두 자동 적용됨
        Order order = new Order(request);
        return orderRepository.save(order);
    }
}

// 실행 결과:
// INFO ✅ 인증 성공: john@example.com (권한: USER)
// INFO ⏱️ [주문 생성] 실행시간: 234ms
// INFO 트랜잭션 커밋 완료`})})]})]}),a.jsxs("div",{id:"best-practices",className:"card",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"🏆 모범 사례"}),a.jsx("a",{href:"#table-of-contents",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:"↑ 목차로 가기"})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"✅ 권장사항"}),a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 space-y-3",children:[a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium text-green-900",children:"🎯 Pointcut 설계"}),a.jsxs("ul",{className:"text-sm text-green-800 space-y-1 mt-1",children:[a.jsx("li",{children:"• 명확하고 구체적인 Pointcut 표현식 사용"}),a.jsx("li",{children:"• 공통 Pointcut을 별도 클래스로 분리"}),a.jsx("li",{children:"• 성능을 고려한 효율적인 표현식 작성"}),a.jsx("li",{children:"• within() 보다는 execution() 선호"})]})]}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium text-green-900",children:"📝 Aspect 구현"}),a.jsxs("ul",{className:"text-sm text-green-800 space-y-1 mt-1",children:[a.jsx("li",{children:"• 단일 책임 원칙에 따른 Aspect 분리"}),a.jsx("li",{children:"• @Order로 Aspect 실행 순서 명시"}),a.jsx("li",{children:"• 예외 처리 및 로깅 포함"}),a.jsx("li",{children:"• 성능에 민감한 부분 주의"})]})]}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium text-green-900",children:"🏗️ 아키텍처"}),a.jsxs("ul",{className:"text-sm text-green-800 space-y-1 mt-1",children:[a.jsx("li",{children:"• 횡단 관심사만 AOP로 구현"}),a.jsx("li",{children:"• 비즈니스 로직은 AOP 사용 금지"}),a.jsx("li",{children:"• 테스트 가능한 구조 설계"}),a.jsx("li",{children:"• 문서화 및 주석 충실"})]})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"❌ 주의사항"}),a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 space-y-3",children:[a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium text-red-900",children:"⚠️ 성능 이슈"}),a.jsxs("ul",{className:"text-sm text-red-800 space-y-1 mt-1",children:[a.jsx("li",{children:"• 과도한 Pointcut 사용으로 인한 성능 저하"}),a.jsx("li",{children:"• 복잡한 Around Advice의 오버헤드"}),a.jsx("li",{children:"• 프록시 생성 비용 고려"}),a.jsx("li",{children:"• 빈번한 메서드 호출에 AOP 적용 주의"})]})]}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium text-red-900",children:"🐛 디버깅 어려움"}),a.jsxs("ul",{className:"text-sm text-red-800 space-y-1 mt-1",children:[a.jsx("li",{children:"• 런타임 위빙으로 인한 디버깅 복잡성"}),a.jsx("li",{children:"• 스택 트레이스의 프록시 정보 혼재"}),a.jsx("li",{children:"• IDE의 디버깅 도구 제한"}),a.jsx("li",{children:"• 예상치 못한 Aspect 적용"})]})]}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium text-red-900",children:"🔄 설계 문제"}),a.jsxs("ul",{className:"text-sm text-red-800 space-y-1 mt-1",children:[a.jsx("li",{children:"• self-invocation 문제 (같은 클래스 내 메서드 호출)"}),a.jsx("li",{children:"• final 메서드/클래스는 프록시 불가"}),a.jsx("li",{children:"• 의존성 순환 참조 가능성"}),a.jsx("li",{children:"• 과도한 AOP 사용으로 인한 복잡성 증가"})]})]})]})]})]}),a.jsxs("div",{className:"mt-6",children:[a.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"💡 실제 사용 팁"}),a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:`// 1. Pointcut 재사용을 위한 공통 클래스
@Component
public class CommonPointcuts {

    @Pointcut("execution(* com.example.service..*(..))")
    public void serviceLayer() {}

    @Pointcut("execution(* com.example.repository..*(..))")
    public void repositoryLayer() {}

    @Pointcut("@annotation(org.springframework.web.bind.annotation.GetMapping)")
    public void getMapping() {}
}

// 2. 다른 Aspect에서 재사용
@Aspect
@Component
public class AuditAspect {

    @AfterReturning("CommonPointcuts.serviceLayer()")
    public void auditServiceCall(JoinPoint joinPoint) {
        // 감사 로그 기록
    }
}

// 3. Aspect 실행 순서 제어
@Aspect
@Component
@Order(1)  // 먼저 실행
public class SecurityAspect { }

@Aspect
@Component
@Order(2)  // 나중에 실행
public class LoggingAspect { }

// 4. 조건부 Aspect 적용
@ConditionalOnProperty(name = "app.aop.logging.enabled", havingValue = "true")
@Aspect
@Component
public class ConditionalLoggingAspect { }

// 5. 프로파일별 Aspect
@Profile("!production")  // 운영 환경 제외
@Aspect
@Component
public class DebugAspect { }`})})})]})]}),a.jsxs("div",{id:"references",className:"card",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"📚 추가 참고 자료"}),a.jsx("a",{href:"#table-of-contents",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:"↑ 목차로 가기"})]}),a.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"📖 공식 문서"}),a.jsxs("ul",{className:"text-sm text-gray-700 space-y-2",children:[a.jsxs("li",{children:["• ",a.jsx("a",{href:"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#aop",className:"text-blue-600 hover:text-blue-800",target:"_blank",rel:"noopener noreferrer",children:"Spring AOP 공식 가이드"})]}),a.jsxs("li",{children:["• ",a.jsx("a",{href:"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#aop-pointcuts",className:"text-blue-600 hover:text-blue-800",target:"_blank",rel:"noopener noreferrer",children:"Pointcut 표현식 문서"})]}),a.jsxs("li",{children:["• ",a.jsx("a",{href:"https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-aop",className:"text-blue-600 hover:text-blue-800",target:"_blank",rel:"noopener noreferrer",children:"Spring Boot AOP 설정"})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"🛠️ 개발 도구"}),a.jsxs("ul",{className:"text-sm text-gray-700 space-y-2",children:[a.jsxs("li",{children:["• Spring Boot Actuator - ",a.jsx("code",{children:"/beans"})," 엔드포인트로 프록시 확인"]}),a.jsx("li",{children:"• AspectJ Weaver - 컴파일타임 위빙"}),a.jsxs("li",{children:["• ",a.jsx("code",{children:"@EnableAspectJAutoProxy(exposeProxy = true)"})," - Self-invocation 해결"]}),a.jsx("li",{children:"• IDE 플러그인: Spring AOP 시각화 도구"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"🎓 심화 학습"}),a.jsxs("ul",{className:"text-sm text-gray-700 space-y-2",children:[a.jsx("li",{children:"• AspectJ vs Spring AOP 차이점"}),a.jsx("li",{children:"• 컴파일타임 vs 런타임 위빙"}),a.jsx("li",{children:"• JDK Dynamic Proxy vs CGLIB"}),a.jsx("li",{children:"• 마이크로서비스에서의 AOP 활용"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"🔍 디버깅 도구"}),a.jsxs("ul",{className:"text-sm text-gray-700 space-y-2",children:[a.jsxs("li",{children:["• ",a.jsx("code",{children:"logging.level.org.springframework.aop=DEBUG"})]}),a.jsxs("li",{children:["• ",a.jsx("code",{children:"@EnableAspectJAutoProxy(proxyTargetClass = true)"})]}),a.jsx("li",{children:"• Spring Boot DevTools AOP 지원"}),a.jsx("li",{children:"• JConsole을 통한 프록시 객체 모니터링"})]})]})]})})]})]})]})}function R6(){return a.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[a.jsx("nav",{className:"mb-8",children:a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[a.jsx(Pe,{to:"/principles",className:"hover:text-blue-600",children:"핵심 원리"}),a.jsx("span",{children:"/"}),a.jsx("span",{className:"text-gray-900 font-medium",children:"조건부 설정"})]})}),a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"⚙️ 조건부 설정 (Conditional Configuration)"}),a.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Conditional 어노테이션을 활용한 유연한 설정 시스템으로 환경별 맞춤형 애플리케이션을 구성하세요."})]}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{id:"table-of-contents",className:"card bg-gray-50",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"📋 목차"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("a",{href:"#definition",className:"block text-blue-600 hover:text-blue-800",children:"1. 정의"}),a.jsx("a",{href:"#working-principle",className:"block text-blue-600 hover:text-blue-800",children:"2. 동작 원리"}),a.jsx("a",{href:"#benefits",className:"block text-blue-600 hover:text-blue-800",children:"3. 이점"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("a",{href:"#implementation",className:"block text-blue-600 hover:text-blue-800",children:"4. 구현 예시"}),a.jsx("a",{href:"#best-practices",className:"block text-blue-600 hover:text-blue-800",children:"5. 모범 사례"}),a.jsx("a",{href:"#references",className:"block text-blue-600 hover:text-blue-800",children:"6. 추가 참고 자료"})]})]})]}),a.jsxs("div",{id:"definition",className:"card",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"📖 정의"}),a.jsx("a",{href:"#table-of-contents",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:"↑ 목차로 가기"})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsxs("p",{className:"text-gray-700",children:[a.jsx("strong",{children:"조건부 설정(Conditional Configuration)"}),"은 특정 조건이 만족될 때만 Bean을 생성하거나 설정을 활성화하는 Spring Boot의 핵심 메커니즘입니다. 이를 통해 환경별 설정, 라이브러리 존재 여부, 사용자 정의 조건 등에 따라 유연하게 애플리케이션을 구성할 수 있습니다."]}),a.jsx("div",{className:"mt-4 bg-white rounded-lg p-3 border",children:a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx("strong",{children:"핵심 개념:"}),a.jsx("br",{}),"• ",a.jsx("strong",{children:"@Conditional"}),": 기본 조건부 어노테이션",a.jsx("br",{}),"• ",a.jsx("strong",{children:"Condition"}),": 조건 평가 로직을 구현하는 인터페이스",a.jsx("br",{}),"• ",a.jsx("strong",{children:"ConfigurationCondition"}),": 설정 단계별 조건 평가",a.jsx("br",{}),"• ",a.jsx("strong",{children:"@ConditionalOnXxx"}),": Spring Boot 제공 조건부 어노테이션들"]})})]})]}),a.jsxs("div",{id:"working-principle",className:"card",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"🎨 동작 원리"}),a.jsx("a",{href:"#table-of-contents",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:"↑ 목차로 가기"})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"조건부 설정 평가 과정"}),a.jsx(Ve,{chart:`
                graph TD
                    A["Spring Boot 시작"] --> B["Configuration 클래스 스캔"]
                    B --> C["@Conditional 어노테이션 발견"]

                    C --> D["Condition 인터페이스 구현체 실행"]
                    D --> E["ConditionContext 제공"]
                    E --> F["Environment, ClassLoader,<br/>BeanRegistry 등 접근"]

                    F --> G{"조건 평가 결과"}
                    G -->|true| H["Bean 등록 진행"]
                    G -->|false| I["Bean 등록 스킵"]

                    H --> J["ConfigurationCondition<br/>단계별 평가"]
                    J --> K{"PARSE_CONFIGURATION<br/>단계 통과?"}
                    K -->|Yes| L{"REGISTER_BEAN<br/>단계 통과?"}
                    K -->|No| M["Configuration 파싱 스킵"]

                    L -->|Yes| N["Bean 생성 및 등록"]
                    L -->|No| O["Bean 등록만 스킵"]

                    I --> P["조건 미충족으로<br/>기능 비활성화"]
                    M --> P
                    O --> P
                    N --> Q["조건부 설정 완료"]

                    classDef start fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
                    classDef condition fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px
                    classDef decision fill:#fff3e0,stroke:#ef6c00,stroke-width:2px
                    classDef result fill:#e8f5e8,stroke:#388e3c,stroke-width:2px

                    class A,B start
                    class C,D,E,F,J condition
                    class G,K,L decision
                    class N,Q,P result
              `,className:"mb-6"})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"주요 Conditional 어노테이션"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-green-900 mb-3",children:"🏗️ 클래스 & Bean 조건"}),a.jsxs("ul",{className:"text-sm text-green-800 space-y-1",children:[a.jsxs("li",{children:["• ",a.jsx("code",{children:"@ConditionalOnClass"})," - 클래스 존재 시"]}),a.jsxs("li",{children:["• ",a.jsx("code",{children:"@ConditionalOnMissingClass"})," - 클래스 부재 시"]}),a.jsxs("li",{children:["• ",a.jsx("code",{children:"@ConditionalOnBean"})," - Bean 존재 시"]}),a.jsxs("li",{children:["• ",a.jsx("code",{children:"@ConditionalOnMissingBean"})," - Bean 부재 시"]})]})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-blue-900 mb-3",children:"⚙️ 속성 & 환경 조건"}),a.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[a.jsxs("li",{children:["• ",a.jsx("code",{children:"@ConditionalOnProperty"})," - 속성값 조건"]}),a.jsxs("li",{children:["• ",a.jsx("code",{children:"@Profile"})," - 프로파일 조건"]}),a.jsxs("li",{children:["• ",a.jsx("code",{children:"@ConditionalOnExpression"})," - SpEL 표현식"]}),a.jsxs("li",{children:["• ",a.jsx("code",{children:"@ConditionalOnJava"})," - Java 버전"]})]})]}),a.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-purple-900 mb-3",children:"🌐 웹 & 리소스 조건"}),a.jsxs("ul",{className:"text-sm text-purple-800 space-y-1",children:[a.jsxs("li",{children:["• ",a.jsx("code",{children:"@ConditionalOnWebApplication"})," - 웹 애플리케이션"]}),a.jsxs("li",{children:["• ",a.jsx("code",{children:"@ConditionalOnNotWebApplication"})," - 비웹 애플리케이션"]}),a.jsxs("li",{children:["• ",a.jsx("code",{children:"@ConditionalOnResource"})," - 리소스 존재"]}),a.jsxs("li",{children:["• ",a.jsx("code",{children:"@ConditionalOnJndi"})," - JNDI 사용 가능"]})]})]}),a.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-orange-900 mb-3",children:"🛢️ 기타 조건"}),a.jsxs("ul",{className:"text-sm text-orange-800 space-y-1",children:[a.jsxs("li",{children:["• ",a.jsx("code",{children:"@ConditionalOnSingleCandidate"})," - 단일 후보"]}),a.jsxs("li",{children:["• ",a.jsx("code",{children:"@ConditionalOnCloudPlatform"})," - 클라우드 플랫폼"]}),a.jsx("li",{children:"• 커스텀 Condition 구현 가능"})]})]})]})]})]}),a.jsxs("div",{id:"benefits",className:"card",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"✨ 이점"}),a.jsx("a",{href:"#table-of-contents",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:"↑ 목차로 가기"})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-green-900 mb-3",children:"🔧 환경별 유연성"}),a.jsxs("ul",{className:"text-sm text-green-800 space-y-2",children:[a.jsxs("li",{children:["• ",a.jsx("strong",{children:"환경별 설정"})," - 개발/테스트/운영 환경 자동 구성"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"기능 토글"})," - 속성 값으로 기능 on/off"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"라이브러리 호환"})," - 클래스패스 기반 자동 설정"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"점진적 배포"})," - Feature Flag 패턴 구현"]})]})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-blue-900 mb-3",children:"🏗️ 아키텍처 유연성"}),a.jsxs("ul",{className:"text-sm text-blue-800 space-y-2",children:[a.jsxs("li",{children:["• ",a.jsx("strong",{children:"모듈형 설계"})," - 조건별 독립적 컴포넌트"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"의존성 관리"})," - 선택적 의존성 활성화"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"설정 분리"})," - 환경별 설정 클래스 분리"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"확장성"})," - 새로운 조건 쉽게 추가"]})]})]}),a.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-purple-900 mb-3",children:"⚡ 성능 최적화"}),a.jsxs("ul",{className:"text-sm text-purple-800 space-y-2",children:[a.jsxs("li",{children:["• ",a.jsx("strong",{children:"지연 로딩"})," - 필요시에만 Bean 생성"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"메모리 절약"})," - 불필요한 객체 생성 방지"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"시작 시간 단축"})," - 조건 미충족 Bean 생성 스킵"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"리소스 효율"})," - 사용하지 않는 기능 비활성화"]})]})]}),a.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-orange-900 mb-3",children:"🛡️ 안정성"}),a.jsxs("ul",{className:"text-sm text-orange-800 space-y-2",children:[a.jsxs("li",{children:["• ",a.jsx("strong",{children:"충돌 방지"})," - 조건부 Bean 등록으로 충돌 회피"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"우아한 실패"})," - 조건 미충족시 대안 제공"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"환경 격리"})," - 환경별 독립적 동작"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"테스트 용이"})," - 테스트 환경별 설정 분리"]})]})]})]})]}),a.jsxs("div",{id:"implementation",className:"card",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"💻 구현 예시"}),a.jsx("a",{href:"#table-of-contents",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:"↑ 목차로 가기"})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"🔧 기본 조건부 설정"}),a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:`// 1. 속성 기반 조건부 설정
@Configuration
public class CacheConfiguration {

    // Redis가 활성화된 경우만 Redis 캐시 매니저 생성
    @Bean
    @ConditionalOnProperty(
        prefix = "app.cache",
        name = "type",
        havingValue = "redis",
        matchIfMissing = false  // 속성이 없으면 false
    )
    public CacheManager redisCacheManager() {
        return RedisCacheManager.builder()
                               .connectionFactory(redisConnectionFactory())
                               .build();
    }

    // 인메모리 캐시를 기본값으로 사용
    @Bean
    @ConditionalOnProperty(
        prefix = "app.cache",
        name = "type",
        havingValue = "memory",
        matchIfMissing = true   // 속성이 없으면 true (기본값)
    )
    public CacheManager memoryCacheManager() {
        return new ConcurrentMapCacheManager("default");
    }

    // Redis 라이브러리가 클래스패스에 있을 때만 연결 팩토리 생성
    @Bean
    @ConditionalOnClass(RedisConnectionFactory.class)
    @ConditionalOnProperty(prefix = "app.cache", name = "type", havingValue = "redis")
    public RedisConnectionFactory redisConnectionFactory() {
        LettuceConnectionFactory factory = new LettuceConnectionFactory();
        factory.setHostName("localhost");
        factory.setPort(6379);
        return factory;
    }
}

// application.yml 설정 예시
app:
  cache:
    type: redis    # redis, memory 중 선택
    redis:
      host: localhost
      port: 6379

# 개발 환경 (application-dev.yml)
app:
  cache:
    type: memory   # 개발시 간단한 메모리 캐시 사용

# 운영 환경 (application-prod.yml)
app:
  cache:
    type: redis    # 운영시 Redis 캐시 사용`})})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"🏷️ 프로파일 기반 조건부 설정"}),a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:`// 1. 환경별 데이터베이스 설정
@Configuration
public class DatabaseConfiguration {

    // 개발 환경: H2 인메모리 데이터베이스
    @Profile("dev")
    @Configuration
    static class DevDatabaseConfig {

        @Bean
        @Primary
        public DataSource devDataSource() {
            return new EmbeddedDatabaseBuilder()
                    .setType(EmbeddedDatabaseType.H2)
                    .addScript("classpath:schema.sql")
                    .addScript("classpath:data.sql")
                    .build();
        }

        @Bean
        public PlatformTransactionManager devTransactionManager(DataSource dataSource) {
            return new DataSourceTransactionManager(dataSource);
        }
    }

    // 테스트 환경: 테스트 전용 설정
    @Profile("test")
    @Configuration
    static class TestDatabaseConfig {

        @Bean
        @Primary
        public DataSource testDataSource() {
            HikariConfig config = new HikariConfig();
            config.setJdbcUrl("jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1");
            config.setUsername("sa");
            config.setPassword("");
            return new HikariDataSource(config);
        }
    }

    // 운영 환경: PostgreSQL 데이터베이스
    @Profile("prod")
    @Configuration
    static class ProdDatabaseConfig {

        @Bean
        @Primary
        @ConditionalOnProperty("spring.datasource.url")
        public DataSource prodDataSource() {
            HikariConfig config = new HikariConfig();
            config.setJdbcUrl(environment.getProperty("spring.datasource.url"));
            config.setUsername(environment.getProperty("spring.datasource.username"));
            config.setPassword(environment.getProperty("spring.datasource.password"));
            config.setMaximumPoolSize(20);
            return new HikariDataSource(config);
        }
    }
}

// 2. 로깅 설정
@Configuration
public class LoggingConfiguration {

    // 로컬 개발시: 콘솔 로깅
    @Profile({"dev", "test"})
    @Bean
    public LoggingAspect developmentLoggingAspect() {
        return new ConsoleLoggingAspect();
    }

    // 운영환경: 파일 + 원격 로깅
    @Profile("prod")
    @Bean
    @ConditionalOnProperty(
        prefix = "app.logging",
        name = "remote.enabled",
        havingValue = "true"
    )
    public LoggingAspect productionLoggingAspect() {
        return new RemoteLoggingAspect();
    }
}

// 3. 보안 설정
@Configuration
@EnableWebSecurity
public class SecurityConfiguration {

    // 개발환경: 보안 비활성화
    @Profile("dev")
    @Configuration
    static class DevSecurityConfig {

        @Bean
        public SecurityFilterChain devFilterChain(HttpSecurity http) throws Exception {
            return http.csrf().disable()
                      .authorizeHttpRequests(auth -> auth.anyRequest().permitAll())
                      .build();
        }
    }

    // 운영환경: 강화된 보안
    @Profile("prod")
    @Configuration
    static class ProdSecurityConfig {

        @Bean
        public SecurityFilterChain prodFilterChain(HttpSecurity http) throws Exception {
            return http.authorizeHttpRequests(auth ->
                        auth.requestMatchers("/public/**").permitAll()
                           .anyRequest().authenticated())
                      .oauth2Login()
                      .sessionManagement(session ->
                        session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))
                      .build();
        }
    }
}`})})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"🛠️ 커스텀 조건 구현"}),a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:`// 1. 커스텀 Condition 인터페이스 구현
public class DatabaseAvailableCondition implements Condition {

    @Override
    public boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) {
        Environment env = context.getEnvironment();
        String url = env.getProperty("spring.datasource.url");

        if (url == null) {
            return false;
        }

        // 데이터베이스 연결 테스트
        try (Connection connection = DriverManager.getConnection(url,
                env.getProperty("spring.datasource.username"),
                env.getProperty("spring.datasource.password"))) {

            return connection.isValid(5); // 5초 타임아웃

        } catch (SQLException e) {
            return false;
        }
    }
}

// 2. 커스텀 조건 어노테이션 생성
@Target({ElementType.TYPE, ElementType.METHOD})
@Retention(RetentionPolicy.RUNTIME)
@Conditional(DatabaseAvailableCondition.class)
public @interface ConditionalOnDatabaseAvailable {
}

// 3. 복합 조건 구현
public class CloudPlatformCondition implements Condition {

    @Override
    public boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) {
        Environment env = context.getEnvironment();

        // AWS 환경 감지
        boolean isAWS = env.getProperty("AWS_REGION") != null ||
                       env.getProperty("aws.region") != null;

        // Google Cloud 환경 감지
        boolean isGCP = env.getProperty("GOOGLE_CLOUD_PROJECT") != null ||
                       env.getProperty("gcp.project") != null;

        // Azure 환경 감지
        boolean isAzure = env.getProperty("AZURE_SUBSCRIPTION_ID") != null ||
                         env.getProperty("azure.subscription") != null;

        return isAWS || isGCP || isAzure;
    }
}

// 4. 조건 조합 사용
@Configuration
@ConditionalOnCloudPlatform(CloudPlatform.CLOUD_FOUNDRY)
public class CloudConfiguration {

    @Bean
    @ConditionalOnDatabaseAvailable
    @ConditionalOnProperty("app.features.advanced-monitoring")
    public MonitoringService cloudMonitoringService() {
        return new CloudMonitoringService();
    }

    @Bean
    @ConditionalOnMissingBean(MonitoringService.class)  // 위 Bean이 없으면 기본값
    public MonitoringService basicMonitoringService() {
        return new BasicMonitoringService();
    }
}

// 5. SpEL 기반 복잡한 조건
@Configuration
public class AdvancedConfiguration {

    // SpEL 표현식으로 복잡한 조건 표현
    @Bean
    @ConditionalOnExpression(
        "#{environment['app.mode'] == 'advanced' and " +
        "environment['app.features.ai'] == 'true' and " +
        "T(java.lang.Runtime).getRuntime().maxMemory() > 1024 * 1024 * 1024}"
    )
    public AIService aiService() {
        return new AIService();
    }

    // Java 버전 기반 조건
    @Bean
    @ConditionalOnJava(JavaVersion.SEVENTEEN)
    public ModernJavaFeatureService modernJavaService() {
        return new ModernJavaFeatureService();
    }

    // 리소스 존재 기반 조건
    @Bean
    @ConditionalOnResource("classpath:config/feature-flags.yml")
    public FeatureFlagService featureFlagService() {
        return new YamlFeatureFlagService();
    }
}

// 6. 실행 시간 조건부 Bean 생성
@Component
public class RuntimeConditionalService {

    @EventListener
    @ConditionalOnProperty("app.dynamic.config.enabled")
    public void onApplicationStarted(ApplicationStartedEvent event) {
        // 런타임에 외부 API 호출하여 기능 활성화 여부 결정
        boolean featureEnabled = checkExternalAPI();

        if (featureEnabled) {
            // 동적으로 Bean 등록
            ConfigurableApplicationContext context = event.getApplicationContext();
            GenericBeanDefinition beanDefinition = new GenericBeanDefinition();
            beanDefinition.setBeanClass(DynamicFeatureService.class);

            DefaultListableBeanFactory beanFactory =
                (DefaultListableBeanFactory) context.getBeanFactory();
            beanFactory.registerBeanDefinition("dynamicFeatureService", beanDefinition);
        }
    }

    private boolean checkExternalAPI() {
        // 외부 API 호출 로직
        return true;
    }
}`})})]})]}),a.jsxs("div",{id:"best-practices",className:"card",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"🏆 모범 사례"}),a.jsx("a",{href:"#table-of-contents",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:"↑ 목차로 가기"})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"✅ 권장사항"}),a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 space-y-3",children:[a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium text-green-900",children:"🎯 조건 설계"}),a.jsxs("ul",{className:"text-sm text-green-800 space-y-1 mt-1",children:[a.jsx("li",{children:"• 단순하고 명확한 조건 표현식 사용"}),a.jsx("li",{children:"• 기본값 제공으로 graceful fallback 구현"}),a.jsxs("li",{children:["• ",a.jsx("code",{children:"matchIfMissing"})," 속성 적절히 활용"]}),a.jsx("li",{children:"• 조건 평가 순서 고려한 설계"})]})]}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium text-green-900",children:"📝 설정 관리"}),a.jsxs("ul",{className:"text-sm text-green-800 space-y-1 mt-1",children:[a.jsx("li",{children:"• 환경별 설정 파일 명확히 분리"}),a.jsx("li",{children:"• Properties 클래스로 타입 안전성 확보"}),a.jsx("li",{children:"• 설정 검증 로직 포함"}),a.jsx("li",{children:"• 문서화된 설정 속성 제공"})]})]}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium text-green-900",children:"🏗️ 아키텍처"}),a.jsxs("ul",{className:"text-sm text-green-800 space-y-1 mt-1",children:[a.jsx("li",{children:"• 조건부 설정 클래스를 별도 패키지로 분리"}),a.jsx("li",{children:"• 공통 조건을 재사용 가능한 컴포넌트로 추상화"}),a.jsx("li",{children:"• 테스트 프로파일에서 조건 동작 검증"}),a.jsx("li",{children:"• Auto-Configuration과 조건부 설정 조화"})]})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"❌ 주의사항"}),a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 space-y-3",children:[a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium text-red-900",children:"⚠️ 복잡성 관리"}),a.jsxs("ul",{className:"text-sm text-red-800 space-y-1 mt-1",children:[a.jsx("li",{children:"• 과도하게 복잡한 조건 표현식 지양"}),a.jsx("li",{children:"• 중첩된 조건부 설정으로 인한 혼란 방지"}),a.jsx("li",{children:"• SpEL 표현식의 성능 영향 고려"}),a.jsx("li",{children:"• 조건 평가 실패 시 적절한 오류 메시지 제공"})]})]}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium text-red-900",children:"🐛 디버깅 이슈"}),a.jsxs("ul",{className:"text-sm text-red-800 space-y-1 mt-1",children:[a.jsx("li",{children:"• 조건 미충족으로 인한 Bean 누락 추적 어려움"}),a.jsx("li",{children:"• 런타임 환경과 테스트 환경의 조건 차이"}),a.jsx("li",{children:"• 조건 평가 순서에 따른 예상치 못한 동작"}),a.jsx("li",{children:"• IDE에서 조건부 Bean 의존성 추적 한계"})]})]}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium text-red-900",children:"🔄 운영 문제"}),a.jsxs("ul",{className:"text-sm text-red-800 space-y-1 mt-1",children:[a.jsx("li",{children:"• 환경별 설정 불일치로 인한 배포 실패"}),a.jsx("li",{children:"• 동적 조건 변경 시 애플리케이션 재시작 필요"}),a.jsx("li",{children:"• 외부 시스템 의존 조건의 안정성 이슈"}),a.jsx("li",{children:"• 조건 충족 여부 모니터링 부족"})]})]})]})]})]}),a.jsxs("div",{className:"mt-6",children:[a.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"💡 디버깅 및 모니터링"}),a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:`// 1. 조건 평가 결과 로깅
@Component
@Slf4j
public class ConditionalEvaluationLogger {

    @EventListener
    public void onApplicationStarted(ApplicationStartedEvent event) {
        ConditionEvaluationReport report = ConditionEvaluationReport
            .get(event.getApplicationContext().getBeanFactory());

        // 조건 평가 결과 출력
        report.getConditionAndOutcomesBySource().forEach((source, conditions) -> {
            conditions.forEach(conditionAndOutcome -> {
                log.info("조건 평가: {} -> {}",
                    source, conditionAndOutcome.getOutcome());
            });
        });
    }
}

// 2. application.yml 디버그 설정
logging:
  level:
    org.springframework.boot.autoconfigure: DEBUG
    org.springframework.context.annotation: DEBUG

# 3. Actuator를 통한 조건 확인
management:
  endpoints:
    web:
      exposure:
        include: conditions
  endpoint:
    conditions:
      enabled: true

# 4. JVM 시스템 속성으로 조건 제어
java -jar myapp.jar \\
  -Dspring.profiles.active=prod \\
  -Dapp.cache.type=redis \\
  -Dapp.features.advanced=true

# 5. 환경 변수로 조건 제어
export SPRING_PROFILES_ACTIVE=prod
export APP_CACHE_TYPE=redis
export APP_FEATURES_ADVANCED=true`})})})]})]}),a.jsxs("div",{id:"references",className:"card",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"📚 추가 참고 자료"}),a.jsx("a",{href:"#table-of-contents",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:"↑ 목차로 가기"})]}),a.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"📖 공식 문서"}),a.jsxs("ul",{className:"text-sm text-gray-700 space-y-2",children:[a.jsxs("li",{children:["• ",a.jsx("a",{href:"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.condition-annotations",className:"text-blue-600 hover:text-blue-800",target:"_blank",rel:"noopener noreferrer",children:"Spring Boot Condition Annotations"})]}),a.jsxs("li",{children:["• ",a.jsx("a",{href:"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-java-conditional",className:"text-blue-600 hover:text-blue-800",target:"_blank",rel:"noopener noreferrer",children:"Spring Framework @Conditional"})]}),a.jsxs("li",{children:["• ",a.jsx("a",{href:"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.profiles",className:"text-blue-600 hover:text-blue-800",target:"_blank",rel:"noopener noreferrer",children:"Spring Profiles 가이드"})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"🛠️ 개발 도구"}),a.jsxs("ul",{className:"text-sm text-gray-700 space-y-2",children:[a.jsxs("li",{children:["• Spring Boot Actuator - ",a.jsx("code",{children:"/conditions"})," 엔드포인트"]}),a.jsxs("li",{children:["• ",a.jsx("code",{children:"--debug"})," 플래그 - 조건 평가 상세 로그"]}),a.jsxs("li",{children:["• ",a.jsx("code",{children:"ConditionEvaluationReport"})," - 프로그래밍 방식 조건 확인"]}),a.jsx("li",{children:"• IDE 플러그인: 조건부 Bean 시각화"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"🎓 심화 학습"}),a.jsxs("ul",{className:"text-sm text-gray-700 space-y-2",children:[a.jsx("li",{children:"• Feature Flag 패턴과 조건부 설정"}),a.jsx("li",{children:"• 마이크로서비스 환경에서의 조건부 설정"}),a.jsx("li",{children:"• Cloud Config와 조건부 설정 연동"}),a.jsx("li",{children:"• 컨테이너 환경에서의 동적 설정 관리"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"🔧 실무 활용"}),a.jsxs("ul",{className:"text-sm text-gray-700 space-y-2",children:[a.jsx("li",{children:"• A/B 테스트를 위한 조건부 설정"}),a.jsx("li",{children:"• 멀티 테넌시 환경에서의 조건부 설정"}),a.jsx("li",{children:"• 레거시 시스템 마이그레이션 시 조건부 설정"}),a.jsx("li",{children:"• 성능 최적화를 위한 조건부 Bean 로딩"})]})]})]})})]})]})]})}function L6(){return a.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[a.jsx("nav",{className:"mb-8",children:a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[a.jsx(Pe,{to:"/principles",className:"hover:text-blue-600",children:"핵심 원리"}),a.jsx("span",{children:"/"}),a.jsx("span",{className:"text-gray-900 font-medium",children:"액추에이터"})]})}),a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"📊 액추에이터 (Spring Boot Actuator)"}),a.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Spring Boot Actuator를 통한 애플리케이션 모니터링, 관리, 그리고 운영 환경에서의 가시성 확보 방법을 학습하세요."})]}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{id:"table-of-contents",className:"card bg-gray-50",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"📋 목차"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("a",{href:"#definition",className:"block text-blue-600 hover:text-blue-800",children:"1. 정의"}),a.jsx("a",{href:"#working-principle",className:"block text-blue-600 hover:text-blue-800",children:"2. 동작 원리"}),a.jsx("a",{href:"#benefits",className:"block text-blue-600 hover:text-blue-800",children:"3. 이점"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("a",{href:"#implementation",className:"block text-blue-600 hover:text-blue-800",children:"4. 구현 예시"}),a.jsx("a",{href:"#best-practices",className:"block text-blue-600 hover:text-blue-800",children:"5. 모범 사례"}),a.jsx("a",{href:"#references",className:"block text-blue-600 hover:text-blue-800",children:"6. 추가 참고 자료"})]})]})]}),a.jsxs("div",{id:"definition",className:"card",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"📖 정의"}),a.jsx("a",{href:"#table-of-contents",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:"↑ 목차로 가기"})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsxs("p",{className:"text-gray-700",children:[a.jsx("strong",{children:"Spring Boot Actuator"}),"는 운영 중인 애플리케이션을 모니터링하고 관리하기 위한 프로덕션 레디(Production-ready) 기능들을 제공하는 라이브러리입니다. HTTP 엔드포인트와 JMX를 통해 애플리케이션의 상태, 메트릭스, 환경 정보 등을 외부에서 확인하고 관리할 수 있게 해줍니다."]}),a.jsx("div",{className:"mt-4 bg-white rounded-lg p-3 border",children:a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx("strong",{children:"핵심 기능:"}),a.jsx("br",{}),"• ",a.jsx("strong",{children:"Health Checks"}),": 애플리케이션 및 의존 서비스 상태 확인",a.jsx("br",{}),"• ",a.jsx("strong",{children:"Metrics"}),": 성능, 사용량, 오류율 등 다양한 메트릭 수집",a.jsx("br",{}),"• ",a.jsx("strong",{children:"Environment Info"}),": 설정, 환경 변수, 시스템 정보 조회",a.jsx("br",{}),"• ",a.jsx("strong",{children:"Application Management"}),": 로그 레벨 변경, 스레드 덤프 등"]})})]})]}),a.jsxs("div",{id:"working-principle",className:"card",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"🎨 동작 원리"}),a.jsx("a",{href:"#table-of-contents",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:"↑ 목차로 가기"})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"주요 Actuator 엔드포인트"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-green-900 mb-3",children:"📊 모니터링 엔드포인트"}),a.jsxs("ul",{className:"text-sm text-green-800 space-y-1",children:[a.jsxs("li",{children:["• ",a.jsx("code",{children:"/health"})," - 애플리케이션 상태"]}),a.jsxs("li",{children:["• ",a.jsx("code",{children:"/metrics"})," - 성능 메트릭"]}),a.jsxs("li",{children:["• ",a.jsx("code",{children:"/prometheus"})," - Prometheus 형식 메트릭"]}),a.jsxs("li",{children:["• ",a.jsx("code",{children:"/info"})," - 애플리케이션 정보"]})]})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-blue-900 mb-3",children:"🔧 관리 엔드포인트"}),a.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[a.jsxs("li",{children:["• ",a.jsx("code",{children:"/env"})," - 환경 설정 정보"]}),a.jsxs("li",{children:["• ",a.jsx("code",{children:"/loggers"})," - 로그 레벨 조회/변경"]}),a.jsxs("li",{children:["• ",a.jsx("code",{children:"/beans"})," - Spring Bean 정보"]}),a.jsxs("li",{children:["• ",a.jsx("code",{children:"/configprops"})," - 설정 속성"]})]})]})]})]})]}),a.jsxs("div",{id:"benefits",className:"card",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"✨ 이점"}),a.jsx("a",{href:"#table-of-contents",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:"↑ 목차로 가기"})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-green-900 mb-3",children:"📈 운영 가시성"}),a.jsxs("ul",{className:"text-sm text-green-800 space-y-2",children:[a.jsxs("li",{children:["• ",a.jsx("strong",{children:"실시간 모니터링"})," - 애플리케이션 상태 실시간 확인"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"성능 메트릭"})," - CPU, 메모리, DB 연결 등 핵심 지표"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"비즈니스 메트릭"})," - 사용자 정의 비즈니스 지표 수집"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"트렌드 분석"})," - 시계열 데이터로 성능 추세 파악"]})]})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-blue-900 mb-3",children:"🔧 운영 효율성"}),a.jsxs("ul",{className:"text-sm text-blue-800 space-y-2",children:[a.jsxs("li",{children:["• ",a.jsx("strong",{children:"원격 관리"})," - 서버 접근 없이 애플리케이션 관리"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"동적 설정"})," - 재시작 없이 로그 레벨 등 변경"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"자동화 연동"})," - 모니터링 도구와 쉬운 통합"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"알람 연동"})," - Health Check 실패시 자동 알림"]})]})]})]})]}),a.jsxs("div",{id:"implementation",className:"card",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"💻 구현 예시"}),a.jsx("a",{href:"#table-of-contents",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:"↑ 목차로 가기"})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"🔧 기본 Actuator 설정"}),a.jsxs("div",{className:"bg-gray-100 rounded-lg p-4",children:[a.jsx("h4",{className:"text-md font-medium text-gray-700 mb-3",children:"Maven 의존성"}),a.jsx("pre",{className:"bg-gray-800 text-green-400 p-4 rounded text-sm overflow-x-auto",children:`<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-actuator</artifactId>
</dependency>`})]}),a.jsxs("div",{className:"mt-6 bg-gray-100 rounded-lg p-4",children:[a.jsx("h4",{className:"text-md font-medium text-gray-700 mb-3",children:"application.yml 설정"}),a.jsx("pre",{className:"bg-gray-800 text-green-400 p-4 rounded text-sm overflow-x-auto",children:`management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics,env
  endpoint:
    health:
      enabled: true
      show-details: when-authorized
    info:
      enabled: true`})]})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"🏥 커스텀 Health Indicator"}),a.jsx("div",{className:"bg-gray-100 rounded-lg p-4",children:a.jsx("pre",{className:"bg-gray-800 text-green-400 p-4 rounded text-sm overflow-x-auto",children:`@Component
public class CustomHealthIndicator implements HealthIndicator {

    @Override
    public Health health() {
        try {
            // 커스텀 헬스 체크 로직
            boolean isHealthy = checkExternalService();

            if (isHealthy) {
                return Health.up()
                           .withDetail("service", "External API")
                           .withDetail("status", "Connected")
                           .build();
            } else {
                return Health.down()
                           .withDetail("service", "External API")
                           .withDetail("error", "Connection failed")
                           .build();
            }
        } catch (Exception e) {
            return Health.down(e).build();
        }
    }

    private boolean checkExternalService() {
        // 실제 외부 서비스 체크 로직
        return true;
    }
}`})})]})]}),a.jsxs("div",{id:"best-practices",className:"card",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"🏆 모범 사례"}),a.jsx("a",{href:"#table-of-contents",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:"↑ 목차로 가기"})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"✅ 권장사항"}),a.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:a.jsxs("ul",{className:"text-sm text-green-800 space-y-2",children:[a.jsx("li",{children:"• 운영환경에서는 민감한 엔드포인트 비활성화"}),a.jsx("li",{children:"• 별도 포트 및 HTTPS 사용으로 관리 인터페이스 보호"}),a.jsx("li",{children:"• 인증/권한 설정으로 접근 제어"}),a.jsx("li",{children:"• Health Check에서 민감 정보 노출 방지"}),a.jsx("li",{children:"• 비즈니스 중요 지표를 우선으로 메트릭 설계"}),a.jsx("li",{children:"• 적절한 태그 사용으로 메트릭 분류 및 필터링"})]})})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"❌ 주의사항"}),a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:a.jsxs("ul",{className:"text-sm text-red-800 space-y-2",children:[a.jsx("li",{children:"• 과도한 메트릭 수집으로 인한 성능 저하"}),a.jsx("li",{children:"• Health Check 호출 빈도 최적화 필요"}),a.jsx("li",{children:"• 모든 엔드포인트 기본 노출의 보안 위험"}),a.jsx("li",{children:"• heapdump, threaddump 등 민감 정보 포함"}),a.jsx("li",{children:"• shutdown 엔드포인트 의도치 않은 활성화"}),a.jsx("li",{children:"• 메트릭 데이터 보존 기간 및 용량 관리"})]})})]})]})]}),a.jsxs("div",{id:"references",className:"card",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"📚 추가 참고 자료"}),a.jsx("a",{href:"#table-of-contents",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:"↑ 목차로 가기"})]}),a.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"📖 공식 문서"}),a.jsxs("ul",{className:"text-sm text-gray-700 space-y-2",children:[a.jsxs("li",{children:["• ",a.jsx("a",{href:"https://docs.spring.io/spring-boot/docs/current/reference/html/actuator.html",className:"text-blue-600 hover:text-blue-800",target:"_blank",rel:"noopener noreferrer",children:"Spring Boot Actuator 공식 가이드"})]}),a.jsxs("li",{children:["• ",a.jsx("a",{href:"https://docs.spring.io/spring-boot/docs/current/reference/html/actuator.html#actuator.metrics",className:"text-blue-600 hover:text-blue-800",target:"_blank",rel:"noopener noreferrer",children:"Micrometer 메트릭 가이드"})]}),a.jsxs("li",{children:["• ",a.jsx("a",{href:"https://docs.spring.io/spring-boot/docs/current/reference/html/actuator.html#actuator.endpoints.security",className:"text-blue-600 hover:text-blue-800",target:"_blank",rel:"noopener noreferrer",children:"Actuator 보안 설정"})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"🛠️ 모니터링 도구"}),a.jsxs("ul",{className:"text-sm text-gray-700 space-y-2",children:[a.jsxs("li",{children:["• ",a.jsx("a",{href:"https://prometheus.io/",className:"text-blue-600 hover:text-blue-800",target:"_blank",rel:"noopener noreferrer",children:"Prometheus"})," - 메트릭 수집 및 저장"]}),a.jsxs("li",{children:["• ",a.jsx("a",{href:"https://grafana.com/",className:"text-blue-600 hover:text-blue-800",target:"_blank",rel:"noopener noreferrer",children:"Grafana"})," - 메트릭 시각화 및 대시보드"]}),a.jsxs("li",{children:["• ",a.jsx("a",{href:"https://micrometer.io/",className:"text-blue-600 hover:text-blue-800",target:"_blank",rel:"noopener noreferrer",children:"Micrometer"})," - 메트릭 파사드 라이브러리"]}),a.jsx("li",{children:"• Spring Boot Admin - Actuator 기반 관리 UI"})]})]})]})})]})]})]})}function P6(){return a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"설정 가이드"}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"application.yml 설정"}),a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:`# 기본 설정
spring:
  application:
    name: spring-boot-hub
  
  # 데이터베이스 설정
  datasource:
    url: jdbc:h2:mem:testdb
    driver-class-name: org.h2.Driver
    username: sa
    password: 
  
  # JPA 설정
  jpa:
    hibernate:
      ddl-auto: create-drop
    show-sql: true
    properties:
      hibernate:
        format_sql: true
  
  # H2 콘솔 활성화
  h2:
    console:
      enabled: true
      path: /h2-console

# 서버 설정
server:
  port: 8080
  servlet:
    context-path: /api

# 로깅 설정
logging:
  level:
    com.springhub.example: DEBUG
    org.springframework.web: DEBUG
    org.hibernate.SQL: DEBUG
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss} - %msg%n"
    file: "%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n"
  file:
    name: logs/spring-boot-hub.log`})})]}),a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"프로파일별 설정"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"application-dev.yml (개발환경)"}),a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:`spring:
  datasource:
    url: jdbc:h2:mem:devdb
    username: dev
    password: dev123
  
  jpa:
    hibernate:
      ddl-auto: create-drop
    show-sql: true

logging:
  level:
    root: INFO
    com.springhub.example: DEBUG

server:
  port: 8080`})})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"application-prod.yml (운영환경)"}),a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:`spring:
  datasource:
    url: jdbc:postgresql://localhost:5432/springhub
    username: \${DB_USERNAME}
    password: \${DB_PASSWORD}
    driver-class-name: org.postgresql.Driver
  
  jpa:
    hibernate:
      ddl-auto: validate
    show-sql: false
    properties:
      hibernate:
        dialect: org.hibernate.dialect.PostgreSQLDialect

logging:
  level:
    root: WARN
    com.springhub.example: INFO
  file:
    name: logs/spring-boot-hub-prod.log

server:
  port: 8080
  ssl:
    enabled: true
    key-store: classpath:keystore.p12
    key-store-password: \${SSL_PASSWORD}`})})]})]}),a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"커스텀 설정 클래스"}),a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:`@Configuration
@EnableWebSecurity
public class SecurityConfig {
    
    @Bean
    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {
        http
            .authorizeHttpRequests(authz -> authz
                .requestMatchers("/api/public/**").permitAll()
                .requestMatchers("/h2-console/**").permitAll()
                .anyRequest().authenticated()
            )
            .oauth2Login(oauth2 -> oauth2
                .loginPage("/login")
                .defaultSuccessUrl("/dashboard")
            )
            .logout(logout -> logout
                .logoutSuccessUrl("/login?logout")
                .invalidateHttpSession(true)
            )
            .csrf(csrf -> csrf
                .ignoringRequestMatchers("/h2-console/**")
                .ignoringRequestMatchers("/api/**")
            )
            .headers(headers -> headers
                .frameOptions().disable()
            );
        
        return http.build();
    }
    
    @Bean
    public PasswordEncoder passwordEncoder() {
        return new BCryptPasswordEncoder();
    }
}

@Configuration
@EnableJpaRepositories(basePackages = "com.springhub.example.repository")
public class DatabaseConfig {
    
    @Bean
    @Primary
    public DataSource primaryDataSource() {
        return DataSourceBuilder.create()
            .driverClassName("org.h2.Driver")
            .url("jdbc:h2:mem:testdb")
            .username("sa")
            .password("")
            .build();
    }
    
    @Bean
    public JpaTransactionManager transactionManager(EntityManagerFactory emf) {
        return new JpaTransactionManager(emf);
    }
}`})})]})]})]})}function M6(){return a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Maven vs Gradle vs application.yml 완전 비교표"}),a.jsx("div",{className:"mb-8 p-6 bg-blue-50 border-l-4 border-blue-400 rounded",children:a.jsxs("p",{className:"text-blue-800 font-medium",children:["💡 ",a.jsx("strong",{children:"핵심 결론"}),a.jsx("br",{}),"• ",a.jsx("strong",{children:"빌드 도구(Maven/Gradle)"}),": 컴파일/패키징 담당",a.jsx("br",{}),"• ",a.jsx("strong",{children:"application.yml"}),": 런타임 설정 담당",a.jsx("br",{}),"• ",a.jsx("strong",{children:"둘 다 필수"}),": 서로 보완하며 동작",a.jsx("br",{}),"• ",a.jsx("strong",{children:"application.yml은 공통"}),": Maven이든 Gradle이든 항상 사용"]})}),a.jsxs("div",{className:"space-y-12",children:[a.jsxs("section",{className:"card",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"1️⃣ 기본 파일 구성 비교"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full table-auto border-collapse border border-gray-300",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50",children:[a.jsx("th",{className:"border border-gray-300 px-4 py-3 text-left font-semibold",children:"항목"}),a.jsx("th",{className:"border border-gray-300 px-4 py-3 text-left font-semibold",children:"Maven 프로젝트"}),a.jsx("th",{className:"border border-gray-300 px-4 py-3 text-left font-semibold",children:"Gradle 프로젝트"}),a.jsx("th",{className:"border border-gray-300 px-4 py-3 text-left font-semibold",children:"application.yml"})]})}),a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{className:"border border-gray-300 px-4 py-3 font-medium",children:"주요 빌드 파일"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"pom.xml"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"build.gradle"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"❌ (설정 파일)"})]}),a.jsxs("tr",{className:"bg-gray-50",children:[a.jsx("td",{className:"border border-gray-300 px-4 py-3 font-medium",children:"설정 언어"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"XML"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"Groovy/Kotlin DSL"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"YAML (또는 Properties)"})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"border border-gray-300 px-4 py-3 font-medium",children:"파일 위치"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"프로젝트 루트"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"프로젝트 루트"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"src/main/resources/"})]}),a.jsxs("tr",{className:"bg-gray-50",children:[a.jsx("td",{className:"border border-gray-300 px-4 py-3 font-medium",children:"파일 크기"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"📏 중간~큰 (XML)"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"📏 작음 (스크립트)"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"📏 작음 (계층 구조)"})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"border border-gray-300 px-4 py-3 font-medium",children:"스프링부트 통합"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"spring-boot-starter-parent"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"springBoot 플러그인"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"Spring Boot 자체 제공"})]}),a.jsxs("tr",{className:"bg-gray-50",children:[a.jsx("td",{className:"border border-gray-300 px-4 py-3 font-medium",children:"초기 생성"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"Spring Initializr 자동"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"Spring Initializr 자동"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"Spring Initializr 자동"})]})]})]})})]}),a.jsxs("section",{className:"card",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"2️⃣ 의존성 관리 비교 (빌드 파일 + application.yml 연계)"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full table-auto border-collapse border border-gray-300",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50",children:[a.jsx("th",{className:"border border-gray-300 px-4 py-3 text-left font-semibold",children:"기능"}),a.jsx("th",{className:"border border-gray-300 px-4 py-3 text-left font-semibold",children:"Maven (pom.xml)"}),a.jsx("th",{className:"border border-gray-300 px-4 py-3 text-left font-semibold",children:"Gradle (build.gradle)"}),a.jsx("th",{className:"border border-gray-300 px-4 py-3 text-left font-semibold",children:"application.yml"})]})}),a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{className:"border border-gray-300 px-4 py-3 font-medium",children:"의존성 선언"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"<dependencies>"}),a.jsxs("td",{className:"border border-gray-300 px-4 py-3",children:["dependencies ","{ }"]}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"❌ (빌드 도구가 처리)"})]}),a.jsxs("tr",{className:"bg-gray-50",children:[a.jsx("td",{className:"border border-gray-300 px-4 py-3 font-medium",children:"Spring Boot Starter"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"<artifactId>spring-boot-starter-web</artifactId>"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"implementation 'org.springframework.boot:spring-boot-starter-web'"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"❌ (의존성만으로 자동 설정)"})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"border border-gray-300 px-4 py-3 font-medium",children:"프로파일별 설정"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"<profiles> (복잡)"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"gradle.properties"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"✅ spring.profiles.active"})]}),a.jsxs("tr",{className:"bg-gray-50",children:[a.jsx("td",{className:"border border-gray-300 px-4 py-3 font-medium",children:"버전 관리"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"<dependencyManagement>"}),a.jsxs("td",{className:"border border-gray-300 px-4 py-3",children:["dependencyManagement ","{ }"]}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"❌ (빌드 도구가 처리)"})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"border border-gray-300 px-4 py-3 font-medium",children:"의존성 분석"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"mvn dependency:tree"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"./gradlew dependencies"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"❌ (런타임 확인)"})]})]})]})})]}),a.jsxs("section",{className:"card",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"3️⃣ 실제 설정 예제 비교 (동일한 웹 애플리케이션)"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Maven 프로젝트 전체 설정"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"프로젝트 구조"}),a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:`프로젝트 구조
├── pom.xml (빌드 + 의존성)
├── src/
│   └── main/
│       ├── java/com/example/DemoApplication.java
│       └── resources/
│           └── application.yml (애플리케이션 설정)
└── mvnw (Maven Wrapper)`})})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"pom.xml"}),a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:`<dependencies>
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-web</artifactId>
    </dependency>
</dependencies>`})})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Gradle 프로젝트 전체 설정"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"프로젝트 구조"}),a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:`프로젝트 구조
├── build.gradle (빌드 + 의존성)
├── gradle.properties (프로젝트 속성)
├── src/
│   └── main/
│       ├── kotlin/com/example/DemoApplication.kt
│       └── resources/
│           └── application.yml (애플리케이션 설정)
└── gradlew (Gradle Wrapper)`})})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"build.gradle"}),a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:`dependencies {
    implementation 'org.springframework.boot:spring-boot-starter-web'
}`})})]})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"application.yml (공통)"}),a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:`server:
  port: 8080

spring:
  application:
    name: demo-app
  profiles:
    active: dev

logging:
  level:
    com.example: DEBUG`})})]})]}),a.jsxs("section",{className:"card",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"4️⃣ 설정 우선순위와 상호작용"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full table-auto border-collapse border border-gray-300",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50",children:[a.jsx("th",{className:"border border-gray-300 px-4 py-3 text-left font-semibold",children:"설정 항목"}),a.jsx("th",{className:"border border-gray-300 px-4 py-3 text-left font-semibold",children:"Maven (pom.xml)"}),a.jsx("th",{className:"border border-gray-300 px-4 py-3 text-left font-semibold",children:"Gradle (build.gradle)"}),a.jsx("th",{className:"border border-gray-300 px-4 py-3 text-left font-semibold",children:"application.yml"}),a.jsx("th",{className:"border border-gray-300 px-4 py-3 text-left font-semibold",children:"우선순위"})]})}),a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{className:"border border-gray-300 px-4 py-3 font-medium",children:"포트 설정"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"❌"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"❌"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"server.port: 8080"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"🥇 최고"})]}),a.jsxs("tr",{className:"bg-gray-50",children:[a.jsx("td",{className:"border border-gray-300 px-4 py-3 font-medium",children:"의존성 버전"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"<version>2.7.0</version>"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"version '2.7.0'"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"❌"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"🥈 중간"})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"border border-gray-300 px-4 py-3 font-medium",children:"프로파일"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"<activeProfiles>"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"spring.profiles.active"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"spring.profiles.active: dev"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"🥉 동등"})]}),a.jsxs("tr",{className:"bg-gray-50",children:[a.jsx("td",{className:"border border-gray-300 px-4 py-3 font-medium",children:"JVM 옵션"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"<configuration>"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"jvmArgs"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"❌"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"🥈 중간"})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"border border-gray-300 px-4 py-3 font-medium",children:"로깅 레벨"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"❌"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"❌"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"logging.level.root: INFO"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"🥇 최고"})]}),a.jsxs("tr",{className:"bg-gray-50",children:[a.jsx("td",{className:"border border-gray-300 px-4 py-3 font-medium",children:"데이터소스"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"❌"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"❌"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"spring.datasource.url: jdbc:h2:mem:test"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"🥇 최고"})]})]})]})})]}),a.jsxs("section",{className:"card",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"5️⃣ 프로파일 관리 비교 (환경별 설정)"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full table-auto border-collapse border border-gray-300",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50",children:[a.jsx("th",{className:"border border-gray-300 px-4 py-3 text-left font-semibold",children:"환경"}),a.jsx("th",{className:"border border-gray-300 px-4 py-3 text-left font-semibold",children:"Maven"}),a.jsx("th",{className:"border border-gray-300 px-4 py-3 text-left font-semibold",children:"Gradle"}),a.jsx("th",{className:"border border-gray-300 px-4 py-3 text-left font-semibold",children:"application.yml"})]})}),a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{className:"border border-gray-300 px-4 py-3 font-medium",children:"개발 (dev)"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"<profile><id>dev</id>"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"spring.profiles.active=dev"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"spring.profiles.active=dev"})]}),a.jsxs("tr",{className:"bg-gray-50",children:[a.jsx("td",{className:"border border-gray-300 px-4 py-3 font-medium",children:"운영 (prod)"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"<profile><id>prod</id>"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"build.gradle 조건부"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"application-prod.yml"})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"border border-gray-300 px-4 py-3 font-medium",children:"테스트 (test)"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"<profile><id>test</id>"}),a.jsxs("td",{className:"border border-gray-300 px-4 py-3",children:["test ","{ }"," 블록"]}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"application-test.yml"})]}),a.jsxs("tr",{className:"bg-gray-50",children:[a.jsx("td",{className:"border border-gray-300 px-4 py-3 font-medium",children:"관리 복잡도"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"🔴 높음"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"🟡 중간"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"🟢 낮음"})]})]})]})}),a.jsxs("div",{className:"mt-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"실제 프로파일 예제 (application.yml 방식 - 추천)"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"기본 설정 (application.yml)"}),a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:`spring:
  profiles:
    active: dev`})})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"개발 환경 (application-dev.yml)"}),a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:`server:
  port: 8080
spring:
  datasource:
    url: jdbc:h2:mem:devdb`})})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"운영 환경 (application-prod.yml)"}),a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:`server:
  port: 80
spring:
  datasource:
    url: jdbc:mysql://prod-db:3306/myapp`})})]})]})]})]})]}),a.jsxs("section",{className:"card",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"6️⃣ 파일별 역할과 상호작용 다이어그램"}),a.jsx("div",{className:"bg-gray-50 p-6 rounded-lg",children:a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:`┌─────────────────┐    ┌──────────────────┐    ┌─────────────────┐
│   pom.xml       │    │  build.gradle    │    │ application.yml │
│  (Maven)        │    │  (Gradle)        │    │ (공통)          │
├─────────────────┤    ├──────────────────┤    ├─────────────────┤
│ • 의존성 관리   │    │ • 의존성 관리    │    │ • 서버 설정     │
│ • 빌드 설정     │    │ • 빌드 태스크    │    │ • DB 설정       │
│ • 플러그인      │    │ • Kotlin 통합    │    │ • 로깅 설정     │
│ • 버전 관리     │    │ • 커스텀 태스크  │    │ • 프로파일      │
└─────────────────┘    └──────────────────┘    └─────────────────┘
         │                       │                       │
         └──────────┬────────────┘                       │
                    │                                     │
              ┌─────▼─────┐                         ┌─────▼─────┐
              │ Spring   │                         │ Spring    │
              │ Boot     │◄───────────────────────│Boot Auto- │
              │ Starter  │    (의존성 제공)        │Config     │
              └──────────┘                         └───────────┘`})})})]}),a.jsxs("section",{className:"card",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"7️⃣ 실전 선택 가이드 (3파일 조합 관점)"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full table-auto border-collapse border border-gray-300",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50",children:[a.jsx("th",{className:"border border-gray-300 px-4 py-3 text-left font-semibold",children:"상황"}),a.jsx("th",{className:"border border-gray-300 px-4 py-3 text-left font-semibold",children:"Maven + application.yml"}),a.jsx("th",{className:"border border-gray-300 px-4 py-3 text-left font-semibold",children:"Gradle + application.yml"})]})}),a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{className:"border border-gray-300 px-4 py-3 font-medium",children:"🎯 초보자"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"✅ 추천 (pom.xml 구조 단순)"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"⚠️ Kotlin 시 추천"})]}),a.jsxs("tr",{className:"bg-gray-50",children:[a.jsx("td",{className:"border border-gray-300 px-4 py-3 font-medium",children:"⚡ 빌드 속도"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"❌"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"✅ 빠른 빌드 필요 시"})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"border border-gray-300 px-4 py-3 font-medium",children:"📁 설정 관리"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"🟡 중간 (XML + YAML)"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"🟢 좋음 (스크립트 + YAML)"})]}),a.jsxs("tr",{className:"bg-gray-50",children:[a.jsx("td",{className:"border border-gray-300 px-4 py-3 font-medium",children:"🏢 팀 환경"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"✅ 기존 Maven 팀"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"⚠️ 새로운 팀"})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"border border-gray-300 px-4 py-3 font-medium",children:"🔧 유연성"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"❌"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"✅ 커스텀 빌드 필요 시"})]}),a.jsxs("tr",{className:"bg-gray-50",children:[a.jsx("td",{className:"border border-gray-300 px-4 py-3 font-medium",children:"📚 문서화"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"✅ 풍부함"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"🟡 증가 중"})]})]})]})})]}),a.jsxs("section",{className:"card",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"8️⃣ 실제 실행 명령어 비교"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full table-auto border-collapse border border-gray-300",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50",children:[a.jsx("th",{className:"border border-gray-300 px-4 py-3 text-left font-semibold",children:"작업"}),a.jsx("th",{className:"border border-gray-300 px-4 py-3 text-left font-semibold",children:"Maven"}),a.jsx("th",{className:"border border-gray-300 px-4 py-3 text-left font-semibold",children:"Gradle"})]})}),a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{className:"border border-gray-300 px-4 py-3 font-medium",children:"프로젝트 빌드"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:a.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded",children:"mvn clean install"})}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:a.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded",children:"./gradlew build"})})]}),a.jsxs("tr",{className:"bg-gray-50",children:[a.jsx("td",{className:"border border-gray-300 px-4 py-3 font-medium",children:"애플리케이션 실행"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:a.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded",children:"mvn spring-boot:run"})}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:a.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded",children:"./gradlew bootRun"})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"border border-gray-300 px-4 py-3 font-medium",children:"프로파일 지정"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:a.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded text-xs",children:"mvn spring-boot:run -Dspring.profiles.active=prod"})}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:a.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded text-xs",children:"./gradlew bootRun --args='--spring.profiles.active=prod'"})})]}),a.jsxs("tr",{className:"bg-gray-50",children:[a.jsx("td",{className:"border border-gray-300 px-4 py-3 font-medium",children:"패키징 (JAR)"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:a.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded",children:"mvn clean package"})}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:a.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded",children:"./gradlew bootJar"})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"border border-gray-300 px-4 py-3 font-medium",children:"의존성 확인"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:a.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded",children:"mvn dependency:tree"})}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:a.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded",children:"./gradlew dependencies"})})]})]})]})})]}),a.jsxs("section",{className:"card",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"9️⃣ 권장 조합과 이유"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-green-50 border-l-4 border-green-400 p-4 rounded",children:[a.jsx("h3",{className:"text-lg font-semibold text-green-800 mb-2",children:"Maven + application.yml"}),a.jsxs("div",{className:"text-green-700",children:[a.jsx("p",{className:"mb-2",children:a.jsx("strong",{children:"이유:"})}),a.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[a.jsx("li",{children:"표준화된 구조"}),a.jsx("li",{children:"풍부한 문서"}),a.jsx("li",{children:"Spring Boot 완벽 통합"})]}),a.jsxs("p",{className:"mt-2",children:[a.jsx("strong",{children:"적합 상황:"})," 🎓 학습, 🏢 기업 환경"]})]})]}),a.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 rounded",children:[a.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-2",children:"Gradle + application.yml"}),a.jsxs("div",{className:"text-blue-700",children:[a.jsx("p",{className:"mb-2",children:a.jsx("strong",{children:"이유:"})}),a.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[a.jsx("li",{children:"빠른 빌드"}),a.jsx("li",{children:"Kotlin 최적화"}),a.jsx("li",{children:"유연한 설정"})]}),a.jsxs("p",{className:"mt-2",children:[a.jsx("strong",{children:"적합 상황:"})," 🚀 스타트업, 💻 Kotlin 개발"]})]})]}),a.jsxs("div",{className:"bg-purple-50 border-l-4 border-purple-400 p-4 rounded",children:[a.jsx("h3",{className:"text-lg font-semibold text-purple-800 mb-2",children:"application.yml 단독"}),a.jsxs("div",{className:"text-purple-700",children:[a.jsx("p",{className:"mb-2",children:a.jsx("strong",{children:"이유:"})}),a.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[a.jsx("li",{children:"런타임 설정 최적화"}),a.jsx("li",{children:"환경별 분리 쉬움"}),a.jsx("li",{children:"가독성 우수"})]}),a.jsxs("p",{className:"mt-2",children:[a.jsx("strong",{children:"적합 상황:"})," 모든 프로젝트"]})]})]})]})]})]})]})}function B6(){return a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"🏛️ Nexus 폐쇄망 스프링부트 완벽 가이드"}),a.jsx("div",{className:"mb-8 p-6 bg-red-50 border-l-4 border-red-400 rounded",children:a.jsxs("p",{className:"text-red-800 font-medium",children:["⚡ ",a.jsx("strong",{children:"폐쇄망 프로젝트 성공의 핵심"}),a.jsx("br",{}),"• ",a.jsx("strong",{children:"초기 설정 시간 최소화"}),": 잘못된 설정으로 인한 하루 이상의 시간 낭비 방지",a.jsx("br",{}),"• ",a.jsx("strong",{children:"즉시 활용 가능한 설정"}),": 복사 붙여넣기로 바로 작동하는 완성형 설정",a.jsx("br",{}),"• ",a.jsx("strong",{children:"환경별 대응"}),": 다양한 Nexus 환경에 맞춘 유연한 설정 템플릿",a.jsx("br",{}),"• ",a.jsx("strong",{children:"트러블슈팅 완비"}),": 자주 발생하는 문제의 즉시 해결 방법 제공"]})}),a.jsxs("div",{className:"space-y-12",children:[a.jsxs("section",{className:"card",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"🚀 5분 빠른 시작 (폐쇄망 전용)"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-semibold text-green-800 mb-4",children:"📋 1단계: 환경 정보 수집 (2분)"}),a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:`# 1. Nexus 서버 접속 테스트
curl -I http://YOUR_NEXUS_URL:8081/

# 2. 인증 테스트 (ID/PW 확인)
curl -u admin:password http://YOUR_NEXUS_URL:8081/service/rest/v1/status

# 3. 레포지토리 구조 확인
curl -u admin:password http://YOUR_NEXUS_URL:8081/service/rest/v1/repositories

# 📝 메모할 정보:
# - Nexus URL: http://nexus.company.com:8081
# - Repository 이름: maven-public (또는 public)
# - 인증 ID/PW: admin/password123`})})]}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-4",children:"⚙️ 2단계: 원클릭 설정 적용 (3분)"}),a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:`# Maven 사용자
mkdir -p ~/.m2
# settings.xml 파일을 아래 템플릿으로 생성

# Gradle 사용자
# gradle.properties 파일을 프로젝트 루트에 생성

# 즉시 테스트
mvn dependency:resolve        # Maven
./gradlew dependencies        # Gradle

# ✅ 성공 시 → Spring Boot 프로젝트 바로 시작 가능!`})})]})]})]}),a.jsxs("section",{className:"card",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"📦 Maven + Nexus 완벽 설정"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"A. 전역 설정 (~/.m2/settings.xml) - 복사해서 바로 사용"}),a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:`<?xml version="1.0" encoding="UTF-8"?>
<settings xmlns="http://maven.apache.org/SETTINGS/1.0.0">

    <!-- 🔧 여기만 수정하세요 -->
    <localRepository>/opt/maven-repo</localRepository>  <!-- 경로 변경 가능 -->

    <!-- 🔐 Nexus 인증 정보 -->
    <servers>
        <server>
            <id>nexus-public</id>
            <username>YOUR_NEXUS_USER</username>          <!-- 수정 필요 -->
            <password>YOUR_NEXUS_PASSWORD</password>      <!-- 수정 필요 -->
        </server>
        <server>
            <id>nexus-releases</id>
            <username>YOUR_NEXUS_USER</username>          <!-- 수정 필요 -->
            <password>YOUR_NEXUS_PASSWORD</password>      <!-- 수정 필요 -->
        </server>
    </servers>

    <!-- 🌐 Nexus 미러 (모든 요청을 Nexus로) -->
    <mirrors>
        <mirror>
            <id>nexus-mirror</id>
            <name>Company Nexus</name>
            <url>http://YOUR_NEXUS_URL:8081/repository/maven-public/</url>  <!-- 수정 필요 -->
            <mirrorOf>central,*</mirrorOf>
        </mirror>
    </mirrors>

    <!-- 🔧 프록시 설정 (필요한 경우만) -->
    <proxies>
        <proxy>
            <id>company-proxy</id>
            <active>true</active>
            <protocol>http</protocol>
            <host>YOUR_PROXY_HOST</host>                   <!-- 수정 필요 -->
            <port>8080</port>                              <!-- 수정 필요 -->
            <nonProxyHosts>localhost|*.company.com|YOUR_NEXUS_HOST</nonProxyHosts>
        </proxy>
    </proxies>
</settings>`})})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"B. 프로젝트 설정 (pom.xml) - 복사해서 바로 사용"}),a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:`<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0">
    <modelVersion>4.0.0</modelVersion>

    <groupId>com.company</groupId>
    <artifactId>nexus-demo</artifactId>
    <version>1.0.0</version>
    <packaging>jar</packaging>

    <!-- 🍃 Spring Boot 부모 -->
    <parent>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-parent</artifactId>
        <version>3.2.0</version>
        <relativePath/>
    </parent>

    <!-- 🔧 Java 버전 -->
    <properties>
        <java.version>17</java.version>
    </properties>

    <!-- 📚 Nexus 레포지토리 (프로젝트별 우선순위) -->
    <repositories>
        <repository>
            <id>nexus-public</id>
            <name>Company Nexus Public</name>
            <url>http://YOUR_NEXUS_URL:8081/repository/maven-public/</url>  <!-- 수정 필요 -->
            <releases><enabled>true</enabled></releases>
            <snapshots><enabled>true</enabled></snapshots>
        </repository>
    </repositories>

    <pluginRepositories>
        <pluginRepository>
            <id>nexus-public</id>
            <name>Company Nexus Public</name>
            <url>http://YOUR_NEXUS_URL:8081/repository/maven-public/</url>  <!-- 수정 필요 -->
        </pluginRepository>
    </pluginRepositories>

    <!-- 🎯 기본 의존성 -->
    <dependencies>
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-web</artifactId>
        </dependency>
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-test</artifactId>
            <scope>test</scope>
        </dependency>
    </dependencies>

    <!-- 🏗️ 빌드 설정 -->
    <build>
        <plugins>
            <plugin>
                <groupId>org.springframework.boot</groupId>
                <artifactId>spring-boot-maven-plugin</artifactId>
            </plugin>
        </plugins>
    </build>
</project>`})})]})]})]}),a.jsxs("section",{className:"card",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"🐘 Gradle + Nexus 완벽 설정"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"A. 프로젝트 설정 (build.gradle) - 복사해서 바로 사용"}),a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:`// 🔧 플러그인 관리 (최우선)
pluginManagement {
    repositories {
        maven {
            name = 'CompanyNexus'
            url = 'http://YOUR_NEXUS_URL:8081/repository/maven-public/'  // 수정 필요
            credentials {
                username = project.findProperty('nexusUsername') ?: 'YOUR_USER'
                password = project.findProperty('nexusPassword') ?: 'YOUR_PASS'
            }
        }
        gradlePluginPortal()
    }
}

// 🍃 Spring Boot 플러그인
plugins {
    id 'org.springframework.boot' version '3.2.0'
    id 'io.spring.dependency-management' version '1.1.4'
    id 'java'
}

// 📋 프로젝트 정보
group = 'com.company'
version = '1.0.0'
java.sourceCompatibility = JavaVersion.VERSION_17

// 📚 의존성 레포지토리
repositories {
    maven {
        name = 'CompanyNexus'
        url = 'http://YOUR_NEXUS_URL:8081/repository/maven-public/'  // 수정 필요
        credentials {
            username = project.findProperty('nexusUsername') ?: 'YOUR_USER'
            password = project.findProperty('nexusPassword') ?: 'YOUR_PASS'
        }
    }
    // 백업용 (Nexus 장애 시)
    mavenCentral()
}

// 🎯 의존성
dependencies {
    implementation 'org.springframework.boot:spring-boot-starter-web'
    testImplementation 'org.springframework.boot:spring-boot-starter-test'
}

// 🧪 테스트 설정
tasks.named('test') {
    useJUnitPlatform()
}`})})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"B. 보안 설정 (gradle.properties) - 프로젝트 루트에 생성"}),a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:`# 🔐 Nexus 인증 정보
nexusUsername=YOUR_NEXUS_USER
nexusPassword=YOUR_NEXUS_PASSWORD

# 🚀 성능 최적화 (폐쇄망 환경)
org.gradle.caching=true
org.gradle.parallel=true
org.gradle.configureondemand=true
org.gradle.jvmargs=-Xmx2g -XX:MaxMetaspaceSize=512m

# 📁 로컬 캐시 경로 (옵션)
gradle.user.home=/opt/gradle-cache

# 🌐 프록시 설정 (필요한 경우만)
systemProp.http.proxyHost=YOUR_PROXY_HOST
systemProp.http.proxyPort=8080
systemProp.http.nonProxyHosts=localhost|*.company.com|YOUR_NEXUS_HOST`})})]})]})]}),a.jsxs("section",{className:"card",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"🔍 즉시 실행 검증 명령어 (폐쇄망 필수)"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-green-800 mb-4",children:"Maven 검증 단계"}),a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:`# 1️⃣ Nexus 연결 확인
mvn help:evaluate -Dexpression=settings.localRepository -q -DforceStdout

# 2️⃣ Spring Boot 다운로드 테스트
mvn dependency:get \\
  -Dartifact=org.springframework.boot:spring-boot-starter-web:3.2.0

# 3️⃣ 의존성 해결 테스트
mvn dependency:resolve -DdownloadSources=true

# 4️⃣ 전체 빌드 검증
mvn clean compile

# 5️⃣ Spring Boot 실행 테스트
mvn spring-boot:run

# 🔧 문제 발생 시 디버그
mvn dependency:resolve -X | grep "Downloading from"`})})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-4",children:"Gradle 검증 단계"}),a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:`# 1️⃣ Gradle 환경 확인
./gradlew --version

# 2️⃣ Nexus 연결 확인
./gradlew dependencies --configuration compileClasspath

# 3️⃣ Spring Boot 의존성 확인
./gradlew dependencies | grep spring-boot

# 4️⃣ 전체 빌드 검증
./gradlew clean build

# 5️⃣ Spring Boot 실행 테스트
./gradlew bootRun

# 🔧 문제 발생 시 디버그
./gradlew build --info | grep "Downloading"`})})]})]})]}),a.jsxs("section",{className:"card",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"🏢 폐쇄망 환경별 설정 템플릿"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full table-auto border-collapse border border-gray-300",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50",children:[a.jsx("th",{className:"border border-gray-300 px-4 py-3 text-left font-semibold",children:"환경 유형"}),a.jsx("th",{className:"border border-gray-300 px-4 py-3 text-left font-semibold",children:"Nexus URL 패턴"}),a.jsx("th",{className:"border border-gray-300 px-4 py-3 text-left font-semibold",children:"Repository 이름"}),a.jsx("th",{className:"border border-gray-300 px-4 py-3 text-left font-semibold",children:"인증 방식"})]})}),a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{className:"border border-gray-300 px-4 py-3 font-medium",children:"🏛️ 대기업"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"https://nexus.company.com:8443"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"maven-public"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"LDAP + SSL"})]}),a.jsxs("tr",{className:"bg-gray-50",children:[a.jsx("td",{className:"border border-gray-300 px-4 py-3 font-medium",children:"🏢 중견기업"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"http://nexus.internal:8081"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"public"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"ID/PW"})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"border border-gray-300 px-4 py-3 font-medium",children:"🚀 스타트업"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"http://10.0.1.100:8081"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"maven-public"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"admin/admin123"})]}),a.jsxs("tr",{className:"bg-gray-50",children:[a.jsx("td",{className:"border border-gray-300 px-4 py-3 font-medium",children:"🔐 보안기관"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"https://artifacts.secure.gov:9443"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"approved-libs"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"인증서 + 토큰"})]})]})]})})]}),a.jsxs("section",{className:"card",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"🚨 폐쇄망 특화 트러블슈팅 (즉시 해결)"}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full table-auto border-collapse border border-gray-300",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50",children:[a.jsx("th",{className:"border border-gray-300 px-4 py-3 text-left font-semibold",children:"에러 증상"}),a.jsx("th",{className:"border border-gray-300 px-4 py-3 text-left font-semibold",children:"원인"}),a.jsx("th",{className:"border border-gray-300 px-4 py-3 text-left font-semibold",children:"즉시 해결 명령어"})]})}),a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{className:"border border-gray-300 px-4 py-3 font-medium",children:'❌ "401 Unauthorized"'}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"인증 정보 오류"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:a.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded text-xs",children:"curl -u user:pass http://nexus.../service/rest/v1/status"})})]}),a.jsxs("tr",{className:"bg-gray-50",children:[a.jsx("td",{className:"border border-gray-300 px-4 py-3 font-medium",children:'❌ "Repository offline"'}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"Nexus 서버 중단"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:a.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded text-xs",children:"telnet nexus.company.com 8081"})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"border border-gray-300 px-4 py-3 font-medium",children:'❌ "PKIX path building failed"'}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"SSL 인증서 문제"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:a.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded text-xs",children:"-Dmaven.wagon.http.ssl.insecure=true"})})]}),a.jsxs("tr",{className:"bg-gray-50",children:[a.jsx("td",{className:"border border-gray-300 px-4 py-3 font-medium",children:'❌ "Artifact not found"'}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"레포지토리 경로 오류"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:a.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded text-xs",children:"curl http://nexus.../repository/maven-public/"})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"border border-gray-300 px-4 py-3 font-medium",children:'❌ "Connection timeout"'}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"방화벽/프록시"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:a.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded text-xs",children:"curl -x proxy:8080 http://nexus.../"})})]})]})]})}),a.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-4",children:"⚡ 긴급 상황 대응 (SSL 우회 - 임시용)"}),a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:`# 🚨 임시 SSL 우회 (개발 환경만 사용)
# Maven
export MAVEN_OPTS="-Dmaven.wagon.http.ssl.insecure=true -Dmaven.wagon.http.ssl.allowall=true"
mvn clean install

# Gradle
export GRADLE_OPTS="-Dorg.gradle.internal.http.ssl.insecure=true"
./gradlew build

# 🔐 보안 권장사항:
# 1. 임시 사용 후 즉시 SSL 인증서 정상화
# 2. 운영 환경에서는 절대 사용 금지
# 3. 인증서 담당자와 즉시 협의`})})]})]})]}),a.jsxs("section",{className:"card",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"⚡ 폐쇄망 성능 최적화 (시간 단축)"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"📁 로컬 캐시 최적화"}),a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:`# Maven 로컬 레포지토리 SSD 이동
mkdir -p /fast-disk/maven-repo
export MAVEN_OPTS="-Dmaven.repo.local=/fast-disk/maven-repo"

# Gradle 캐시 최적화 (gradle.properties)
org.gradle.caching=true
org.gradle.parallel=true
org.gradle.daemon=true
org.gradle.jvmargs=-Xmx4g

# Spring Boot 전체 의존성 사전 다운로드
mvn dependency:go-offline \\
  -DdownloadSources=true \\
  -DdownloadJavadocs=true

# 오프라인 모드 활용
mvn clean install -o  # 오프라인 빌드`})})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"🔄 동기화 스크립트"}),a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:`#!/bin/bash
# nexus-sync.sh - 팀 전체 의존성 동기화

echo "🔄 Spring Boot 의존성 사전 다운로드..."

# 핵심 Spring Boot Starter들
STARTERS=(
    "spring-boot-starter-web"
    "spring-boot-starter-data-jpa"
    "spring-boot-starter-security"
    "spring-boot-starter-test"
    "spring-boot-starter-actuator"
)

for starter in "\${STARTERS[@]}"; do
    echo "⬇️ 다운로드: $starter"
    mvn dependency:get \\
      -Dartifact=org.springframework.boot:$starter:3.2.0
done

echo "✅ 동기화 완료! 오프라인 개발 준비됨"`})})]})]})]}),a.jsxs("section",{className:"card",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"✅ 폐쇄망 환경별 초기 설정 체크리스트"}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-green-800 mb-4",children:"🏛️ 대기업 환경"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{children:"☐"}),a.jsx("span",{children:"LDAP 인증 정보 확인"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{children:"☐"}),a.jsx("span",{children:"SSL 인증서 설치"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{children:"☐"}),a.jsx("span",{children:"프록시 설정 적용"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{children:"☐"}),a.jsx("span",{children:"방화벽 정책 확인"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{children:"☐"}),a.jsx("span",{children:"보안 정책 준수"})]})]})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-4",children:"🏢 중견기업 환경"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{children:"☐"}),a.jsx("span",{children:"Nexus 접속 정보 확인"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{children:"☐"}),a.jsx("span",{children:"기본 인증 설정"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{children:"☐"}),a.jsx("span",{children:"네트워크 연결 테스트"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{children:"☐"}),a.jsx("span",{children:"캐시 디렉토리 설정"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{children:"☐"}),a.jsx("span",{children:"빌드 테스트 실행"})]})]})]}),a.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-purple-800 mb-4",children:"🚀 스타트업 환경"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{children:"☐"}),a.jsx("span",{children:"간단 인증 설정"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{children:"☐"}),a.jsx("span",{children:"로컬 Nexus 구축"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{children:"☐"}),a.jsx("span",{children:"팀 설정 공유"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{children:"☐"}),a.jsx("span",{children:"자동화 스크립트 적용"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{children:"☐"}),a.jsx("span",{children:"문서화 완료"})]})]})]})]})]}),a.jsxs("section",{className:"card",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"🛠️ 환경별 커스텀 설정 생성기"}),a.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"📝 당신의 환경 정보를 입력하세요"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nexus URL"}),a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:"예시: http://nexus.company.com:8081"})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Repository 이름"}),a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:"예시: maven-public, public, central"})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"인증 방식"}),a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:"예시: admin/password, LDAP, Token"})})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"프록시 사용"}),a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:"예시: proxy.company.com:8080"})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SSL 사용"}),a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:"예시: HTTPS, HTTP, 인증서 무시"})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"특수 설정"}),a.jsx("div",{className:"code-block",children:a.jsx("pre",{children:"예시: 포트 변경, 경로 변경"})})]})]})]}),a.jsx("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded",children:a.jsxs("p",{className:"text-blue-800 text-sm",children:["💡 ",a.jsx("strong",{children:"맞춤 설정 제공"}),a.jsx("br",{}),"위 정보를 바탕으로 당신의 환경에 맞는 완성된 settings.xml, build.gradle, gradle.properties 파일을 생성해드립니다. 각 템플릿의 'YOUR_NEXUS_URL', 'YOUR_USER' 등을 실제 값으로 변경하여 사용하세요."]})})]})]}),a.jsxs("section",{className:"card",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"💡 폐쇄망 Nexus 성공 핵심 결론"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-green-50 border-l-4 border-green-400 p-4 rounded",children:[a.jsx("h3",{className:"text-lg font-semibold text-green-800 mb-2",children:"✅ 성공 포인트"}),a.jsxs("ul",{className:"text-green-700 space-y-1 text-sm",children:[a.jsxs("li",{children:["• ",a.jsx("strong",{children:"설정 단순화"}),": maven-public 하나로 모든 해결"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"즉시 테스트"}),": curl + mvn dependency:resolve"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"캐시 최적화"}),": SSD + 사전 다운로드"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"오프라인 준비"}),": go-offline으로 완전 독립"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"팀 공유"}),": 검증된 설정 파일 공유"]})]})]}),a.jsxs("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 rounded",children:[a.jsx("h3",{className:"text-lg font-semibold text-red-800 mb-2",children:"🚨 피해야 할 실수"}),a.jsxs("ul",{className:"text-red-700 space-y-1 text-sm",children:[a.jsxs("li",{children:["• ",a.jsx("strong",{children:"복잡한 미러 설정"}),": mirrorOf=* 사용 금지"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"SSL 무시 남용"}),": 임시용으로만 사용"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"캐시 무시"}),": -U 옵션 남용하지 말 것"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"인증 정보 노출"}),": 코드에 직접 입력 금지"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"환경 혼재"}),": 개발/운영 설정 분리 필수"]})]})]})]}),a.jsx("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded",children:a.jsxs("p",{className:"text-blue-800 text-center font-medium",children:["🎯 ",a.jsx("strong",{children:"폐쇄망 개발의 핵심"}),": 초기 설정을 완벽하게 → 프로젝트 성공의 90%",a.jsx("br",{}),"이 가이드의 템플릿을 복사해서 바로 사용하면 5분 내 Spring Boot 개발 환경 완성!"]})})]})]})]})}function D6(){return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx(DT,{}),a.jsx("main",{children:a.jsxs(jT,{children:[a.jsx(nt,{path:"/",element:a.jsx(OT,{})}),a.jsx(nt,{path:"/gradle",element:a.jsx(IT,{})}),a.jsx(nt,{path:"/maven",element:a.jsx($T,{})}),a.jsx(nt,{path:"/kotlin",element:a.jsx(FT,{})}),a.jsx(nt,{path:"/patterns",element:a.jsx(k6,{})}),a.jsx(nt,{path:"/principles",element:a.jsx(j6,{})}),a.jsx(nt,{path:"/tools",element:a.jsx(_6,{})}),a.jsx(nt,{path:"/principles/auto-configuration",element:a.jsx(N6,{})}),a.jsx(nt,{path:"/principles/ioc-container",element:a.jsx(T6,{})}),a.jsx(nt,{path:"/principles/starters",element:a.jsx(E6,{})}),a.jsx(nt,{path:"/principles/aop",element:a.jsx(A6,{})}),a.jsx(nt,{path:"/principles/conditional",element:a.jsx(R6,{})}),a.jsx(nt,{path:"/principles/actuator",element:a.jsx(L6,{})}),a.jsx(nt,{path:"/config",element:a.jsx(P6,{})}),a.jsx(nt,{path:"/comparison",element:a.jsx(M6,{})}),a.jsx(nt,{path:"/nexus",element:a.jsx(B6,{})})]})})]})}Hd.createRoot(document.getElementById("root")).render(a.jsx(hy.StrictMode,{children:a.jsx(LT,{basename:"/spring-boot-hub",children:a.jsx(D6,{})})}));export{ie as $,Ca as A,WT as B,zb as C,vg as D,xt as E,TO as F,RA as G,uP as H,Sx as I,mM as J,GE as K,gs as L,$6 as M,dA as N,Of as O,Au as P,Px as Q,tP as R,Bl as S,NO as T,Co as U,Kb as V,vA as W,So as X,X as Y,vO as Z,x as _,Xe as a,EC as a$,K3 as a0,Zx as a1,Jx as a2,Q6 as a3,W6 as a4,Y6 as a5,V6 as a6,q6 as a7,Qf as a8,X6 as a9,fO as aA,tD as aB,sO as aC,ug as aD,X0 as aE,z4 as aF,J3 as aG,I6 as aH,oj as aI,ty as aJ,$4 as aK,F4 as aL,Eo as aM,Gf as aN,pi as aO,Ya as aP,Gx as aQ,RL as aR,wn as aS,gO as aT,zC as aU,ju as aV,Eu as aW,$c as aX,HC as aY,UC as aZ,qD as a_,H6 as aa,Bn as ab,J6 as ac,K6 as ad,G6 as ae,pI as af,Jw as ag,l8 as ah,QC as ai,Je as aj,Fi as ak,lg as al,yM as am,k2 as an,_n as ao,ue as ap,Mr as aq,n$ as ar,o8 as as,c8 as at,s8 as au,Z as av,a8 as aw,FI as ax,BI as ay,MI as az,NA as b,J as b0,Wf as b1,dS as b2,$t as b3,ko as b4,kL as b5,fS as b6,z6 as b7,HT as b8,pO as b9,pg as bA,OC as bB,Mp as bC,mO as bD,Tu as bE,Se as bF,nO as ba,Or as bb,OB as bc,dg as bd,OD as be,yO as bf,No as bg,Es as bh,Dc as bi,QD as bj,T$ as bk,_o as bl,Ic as bm,HD as bn,BC as bo,UB as bp,zB as bq,$$ as br,y0 as bs,qB as bt,hg as bu,$B as bv,YB as bw,As as bx,$i as by,p0 as bz,_A as c,ve as d,Ns as e,JC as f,jA as g,ai as h,ar as i,xe as j,Qb as k,I as l,AC as m,TA as n,EA as o,xM as p,RI as q,Z6 as r,kA as s,wA as t,gr as u,U6 as v,RO as w,F6 as x,d8 as y,u8 as z};
